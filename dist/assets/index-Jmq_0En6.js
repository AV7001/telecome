function zw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var cg={exports:{}},Ka={},dg={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=Symbol.for("react.element"),Fw=Symbol.for("react.portal"),$w=Symbol.for("react.fragment"),Uw=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Zw=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Gw=Symbol.for("react.memo"),Kw=Symbol.for("react.lazy"),Jf=Symbol.iterator;function Jw(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var hg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fg=Object.assign,pg={};function Ri(e,t,n){this.props=e,this.context=t,this.refs=pg,this.updater=n||hg}Ri.prototype.isReactComponent={};Ri.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ri.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mg(){}mg.prototype=Ri.prototype;function yd(e,t,n){this.props=e,this.context=t,this.refs=pg,this.updater=n||hg}var wd=yd.prototype=new mg;wd.constructor=yd;fg(wd,Ri.prototype);wd.isPureReactComponent=!0;var Yf=Array.isArray,gg=Object.prototype.hasOwnProperty,xd={current:null},vg={key:!0,ref:!0,__self:!0,__source:!0};function _g(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)gg.call(t,r)&&!vg.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];s.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:oo,type:e,key:o,ref:l,props:s,_owner:xd.current}}function Yw(e,t){return{$$typeof:oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===oo}function Qw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qf=/\/+/g;function uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qw(""+e.key):t.toString(36)}function sa(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case oo:case Fw:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+uu(l,0):r,Yf(s)?(n="",e!=null&&(n=e.replace(Qf,"$&/")+"/"),sa(s,t,n,"",function(f){return f})):s!=null&&(bd(s)&&(s=Yw(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Qf,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Yf(e))for(var c=0;c<e.length;c++){o=e[c];var d=r+uu(o,c);l+=sa(o,t,n,d,s)}else if(d=Jw(e),typeof d=="function")for(e=d.call(e),c=0;!(o=e.next()).done;)o=o.value,d=r+uu(o,c++),l+=sa(o,t,n,d,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ro(e,t,n){if(e==null)return e;var r=[],s=0;return sa(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Xw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},oa={transition:null},ex={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:oa,ReactCurrentOwner:xd};function yg(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ro,forEach:function(e,t,n){Ro(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ro(e,function(){t++}),t},toArray:function(e){return Ro(e,function(t){return t})||[]},only:function(e){if(!bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Ri;re.Fragment=$w;re.Profiler=Ww;re.PureComponent=yd;re.StrictMode=Uw;re.Suspense=qw;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ex;re.act=yg;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fg({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=xd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)gg.call(t,d)&&!vg.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:oo,type:e.type,key:s,ref:o,props:r,_owner:l}};re.createContext=function(e){return e={$$typeof:Vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hw,_context:e},e.Consumer=e};re.createElement=_g;re.createFactory=function(e){var t=_g.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Zw,render:e}};re.isValidElement=bd;re.lazy=function(e){return{$$typeof:Kw,_payload:{_status:-1,_result:e},_init:Xw}};re.memo=function(e,t){return{$$typeof:Gw,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=oa.transition;oa.transition={};try{e()}finally{oa.transition=t}};re.unstable_act=yg;re.useCallback=function(e,t){return it.current.useCallback(e,t)};re.useContext=function(e){return it.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return it.current.useDeferredValue(e)};re.useEffect=function(e,t){return it.current.useEffect(e,t)};re.useId=function(){return it.current.useId()};re.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return it.current.useMemo(e,t)};re.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};re.useRef=function(e){return it.current.useRef(e)};re.useState=function(e){return it.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return it.current.useTransition()};re.version="18.3.1";dg.exports=re;var T=dg.exports;const Ei=_d(T),tx=zw({__proto__:null,default:Ei},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx=T,rx=Symbol.for("react.element"),ix=Symbol.for("react.fragment"),sx=Object.prototype.hasOwnProperty,ox=nx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ax={key:!0,ref:!0,__self:!0,__source:!0};function wg(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)sx.call(t,r)&&!ax.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:rx,type:e,key:o,ref:l,props:s,_owner:ox.current}}Ka.Fragment=ix;Ka.jsx=wg;Ka.jsxs=wg;cg.exports=Ka;var p=cg.exports,xg={exports:{}},bt={},bg={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,K){var R=O.length;O.push(K);e:for(;0<R;){var G=R-1>>>1,oe=O[G];if(0<s(oe,K))O[G]=K,O[R]=oe,R=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var K=O[0],R=O.pop();if(R!==K){O[0]=R;e:for(var G=0,oe=O.length,De=oe>>>1;G<De;){var pe=2*(G+1)-1,le=O[pe],Y=pe+1,ot=O[Y];if(0>s(le,R))Y<oe&&0>s(ot,le)?(O[G]=ot,O[Y]=R,G=Y):(O[G]=le,O[pe]=R,G=pe);else if(Y<oe&&0>s(ot,R))O[G]=ot,O[Y]=R,G=Y;else break e}}return K}function s(O,K){var R=O.sortIndex-K.sortIndex;return R!==0?R:O.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],g=1,v=null,_=3,x=!1,P=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(O){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=O)r(f),K.sortIndex=K.expirationTime,t(d,K);else break;K=n(f)}}function j(O){if(E=!1,k(O),!P)if(n(d)!==null)P=!0,me(M);else{var K=n(f);K!==null&&kt(j,K.startTime-O)}}function M(O,K){P=!1,E&&(E=!1,b(F),F=-1),x=!0;var R=_;try{for(k(K),v=n(d);v!==null&&(!(v.expirationTime>K)||O&&!ce());){var G=v.callback;if(typeof G=="function"){v.callback=null,_=v.priorityLevel;var oe=G(v.expirationTime<=K);K=e.unstable_now(),typeof oe=="function"?v.callback=oe:v===n(d)&&r(d),k(K)}else r(d);v=n(d)}if(v!==null)var De=!0;else{var pe=n(f);pe!==null&&kt(j,pe.startTime-K),De=!1}return De}finally{v=null,_=R,x=!1}}var B=!1,U=null,F=-1,de=5,J=-1;function ce(){return!(e.unstable_now()-J<de)}function W(){if(U!==null){var O=e.unstable_now();J=O;var K=!0;try{K=U(!0,O)}finally{K?V():(B=!1,U=null)}}else B=!1}var V;if(typeof w=="function")V=function(){w(W)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,mt=X.port2;X.port1.onmessage=W,V=function(){mt.postMessage(null)}}else V=function(){I(W,0)};function me(O){U=O,B||(B=!0,V())}function kt(O,K){F=I(function(){O(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){P||x||(P=!0,me(M))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(O){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var R=_;_=K;try{return O()}finally{_=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var R=_;_=O;try{return K()}finally{_=R}},e.unstable_scheduleCallback=function(O,K,R){var G=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?G+R:G):R=G,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=R+oe,O={id:g++,callback:K,priorityLevel:O,startTime:R,expirationTime:oe,sortIndex:-1},R>G?(O.sortIndex=R,t(f,O),n(d)===null&&O===n(f)&&(E?(b(F),F=-1):E=!0,kt(j,R-G))):(O.sortIndex=oe,t(d,O),P||x||(P=!0,me(M))),O},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(O){var K=_;return function(){var R=_;_=K;try{return O.apply(this,arguments)}finally{_=R}}}})(Sg);bg.exports=Sg;var lx=bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=T,xt=lx;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kg=new Set,As={};function Br(e,t){Ti(e,t),Ti(e+"Capture",t)}function Ti(e,t){for(As[e]=t,e=0;e<t.length;e++)kg.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,cx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xf={},ep={};function dx(e){return ec.call(ep,e)?!0:ec.call(Xf,e)?!1:cx.test(e)?ep[e]=!0:(Xf[e]=!0,!1)}function hx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fx(e,t,n,r){if(t===null||typeof t>"u"||hx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sd=/[\-:]([a-z])/g;function kd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sd,kd);Ke[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sd,kd);Ke[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sd,kd);Ke[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ed(e,t,n,r){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fx(t,n,s,r)&&(n=null),r||s===null?dx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),oi=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),Pd=Symbol.for("react.forward_ref"),nc=Symbol.for("react.suspense"),rc=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Pg=Symbol.for("react.offscreen"),tp=Symbol.iterator;function ss(e){return e===null||typeof e!="object"?null:(e=tp&&e[tp]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,cu;function gs(e){if(cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+e}var du=!1;function hu(e,t){if(!e||du)return"";du=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,c=o.length-1;1<=l&&0<=c&&s[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==o[c]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=c);break}}}finally{du=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gs(e):""}function px(e){switch(e.tag){case 5:return gs(e.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 2:case 15:return e=hu(e.type,!1),e;case 11:return e=hu(e.type.render,!1),e;case 1:return e=hu(e.type,!0),e;default:return""}}function ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case oi:return"Portal";case tc:return"Profiler";case Td:return"StrictMode";case nc:return"Suspense";case rc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tg:return(e.displayName||"Context")+".Consumer";case Eg:return(e._context.displayName||"Context")+".Provider";case Pd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cd:return t=e.displayName||null,t!==null?t:ic(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return ic(e(t))}catch{}}return null}function mx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ic(t);case 8:return t===Td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gx(e){var t=Cg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bo(e){e._valueTracker||(e._valueTracker=gx(e))}function Ig(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sc(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function np(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ng(e,t){t=t.checked,t!=null&&Ed(e,"checked",t,!1)}function oc(e,t){Ng(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ac(e,t.type,n):t.hasOwnProperty("defaultValue")&&ac(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ac(e,t,n){(t!=="number"||_a(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vs=Array.isArray;function _i(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ip(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(vs(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function Lg(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fo,Og=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fo=Fo||document.createElement("div"),Fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vx=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){vx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function Ag(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function Mg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ag(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _x=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cc(e,t){if(t){if(_x[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=null;function Id(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fc=null,yi=null,wi=null;function op(e){if(e=uo(e)){if(typeof fc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=el(t),fc(e.stateNode,e.type,t))}}function Dg(e){yi?wi?wi.push(e):wi=[e]:yi=e}function Rg(){if(yi){var e=yi,t=wi;if(wi=yi=null,op(e),t)for(e=0;e<t.length;e++)op(t[e])}}function zg(e,t){return e(t)}function Bg(){}var fu=!1;function Fg(e,t,n){if(fu)return e(t,n);fu=!0;try{return zg(e,t,n)}finally{fu=!1,(yi!==null||wi!==null)&&(Bg(),Rg())}}function Ds(e,t){var n=e.stateNode;if(n===null)return null;var r=el(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var pc=!1;if(yn)try{var os={};Object.defineProperty(os,"passive",{get:function(){pc=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{pc=!1}function yx(e,t,n,r,s,o,l,c,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(g){this.onError(g)}}var Ss=!1,ya=null,wa=!1,mc=null,wx={onError:function(e){Ss=!0,ya=e}};function xx(e,t,n,r,s,o,l,c,d){Ss=!1,ya=null,yx.apply(wx,arguments)}function bx(e,t,n,r,s,o,l,c,d){if(xx.apply(this,arguments),Ss){if(Ss){var f=ya;Ss=!1,ya=null}else throw Error(D(198));wa||(wa=!0,mc=f)}}function Fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ap(e){if(Fr(e)!==e)throw Error(D(188))}function Sx(e){var t=e.alternate;if(!t){if(t=Fr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return ap(s),e;if(o===r)return ap(s),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=o;break}if(c===r){l=!0,r=s,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=s;break}if(c===r){l=!0,r=o,n=s;break}c=c.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Ug(e){return e=Sx(e),e!==null?Wg(e):null}function Wg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wg(e);if(t!==null)return t;e=e.sibling}return null}var Hg=xt.unstable_scheduleCallback,lp=xt.unstable_cancelCallback,kx=xt.unstable_shouldYield,Ex=xt.unstable_requestPaint,Le=xt.unstable_now,Tx=xt.unstable_getCurrentPriorityLevel,Nd=xt.unstable_ImmediatePriority,Vg=xt.unstable_UserBlockingPriority,xa=xt.unstable_NormalPriority,Px=xt.unstable_LowPriority,Zg=xt.unstable_IdlePriority,Ja=null,tn=null;function Cx(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ja,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Lx,Ix=Math.log,Nx=Math.LN2;function Lx(e){return e>>>=0,e===0?32:31-(Ix(e)/Nx|0)|0}var $o=64,Uo=4194304;function _s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ba(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=_s(c):(o&=l,o!==0&&(r=_s(o)))}else l=n&~s,l!==0?r=_s(l):o!==0&&(r=_s(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),s=1<<n,r|=e[n],t&=~s;return r}function jx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ox(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Ut(o),c=1<<l,d=s[l];d===-1?(!(c&n)||c&r)&&(s[l]=jx(c,t)):d<=t&&(e.expiredLanes|=c),o&=~c}}function gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qg(){var e=$o;return $o<<=1,!($o&4194240)&&($o=64),e}function pu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ao(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function Ax(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Ld(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var fe=0;function Gg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kg,jd,Jg,Yg,Qg,vc=!1,Wo=[],Hn=null,Vn=null,Zn=null,Rs=new Map,zs=new Map,Rn=[],Mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function up(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function as(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=uo(t),t!==null&&jd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dx(e,t,n,r,s){switch(t){case"focusin":return Hn=as(Hn,e,t,n,r,s),!0;case"dragenter":return Vn=as(Vn,e,t,n,r,s),!0;case"mouseover":return Zn=as(Zn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Rs.set(o,as(Rs.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,zs.set(o,as(zs.get(o)||null,e,t,n,r,s)),!0}return!1}function Xg(e){var t=kr(e.target);if(t!==null){var n=Fr(t);if(n!==null){if(t=n.tag,t===13){if(t=$g(n),t!==null){e.blockedOn=t,Qg(e.priority,function(){Jg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_c(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hc=r,n.target.dispatchEvent(r),hc=null}else return t=uo(n),t!==null&&jd(t),e.blockedOn=n,!1;t.shift()}return!0}function cp(e,t,n){aa(e)&&n.delete(t)}function Rx(){vc=!1,Hn!==null&&aa(Hn)&&(Hn=null),Vn!==null&&aa(Vn)&&(Vn=null),Zn!==null&&aa(Zn)&&(Zn=null),Rs.forEach(cp),zs.forEach(cp)}function ls(e,t){e.blockedOn===t&&(e.blockedOn=null,vc||(vc=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Rx)))}function Bs(e){function t(s){return ls(s,e)}if(0<Wo.length){ls(Wo[0],e);for(var n=1;n<Wo.length;n++){var r=Wo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hn!==null&&ls(Hn,e),Vn!==null&&ls(Vn,e),Zn!==null&&ls(Zn,e),Rs.forEach(t),zs.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Xg(n),n.blockedOn===null&&Rn.shift()}var xi=En.ReactCurrentBatchConfig,Sa=!0;function zx(e,t,n,r){var s=fe,o=xi.transition;xi.transition=null;try{fe=1,Od(e,t,n,r)}finally{fe=s,xi.transition=o}}function Bx(e,t,n,r){var s=fe,o=xi.transition;xi.transition=null;try{fe=4,Od(e,t,n,r)}finally{fe=s,xi.transition=o}}function Od(e,t,n,r){if(Sa){var s=_c(e,t,n,r);if(s===null)ku(e,t,r,ka,n),up(e,r);else if(Dx(s,e,t,n,r))r.stopPropagation();else if(up(e,r),t&4&&-1<Mx.indexOf(e)){for(;s!==null;){var o=uo(s);if(o!==null&&Kg(o),o=_c(e,t,n,r),o===null&&ku(e,t,r,ka,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ku(e,t,r,null,n)}}var ka=null;function _c(e,t,n,r){if(ka=null,e=Id(r),e=kr(e),e!==null)if(t=Fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ka=e,null}function ev(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tx()){case Nd:return 1;case Vg:return 4;case xa:case Px:return 16;case Zg:return 536870912;default:return 16}default:return 16}}var $n=null,Ad=null,la=null;function tv(){if(la)return la;var e,t=Ad,n=t.length,r,s="value"in $n?$n.value:$n.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return la=s.slice(e,1<r?1-r:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function dp(){return!1}function St(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ho:dp,this.isPropagationStopped=dp,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Md=St(zi),lo=Pe({},zi,{view:0,detail:0}),Fx=St(lo),mu,gu,us,Ya=Pe({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(mu=e.screenX-us.screenX,gu=e.screenY-us.screenY):gu=mu=0,us=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:gu}}),hp=St(Ya),$x=Pe({},Ya,{dataTransfer:0}),Ux=St($x),Wx=Pe({},lo,{relatedTarget:0}),vu=St(Wx),Hx=Pe({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=St(Hx),Zx=Pe({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qx=St(Zx),Gx=Pe({},zi,{data:0}),fp=St(Gx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yx[e])?!!t[e]:!1}function Dd(){return Qx}var Xx=Pe({},lo,{key:function(e){if(e.key){var t=Kx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dd,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e1=St(Xx),t1=Pe({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=St(t1),n1=Pe({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dd}),r1=St(n1),i1=Pe({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),s1=St(i1),o1=Pe({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=St(o1),l1=[9,13,27,32],Rd=yn&&"CompositionEvent"in window,ks=null;yn&&"documentMode"in document&&(ks=document.documentMode);var u1=yn&&"TextEvent"in window&&!ks,nv=yn&&(!Rd||ks&&8<ks&&11>=ks),mp=" ",gp=!1;function rv(e,t){switch(e){case"keyup":return l1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var li=!1;function c1(e,t){switch(e){case"compositionend":return iv(t);case"keypress":return t.which!==32?null:(gp=!0,mp);case"textInput":return e=t.data,e===mp&&gp?null:e;default:return null}}function d1(e,t){if(li)return e==="compositionend"||!Rd&&rv(e,t)?(e=tv(),la=Ad=$n=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nv&&t.locale!=="ko"?null:t.data;default:return null}}var h1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h1[e.type]:t==="textarea"}function sv(e,t,n,r){Dg(r),t=Ea(t,"onChange"),0<t.length&&(n=new Md("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Es=null,Fs=null;function f1(e){gv(e,0)}function Qa(e){var t=di(e);if(Ig(t))return e}function p1(e,t){if(e==="change")return t}var ov=!1;if(yn){var _u;if(yn){var yu="oninput"in document;if(!yu){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),yu=typeof _p.oninput=="function"}_u=yu}else _u=!1;ov=_u&&(!document.documentMode||9<document.documentMode)}function yp(){Es&&(Es.detachEvent("onpropertychange",av),Fs=Es=null)}function av(e){if(e.propertyName==="value"&&Qa(Fs)){var t=[];sv(t,Fs,e,Id(e)),Fg(f1,t)}}function m1(e,t,n){e==="focusin"?(yp(),Es=t,Fs=n,Es.attachEvent("onpropertychange",av)):e==="focusout"&&yp()}function g1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qa(Fs)}function v1(e,t){if(e==="click")return Qa(t)}function _1(e,t){if(e==="input"||e==="change")return Qa(t)}function y1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:y1;function $s(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ec.call(t,s)||!Ht(e[s],t[s]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xp(e,t){var n=wp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wp(n)}}function lv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uv(){for(var e=window,t=_a();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_a(e.document)}return t}function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w1(e){var t=uv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lv(n.ownerDocument.documentElement,n)){if(r!==null&&zd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=xp(n,o);var l=xp(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var x1=yn&&"documentMode"in document&&11>=document.documentMode,ui=null,yc=null,Ts=null,wc=!1;function bp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wc||ui==null||ui!==_a(r)||(r=ui,"selectionStart"in r&&zd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&$s(Ts,r)||(Ts=r,r=Ea(yc,"onSelect"),0<r.length&&(t=new Md("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ui)))}function Vo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},wu={},cv={};yn&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Xa(e){if(wu[e])return wu[e];if(!ci[e])return e;var t=ci[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cv)return wu[e]=t[n];return e}var dv=Xa("animationend"),hv=Xa("animationiteration"),fv=Xa("animationstart"),pv=Xa("transitionend"),mv=new Map,Sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){mv.set(e,t),Br(t,[e])}for(var xu=0;xu<Sp.length;xu++){var bu=Sp[xu],b1=bu.toLowerCase(),S1=bu[0].toUpperCase()+bu.slice(1);sr(b1,"on"+S1)}sr(dv,"onAnimationEnd");sr(hv,"onAnimationIteration");sr(fv,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(pv,"onTransitionEnd");Ti("onMouseEnter",["mouseout","mouseover"]);Ti("onMouseLeave",["mouseout","mouseover"]);Ti("onPointerEnter",["pointerout","pointerover"]);Ti("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function kp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bx(r,t,void 0,e),e.currentTarget=null}function gv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],d=c.instance,f=c.currentTarget;if(c=c.listener,d!==o&&s.isPropagationStopped())break e;kp(s,c,f),o=d}else for(l=0;l<r.length;l++){if(c=r[l],d=c.instance,f=c.currentTarget,c=c.listener,d!==o&&s.isPropagationStopped())break e;kp(s,c,f),o=d}}}if(wa)throw e=mc,wa=!1,mc=null,e}function ye(e,t){var n=t[Ec];n===void 0&&(n=t[Ec]=new Set);var r=e+"__bubble";n.has(r)||(vv(t,e,2,!1),n.add(r))}function Su(e,t,n){var r=0;t&&(r|=4),vv(n,e,r,t)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[Zo]){e[Zo]=!0,kg.forEach(function(n){n!=="selectionchange"&&(k1.has(n)||Su(n,!1,e),Su(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zo]||(t[Zo]=!0,Su("selectionchange",!1,t))}}function vv(e,t,n,r){switch(ev(t)){case 1:var s=zx;break;case 4:s=Bx;break;default:s=Od}n=s.bind(null,t,n,e),s=void 0,!pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ku(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;c!==null;){if(l=kr(c),l===null)return;if(d=l.tag,d===5||d===6){r=o=l;continue e}c=c.parentNode}}r=r.return}Fg(function(){var f=o,g=Id(n),v=[];e:{var _=mv.get(e);if(_!==void 0){var x=Md,P=e;switch(e){case"keypress":if(ua(n)===0)break e;case"keydown":case"keyup":x=e1;break;case"focusin":P="focus",x=vu;break;case"focusout":P="blur",x=vu;break;case"beforeblur":case"afterblur":x=vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=r1;break;case dv:case hv:case fv:x=Vx;break;case pv:x=s1;break;case"scroll":x=Fx;break;case"wheel":x=a1;break;case"copy":case"cut":case"paste":x=qx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=pp}var E=(t&4)!==0,I=!E&&e==="scroll",b=E?_!==null?_+"Capture":null:_;E=[];for(var w=f,k;w!==null;){k=w;var j=k.stateNode;if(k.tag===5&&j!==null&&(k=j,b!==null&&(j=Ds(w,b),j!=null&&E.push(Ws(w,j,k)))),I)break;w=w.return}0<E.length&&(_=new x(_,P,null,n,g),v.push({event:_,listeners:E}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",_&&n!==hc&&(P=n.relatedTarget||n.fromElement)&&(kr(P)||P[wn]))break e;if((x||_)&&(_=g.window===g?g:(_=g.ownerDocument)?_.defaultView||_.parentWindow:window,x?(P=n.relatedTarget||n.toElement,x=f,P=P?kr(P):null,P!==null&&(I=Fr(P),P!==I||P.tag!==5&&P.tag!==6)&&(P=null)):(x=null,P=f),x!==P)){if(E=hp,j="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(E=pp,j="onPointerLeave",b="onPointerEnter",w="pointer"),I=x==null?_:di(x),k=P==null?_:di(P),_=new E(j,w+"leave",x,n,g),_.target=I,_.relatedTarget=k,j=null,kr(g)===f&&(E=new E(b,w+"enter",P,n,g),E.target=k,E.relatedTarget=I,j=E),I=j,x&&P)t:{for(E=x,b=P,w=0,k=E;k;k=ei(k))w++;for(k=0,j=b;j;j=ei(j))k++;for(;0<w-k;)E=ei(E),w--;for(;0<k-w;)b=ei(b),k--;for(;w--;){if(E===b||b!==null&&E===b.alternate)break t;E=ei(E),b=ei(b)}E=null}else E=null;x!==null&&Ep(v,_,x,E,!1),P!==null&&I!==null&&Ep(v,I,P,E,!0)}}e:{if(_=f?di(f):window,x=_.nodeName&&_.nodeName.toLowerCase(),x==="select"||x==="input"&&_.type==="file")var M=p1;else if(vp(_))if(ov)M=_1;else{M=g1;var B=m1}else(x=_.nodeName)&&x.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(M=v1);if(M&&(M=M(e,f))){sv(v,M,n,g);break e}B&&B(e,_,f),e==="focusout"&&(B=_._wrapperState)&&B.controlled&&_.type==="number"&&ac(_,"number",_.value)}switch(B=f?di(f):window,e){case"focusin":(vp(B)||B.contentEditable==="true")&&(ui=B,yc=f,Ts=null);break;case"focusout":Ts=yc=ui=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,bp(v,n,g);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":bp(v,n,g)}var U;if(Rd)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else li?rv(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(nv&&n.locale!=="ko"&&(li||F!=="onCompositionStart"?F==="onCompositionEnd"&&li&&(U=tv()):($n=g,Ad="value"in $n?$n.value:$n.textContent,li=!0)),B=Ea(f,F),0<B.length&&(F=new fp(F,e,null,n,g),v.push({event:F,listeners:B}),U?F.data=U:(U=iv(n),U!==null&&(F.data=U)))),(U=u1?c1(e,n):d1(e,n))&&(f=Ea(f,"onBeforeInput"),0<f.length&&(g=new fp("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:f}),g.data=U))}gv(v,t)})}function Ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ea(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ds(e,n),o!=null&&r.unshift(Ws(e,o,s)),o=Ds(e,t),o!=null&&r.push(Ws(e,o,s))),e=e.return}return r}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ep(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var c=n,d=c.alternate,f=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&f!==null&&(c=f,s?(d=Ds(n,o),d!=null&&l.unshift(Ws(n,d,c))):s||(d=Ds(n,o),d!=null&&l.push(Ws(n,d,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var E1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function Tp(e){return(typeof e=="string"?e:""+e).replace(E1,`
`).replace(T1,"")}function qo(e,t,n){if(t=Tp(t),Tp(e)!==t&&n)throw Error(D(425))}function Ta(){}var xc=null,bc=null;function Sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kc=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(I1)}:kc;function I1(e){setTimeout(function(){throw e})}function Eu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bs(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),en="__reactFiber$"+Bi,Hs="__reactProps$"+Bi,wn="__reactContainer$"+Bi,Ec="__reactEvents$"+Bi,N1="__reactListeners$"+Bi,L1="__reactHandles$"+Bi;function kr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cp(e);e!==null;){if(n=e[en])return n;e=Cp(e)}return t}e=n,n=e.parentNode}return null}function uo(e){return e=e[en]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function el(e){return e[Hs]||null}var Tc=[],hi=-1;function or(e){return{current:e}}function be(e){0>hi||(e.current=Tc[hi],Tc[hi]=null,hi--)}function _e(e,t){hi++,Tc[hi]=e.current,e.current=t}var nr={},et=or(nr),ht=or(!1),Lr=nr;function Pi(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function Pa(){be(ht),be(et)}function Ip(e,t,n){if(et.current!==nr)throw Error(D(168));_e(et,t),_e(ht,n)}function _v(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,mx(e)||"Unknown",s));return Pe({},n,r)}function Ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Lr=et.current,_e(et,e),_e(ht,ht.current),!0}function Np(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=_v(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,be(ht),be(et),_e(et,e)):be(ht),_e(ht,n)}var pn=null,tl=!1,Tu=!1;function yv(e){pn===null?pn=[e]:pn.push(e)}function j1(e){tl=!0,yv(e)}function ar(){if(!Tu&&pn!==null){Tu=!0;var e=0,t=fe;try{var n=pn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,tl=!1}catch(s){throw pn!==null&&(pn=pn.slice(e+1)),Hg(Nd,ar),s}finally{fe=t,Tu=!1}}return null}var fi=[],pi=0,Ia=null,Na=0,Ct=[],It=0,jr=null,mn=1,gn="";function _r(e,t){fi[pi++]=Na,fi[pi++]=Ia,Ia=e,Na=t}function wv(e,t,n){Ct[It++]=mn,Ct[It++]=gn,Ct[It++]=jr,jr=e;var r=mn;e=gn;var s=32-Ut(r)-1;r&=~(1<<s),n+=1;var o=32-Ut(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,mn=1<<32-Ut(t)+s|n<<s|r,gn=o+e}else mn=1<<o|n<<s|r,gn=e}function Bd(e){e.return!==null&&(_r(e,1),wv(e,1,0))}function Fd(e){for(;e===Ia;)Ia=fi[--pi],fi[pi]=null,Na=fi[--pi],fi[pi]=null;for(;e===jr;)jr=Ct[--It],Ct[It]=null,gn=Ct[--It],Ct[It]=null,mn=Ct[--It],Ct[It]=null}var yt=null,_t=null,Se=!1,$t=null;function xv(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,_t=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jr!==null?{id:mn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,_t=null,!0):!1;default:return!1}}function Pc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cc(e){if(Se){var t=_t;if(t){var n=t;if(!Lp(e,t)){if(Pc(e))throw Error(D(418));t=qn(n.nextSibling);var r=yt;t&&Lp(e,t)?xv(r,n):(e.flags=e.flags&-4097|2,Se=!1,yt=e)}}else{if(Pc(e))throw Error(D(418));e.flags=e.flags&-4097|2,Se=!1,yt=e}}}function jp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Go(e){if(e!==yt)return!1;if(!Se)return jp(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sc(e.type,e.memoizedProps)),t&&(t=_t)){if(Pc(e))throw bv(),Error(D(418));for(;t;)xv(e,t),t=qn(t.nextSibling)}if(jp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=yt?qn(e.stateNode.nextSibling):null;return!0}function bv(){for(var e=_t;e;)e=qn(e.nextSibling)}function Ci(){_t=yt=null,Se=!1}function $d(e){$t===null?$t=[e]:$t.push(e)}var O1=En.ReactCurrentBatchConfig;function cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=s.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Op(e){var t=e._init;return t(e._payload)}function Sv(e){function t(b,w){if(e){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function n(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Yn(b,w),b.index=0,b.sibling=null,b}function o(b,w,k){return b.index=k,e?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=2,w):k):(b.flags|=2,w)):(b.flags|=1048576,w)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,w,k,j){return w===null||w.tag!==6?(w=Ou(k,b.mode,j),w.return=b,w):(w=s(w,k),w.return=b,w)}function d(b,w,k,j){var M=k.type;return M===ai?g(b,w,k.props.children,j,k.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===An&&Op(M)===w.type)?(j=s(w,k.props),j.ref=cs(b,w,k),j.return=b,j):(j=ga(k.type,k.key,k.props,null,b.mode,j),j.ref=cs(b,w,k),j.return=b,j)}function f(b,w,k,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Au(k,b.mode,j),w.return=b,w):(w=s(w,k.children||[]),w.return=b,w)}function g(b,w,k,j,M){return w===null||w.tag!==7?(w=Nr(k,b.mode,j,M),w.return=b,w):(w=s(w,k),w.return=b,w)}function v(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ou(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zo:return k=ga(w.type,w.key,w.props,null,b.mode,k),k.ref=cs(b,null,w),k.return=b,k;case oi:return w=Au(w,b.mode,k),w.return=b,w;case An:var j=w._init;return v(b,j(w._payload),k)}if(vs(w)||ss(w))return w=Nr(w,b.mode,k,null),w.return=b,w;Ko(b,w)}return null}function _(b,w,k,j){var M=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return M!==null?null:c(b,w,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case zo:return k.key===M?d(b,w,k,j):null;case oi:return k.key===M?f(b,w,k,j):null;case An:return M=k._init,_(b,w,M(k._payload),j)}if(vs(k)||ss(k))return M!==null?null:g(b,w,k,j,null);Ko(b,k)}return null}function x(b,w,k,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(k)||null,c(w,b,""+j,M);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zo:return b=b.get(j.key===null?k:j.key)||null,d(w,b,j,M);case oi:return b=b.get(j.key===null?k:j.key)||null,f(w,b,j,M);case An:var B=j._init;return x(b,w,k,B(j._payload),M)}if(vs(j)||ss(j))return b=b.get(k)||null,g(w,b,j,M,null);Ko(w,j)}return null}function P(b,w,k,j){for(var M=null,B=null,U=w,F=w=0,de=null;U!==null&&F<k.length;F++){U.index>F?(de=U,U=null):de=U.sibling;var J=_(b,U,k[F],j);if(J===null){U===null&&(U=de);break}e&&U&&J.alternate===null&&t(b,U),w=o(J,w,F),B===null?M=J:B.sibling=J,B=J,U=de}if(F===k.length)return n(b,U),Se&&_r(b,F),M;if(U===null){for(;F<k.length;F++)U=v(b,k[F],j),U!==null&&(w=o(U,w,F),B===null?M=U:B.sibling=U,B=U);return Se&&_r(b,F),M}for(U=r(b,U);F<k.length;F++)de=x(U,b,F,k[F],j),de!==null&&(e&&de.alternate!==null&&U.delete(de.key===null?F:de.key),w=o(de,w,F),B===null?M=de:B.sibling=de,B=de);return e&&U.forEach(function(ce){return t(b,ce)}),Se&&_r(b,F),M}function E(b,w,k,j){var M=ss(k);if(typeof M!="function")throw Error(D(150));if(k=M.call(k),k==null)throw Error(D(151));for(var B=M=null,U=w,F=w=0,de=null,J=k.next();U!==null&&!J.done;F++,J=k.next()){U.index>F?(de=U,U=null):de=U.sibling;var ce=_(b,U,J.value,j);if(ce===null){U===null&&(U=de);break}e&&U&&ce.alternate===null&&t(b,U),w=o(ce,w,F),B===null?M=ce:B.sibling=ce,B=ce,U=de}if(J.done)return n(b,U),Se&&_r(b,F),M;if(U===null){for(;!J.done;F++,J=k.next())J=v(b,J.value,j),J!==null&&(w=o(J,w,F),B===null?M=J:B.sibling=J,B=J);return Se&&_r(b,F),M}for(U=r(b,U);!J.done;F++,J=k.next())J=x(U,b,F,J.value,j),J!==null&&(e&&J.alternate!==null&&U.delete(J.key===null?F:J.key),w=o(J,w,F),B===null?M=J:B.sibling=J,B=J);return e&&U.forEach(function(W){return t(b,W)}),Se&&_r(b,F),M}function I(b,w,k,j){if(typeof k=="object"&&k!==null&&k.type===ai&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case zo:e:{for(var M=k.key,B=w;B!==null;){if(B.key===M){if(M=k.type,M===ai){if(B.tag===7){n(b,B.sibling),w=s(B,k.props.children),w.return=b,b=w;break e}}else if(B.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===An&&Op(M)===B.type){n(b,B.sibling),w=s(B,k.props),w.ref=cs(b,B,k),w.return=b,b=w;break e}n(b,B);break}else t(b,B);B=B.sibling}k.type===ai?(w=Nr(k.props.children,b.mode,j,k.key),w.return=b,b=w):(j=ga(k.type,k.key,k.props,null,b.mode,j),j.ref=cs(b,w,k),j.return=b,b=j)}return l(b);case oi:e:{for(B=k.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(b,w.sibling),w=s(w,k.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else t(b,w);w=w.sibling}w=Au(k,b.mode,j),w.return=b,b=w}return l(b);case An:return B=k._init,I(b,w,B(k._payload),j)}if(vs(k))return P(b,w,k,j);if(ss(k))return E(b,w,k,j);Ko(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,k),w.return=b,b=w):(n(b,w),w=Ou(k,b.mode,j),w.return=b,b=w),l(b)):n(b,w)}return I}var Ii=Sv(!0),kv=Sv(!1),La=or(null),ja=null,mi=null,Ud=null;function Wd(){Ud=mi=ja=null}function Hd(e){var t=La.current;be(La),e._currentValue=t}function Ic(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bi(e,t){ja=e,Ud=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Ud!==e)if(e={context:e,memoizedValue:t,next:null},mi===null){if(ja===null)throw Error(D(308));mi=e,ja.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return t}var Er=null;function Vd(e){Er===null?Er=[e]:Er.push(e)}function Ev(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vd(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function Zd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Vd(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function ca(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ld(e,n)}}function Ap(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oa(e,t,n,r){var s=e.updateQueue;Mn=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,f=d.next;d.next=null,l===null?o=f:l.next=f,l=d;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==l&&(c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=d))}if(o!==null){var v=s.baseState;l=0,g=f=d=null,c=o;do{var _=c.lane,x=c.eventTime;if((r&_)===_){g!==null&&(g=g.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var P=e,E=c;switch(_=t,x=n,E.tag){case 1:if(P=E.payload,typeof P=="function"){v=P.call(x,v,_);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=E.payload,_=typeof P=="function"?P.call(x,v,_):P,_==null)break e;v=Pe({},v,_);break e;case 2:Mn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,_=s.effects,_===null?s.effects=[c]:_.push(c))}else x={eventTime:x,lane:_,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(f=g=x,d=v):g=g.next=x,l|=_;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;_=c,c=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(g===null&&(d=v),s.baseState=d,s.firstBaseUpdate=f,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ar|=l,e.lanes=l,e.memoizedState=v}}function Mp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var co={},nn=or(co),Vs=or(co),Zs=or(co);function Tr(e){if(e===co)throw Error(D(174));return e}function qd(e,t){switch(_e(Zs,t),_e(Vs,e),_e(nn,co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uc(t,e)}be(nn),_e(nn,t)}function Ni(){be(nn),be(Vs),be(Zs)}function Pv(e){Tr(Zs.current);var t=Tr(nn.current),n=uc(t,e.type);t!==n&&(_e(Vs,e),_e(nn,n))}function Gd(e){Vs.current===e&&(be(nn),be(Vs))}var Ee=or(0);function Aa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pu=[];function Kd(){for(var e=0;e<Pu.length;e++)Pu[e]._workInProgressVersionPrimary=null;Pu.length=0}var da=En.ReactCurrentDispatcher,Cu=En.ReactCurrentBatchConfig,Or=0,Te=null,Re=null,Ue=null,Ma=!1,Ps=!1,qs=0,A1=0;function Je(){throw Error(D(321))}function Jd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function Yd(e,t,n,r,s,o){if(Or=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?z1:B1,e=n(r,s),Ps){o=0;do{if(Ps=!1,qs=0,25<=o)throw Error(D(301));o+=1,Ue=Re=null,t.updateQueue=null,da.current=F1,e=n(r,s)}while(Ps)}if(da.current=Da,t=Re!==null&&Re.next!==null,Or=0,Ue=Re=Te=null,Ma=!1,t)throw Error(D(300));return e}function Qd(){var e=qs!==0;return qs=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Ot(){if(Re===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ue===null?Te.memoizedState:Ue.next;if(t!==null)Ue=t,Re=e;else{if(e===null)throw Error(D(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Gs(e,t){return typeof t=="function"?t(e):t}function Iu(e){var t=Ot(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Re,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var c=l=null,d=null,f=o;do{var g=f.lane;if((Or&g)===g)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var v={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(c=d=v,l=r):d=d.next=v,Te.lanes|=g,Ar|=g}f=f.next}while(f!==null&&f!==o);d===null?l=r:d.next=c,Ht(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Te.lanes|=o,Ar|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nu(e){var t=Ot(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);Ht(o,t.memoizedState)||(dt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Cv(){}function Iv(e,t){var n=Te,r=Ot(),s=t(),o=!Ht(r.memoizedState,s);if(o&&(r.memoizedState=s,dt=!0),r=r.queue,Xd(jv.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Ks(9,Lv.bind(null,n,r,s,t),void 0,null),We===null)throw Error(D(349));Or&30||Nv(n,t,s)}return s}function Nv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lv(e,t,n,r){t.value=n,t.getSnapshot=r,Ov(t)&&Av(e)}function jv(e,t,n){return n(function(){Ov(t)&&Av(e)})}function Ov(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function Av(e){var t=xn(e,1);t!==null&&Wt(t,e,1,-1)}function Dp(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:e},t.queue=e,e=e.dispatch=R1.bind(null,Te,e),[t.memoizedState,e]}function Ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Mv(){return Ot().memoizedState}function ha(e,t,n,r){var s=Xt();Te.flags|=e,s.memoizedState=Ks(1|t,n,void 0,r===void 0?null:r)}function nl(e,t,n,r){var s=Ot();r=r===void 0?null:r;var o=void 0;if(Re!==null){var l=Re.memoizedState;if(o=l.destroy,r!==null&&Jd(r,l.deps)){s.memoizedState=Ks(t,n,o,r);return}}Te.flags|=e,s.memoizedState=Ks(1|t,n,o,r)}function Rp(e,t){return ha(8390656,8,e,t)}function Xd(e,t){return nl(2048,8,e,t)}function Dv(e,t){return nl(4,2,e,t)}function Rv(e,t){return nl(4,4,e,t)}function zv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bv(e,t,n){return n=n!=null?n.concat([e]):null,nl(4,4,zv.bind(null,t,e),n)}function eh(){}function Fv(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $v(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uv(e,t,n){return Or&21?(Ht(n,t)||(n=qg(),Te.lanes|=n,Ar|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function M1(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Cu.transition;Cu.transition={};try{e(!1),t()}finally{fe=n,Cu.transition=r}}function Wv(){return Ot().memoizedState}function D1(e,t,n){var r=Jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hv(e))Vv(t,n);else if(n=Ev(e,t,n,r),n!==null){var s=rt();Wt(n,e,r,s),Zv(n,t,r)}}function R1(e,t,n){var r=Jn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hv(e))Vv(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,n);if(s.hasEagerState=!0,s.eagerState=c,Ht(c,l)){var d=t.interleaved;d===null?(s.next=s,Vd(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=Ev(e,t,s,r),n!==null&&(s=rt(),Wt(n,e,r,s),Zv(n,t,r))}}function Hv(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Vv(e,t){Ps=Ma=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ld(e,n)}}var Da={readContext:jt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},z1={readContext:jt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ha(4194308,4,zv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D1.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Dp,useDebugValue:eh,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Dp(!1),t=e[0];return e=M1.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,s=Xt();if(Se){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),We===null)throw Error(D(349));Or&30||Nv(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Rp(jv.bind(null,r,o,e),[e]),r.flags|=2048,Ks(9,Lv.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xt(),t=We.identifierPrefix;if(Se){var n=gn,r=mn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=A1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B1={readContext:jt,useCallback:Fv,useContext:jt,useEffect:Xd,useImperativeHandle:Bv,useInsertionEffect:Dv,useLayoutEffect:Rv,useMemo:$v,useReducer:Iu,useRef:Mv,useState:function(){return Iu(Gs)},useDebugValue:eh,useDeferredValue:function(e){var t=Ot();return Uv(t,Re.memoizedState,e)},useTransition:function(){var e=Iu(Gs)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Cv,useSyncExternalStore:Iv,useId:Wv,unstable_isNewReconciler:!1},F1={readContext:jt,useCallback:Fv,useContext:jt,useEffect:Xd,useImperativeHandle:Bv,useInsertionEffect:Dv,useLayoutEffect:Rv,useMemo:$v,useReducer:Nu,useRef:Mv,useState:function(){return Nu(Gs)},useDebugValue:eh,useDeferredValue:function(e){var t=Ot();return Re===null?t.memoizedState=e:Uv(t,Re.memoizedState,e)},useTransition:function(){var e=Nu(Gs)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Cv,useSyncExternalStore:Iv,useId:Wv,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return(e=e._reactInternals)?Fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),s=Jn(e),o=vn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,s),t!==null&&(Wt(t,e,s,r),ca(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),s=Jn(e),o=vn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,s),t!==null&&(Wt(t,e,s,r),ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=Jn(e),s=vn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,r),t!==null&&(Wt(t,e,r,n),ca(t,e,r))}};function zp(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!$s(n,r)||!$s(s,o):!0}function qv(e,t,n){var r=!1,s=nr,o=t.contextType;return typeof o=="object"&&o!==null?o=jt(o):(s=ft(t)?Lr:et.current,r=t.contextTypes,o=(r=r!=null)?Pi(e,s):nr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function Lc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zd(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=jt(o):(o=ft(t)?Lr:et.current,s.context=Pi(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Nc(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&rl.enqueueReplaceState(s,s.state,null),Oa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,t){try{var n="",r=t;do n+=px(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Lu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $1=typeof WeakMap=="function"?WeakMap:Map;function Gv(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){za||(za=!0,Uc=r),jc(e,t)},n}function Kv(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){jc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jc(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Fp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=tb.bind(null,e,t,n),t.then(e,e))}function $p(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Up(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Gn(n,t,1))),n.lanes|=1),e)}var U1=En.ReactCurrentOwner,dt=!1;function nt(e,t,n,r){t.child=e===null?kv(t,null,n,r):Ii(t,e.child,n,r)}function Wp(e,t,n,r,s){n=n.render;var o=t.ref;return bi(t,s),r=Yd(e,t,n,r,o,s),n=Qd(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):(Se&&n&&Bd(t),t.flags|=1,nt(e,t,r,s),t.child)}function Hp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!lh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Jv(e,t,o,r,s)):(e=ga(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(l,r)&&e.ref===t.ref)return bn(e,t,s)}return t.flags|=1,e=Yn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Jv(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if($s(o,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,bn(e,t,s)}return Oc(e,t,n,r,s)}function Yv(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(vi,vt),vt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(vi,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(vi,vt),vt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_e(vi,vt),vt|=r;return nt(e,t,s,n),t.child}function Qv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oc(e,t,n,r,s){var o=ft(n)?Lr:et.current;return o=Pi(t,o),bi(t,s),n=Yd(e,t,n,r,o,s),r=Qd(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):(Se&&r&&Bd(t),t.flags|=1,nt(e,t,n,s),t.child)}function Vp(e,t,n,r,s){if(ft(n)){var o=!0;Ca(t)}else o=!1;if(bi(t,s),t.stateNode===null)fa(e,t),qv(t,n,r),Lc(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=jt(f):(f=ft(n)?Lr:et.current,f=Pi(t,f));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||d!==f)&&Bp(t,l,r,f),Mn=!1;var _=t.memoizedState;l.state=_,Oa(t,r,l,s),d=t.memoizedState,c!==r||_!==d||ht.current||Mn?(typeof g=="function"&&(Nc(t,n,g,r),d=t.memoizedState),(c=Mn||zp(t,n,c,r,_,d,f))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=f,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Tv(e,t),c=t.memoizedProps,f=t.type===t.elementType?c:zt(t.type,c),l.props=f,v=t.pendingProps,_=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=jt(d):(d=ft(n)?Lr:et.current,d=Pi(t,d));var x=n.getDerivedStateFromProps;(g=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==v||_!==d)&&Bp(t,l,r,d),Mn=!1,_=t.memoizedState,l.state=_,Oa(t,r,l,s);var P=t.memoizedState;c!==v||_!==P||ht.current||Mn?(typeof x=="function"&&(Nc(t,n,x,r),P=t.memoizedState),(f=Mn||zp(t,n,f,r,_,P,d)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,P,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,P,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),l.props=r,l.state=P,l.context=d,r=f):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Ac(e,t,n,r,o,s)}function Ac(e,t,n,r,s,o){Qv(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Np(t,n,!1),bn(e,t,o);r=t.stateNode,U1.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ii(t,e.child,null,o),t.child=Ii(t,null,c,o)):nt(e,t,c,o),t.memoizedState=r.state,s&&Np(t,n,!0),t.child}function Xv(e){var t=e.stateNode;t.pendingContext?Ip(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ip(e,t.context,!1),qd(e,t.containerInfo)}function Zp(e,t,n,r,s){return Ci(),$d(s),t.flags|=256,nt(e,t,n,r),t.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function e_(e,t,n){var r=t.pendingProps,s=Ee.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(Ee,s&1),e===null)return Cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=ol(l,r,0,null),e=Nr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dc(n),t.memoizedState=Mc,e):th(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return W1(e,t,l,r,c,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Yn(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=Yn(c,o):(o=Nr(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Dc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mc,r}return o=e.child,e=o.sibling,r=Yn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function th(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jo(e,t,n,r){return r!==null&&$d(r),Ii(t,e.child,null,n),e=th(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W1(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Lu(Error(D(422))),Jo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=ol({mode:"visible",children:r.children},s,0,null),o=Nr(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ii(t,e.child,null,l),t.child.memoizedState=Dc(l),t.memoizedState=Mc,o);if(!(t.mode&1))return Jo(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(D(419)),r=Lu(o,r,void 0),Jo(e,t,l,r)}if(c=(l&e.childLanes)!==0,dt||c){if(r=We,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,xn(e,s),Wt(r,e,s,-1))}return ah(),r=Lu(Error(D(421))),Jo(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nb.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,_t=qn(s.nextSibling),yt=t,Se=!0,$t=null,e!==null&&(Ct[It++]=mn,Ct[It++]=gn,Ct[It++]=jr,mn=e.id,gn=e.overflow,jr=t),t=th(t,r.children),t.flags|=4096,t)}function qp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ic(e.return,t,n)}function ju(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function t_(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qp(e,n,t);else if(e.tag===19)qp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Aa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ju(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Aa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ju(t,!0,n,null,o);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function H1(e,t,n){switch(t.tag){case 3:Xv(t),Ci();break;case 5:Pv(t);break;case 1:ft(t.type)&&Ca(t);break;case 4:qd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_e(La,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?e_(e,t,n):(_e(Ee,Ee.current&1),e=bn(e,t,n),e!==null?e.sibling:null);_e(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return t_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Yv(e,t,n)}return bn(e,t,n)}var n_,Rc,r_,i_;n_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rc=function(){};r_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Tr(nn.current);var o=null;switch(n){case"input":s=sc(e,s),r=sc(e,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=lc(e,s),r=lc(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ta)}cc(n,r);var l;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var c=s[f];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(As.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var d=r[f];if(c=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&d!==c&&(d!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(o=o||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(As.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&ye("scroll",e),o||c===d||(o=[])):(o=o||[]).push(f,d))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};i_=function(e,t,n,r){n!==r&&(t.flags|=4)};function ds(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function V1(e,t,n){var r=t.pendingProps;switch(Fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ft(t.type)&&Pa(),Ye(t),null;case 3:return r=t.stateNode,Ni(),be(ht),be(et),Kd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Vc($t),$t=null))),Rc(e,t),Ye(t),null;case 5:Gd(t);var s=Tr(Zs.current);if(n=t.type,e!==null&&t.stateNode!=null)r_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Ye(t),null}if(e=Tr(nn.current),Go(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[en]=t,r[Hs]=o,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<ys.length;s++)ye(ys[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":np(r,o),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ye("invalid",r);break;case"textarea":ip(r,o),ye("invalid",r)}cc(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&qo(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&qo(r.textContent,c,e),s=["children",""+c]):As.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&ye("scroll",r)}switch(n){case"input":Bo(r),rp(r,o,!0);break;case"textarea":Bo(r),sp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ta)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[en]=t,e[Hs]=r,n_(e,t,!1,!1),t.stateNode=e;e:{switch(l=dc(n,r),n){case"dialog":ye("cancel",e),ye("close",e),s=r;break;case"iframe":case"object":case"embed":ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<ys.length;s++)ye(ys[s],e);s=r;break;case"source":ye("error",e),s=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=r;break;case"details":ye("toggle",e),s=r;break;case"input":np(e,r),s=sc(e,r),ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ye("invalid",e);break;case"textarea":ip(e,r),s=lc(e,r),ye("invalid",e);break;default:s=r}cc(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];o==="style"?Mg(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Og(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ms(e,d):typeof d=="number"&&Ms(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(As.hasOwnProperty(o)?d!=null&&o==="onScroll"&&ye("scroll",e):d!=null&&Ed(e,o,d,l))}switch(n){case"input":Bo(e),rp(e,r,!1);break;case"textarea":Bo(e),sp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?_i(e,!!r.multiple,o,!1):r.defaultValue!=null&&_i(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ta)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)i_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Tr(Zs.current),Tr(nn.current),Go(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(o=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return Ye(t),null;case 13:if(be(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&_t!==null&&t.mode&1&&!(t.flags&128))bv(),Ci(),t.flags|=98560,o=!1;else if(o=Go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[en]=t}else Ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else $t!==null&&(Vc($t),$t=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Be===0&&(Be=3):ah())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Ni(),Rc(e,t),e===null&&Us(t.stateNode.containerInfo),Ye(t),null;case 10:return Hd(t.type._context),Ye(t),null;case 17:return ft(t.type)&&Pa(),Ye(t),null;case 19:if(be(Ee),o=t.memoizedState,o===null)return Ye(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)ds(o,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Aa(e),l!==null){for(t.flags|=128,ds(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Ee,Ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>ji&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304)}else{if(!r)if(e=Aa(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ds(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Se)return Ye(t),null}else 2*Le()-o.renderingStartTime>ji&&n!==1073741824&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,n=Ee.current,_e(Ee,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return oh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Z1(e,t){switch(Fd(t),t.tag){case 1:return ft(t.type)&&Pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ni(),be(ht),be(et),Kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gd(t),null;case 13:if(be(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Ee),null;case 4:return Ni(),null;case 10:return Hd(t.type._context),null;case 22:case 23:return oh(),null;case 24:return null;default:return null}}var Yo=!1,Qe=!1,q1=typeof WeakSet=="function"?WeakSet:Set,$=null;function gi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function zc(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var Gp=!1;function G1(e,t){if(xc=Sa,e=uv(),zd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,f=0,g=0,v=e,_=null;t:for(;;){for(var x;v!==n||s!==0&&v.nodeType!==3||(c=l+s),v!==o||r!==0&&v.nodeType!==3||(d=l+r),v.nodeType===3&&(l+=v.nodeValue.length),(x=v.firstChild)!==null;)_=v,v=x;for(;;){if(v===e)break t;if(_===n&&++f===s&&(c=l),_===o&&++g===r&&(d=l),(x=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=x}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(bc={focusedElem:e,selectionRange:n},Sa=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var E=P.memoizedProps,I=P.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?E:zt(t.type,E),I);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Ie(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return P=Gp,Gp=!1,P}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&zc(t,n,o)}s=s.next}while(s!==r)}}function il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function s_(e){var t=e.alternate;t!==null&&(e.alternate=null,s_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Hs],delete t[Ec],delete t[N1],delete t[L1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o_(e){return e.tag===5||e.tag===3||e.tag===4}function Kp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ta));else if(r!==4&&(e=e.child,e!==null))for(Fc(e,t,n),e=e.sibling;e!==null;)Fc(e,t,n),e=e.sibling}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}var Ze=null,Bt=!1;function Nn(e,t,n){for(n=n.child;n!==null;)a_(e,t,n),n=n.sibling}function a_(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ja,n)}catch{}switch(n.tag){case 5:Qe||gi(n,t);case 6:var r=Ze,s=Bt;Ze=null,Nn(e,t,n),Ze=r,Bt=s,Ze!==null&&(Bt?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Bt?(e=Ze,n=n.stateNode,e.nodeType===8?Eu(e.parentNode,n):e.nodeType===1&&Eu(e,n),Bs(e)):Eu(Ze,n.stateNode));break;case 4:r=Ze,s=Bt,Ze=n.stateNode.containerInfo,Bt=!0,Nn(e,t,n),Ze=r,Bt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&zc(n,t,l),s=s.next}while(s!==r)}Nn(e,t,n);break;case 1:if(!Qe&&(gi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ie(n,t,c)}Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Nn(e,t,n),Qe=r):Nn(e,t,n);break;default:Nn(e,t,n)}}function Jp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new q1),t.forEach(function(r){var s=rb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ze=c.stateNode,Bt=!1;break e;case 3:Ze=c.stateNode.containerInfo,Bt=!0;break e;case 4:Ze=c.stateNode.containerInfo,Bt=!0;break e}c=c.return}if(Ze===null)throw Error(D(160));a_(o,l,s),Ze=null,Bt=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(f){Ie(s,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l_(t,e),t=t.sibling}function l_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Yt(e),r&4){try{Cs(3,e,e.return),il(3,e)}catch(E){Ie(e,e.return,E)}try{Cs(5,e,e.return)}catch(E){Ie(e,e.return,E)}}break;case 1:Dt(t,e),Yt(e),r&512&&n!==null&&gi(n,n.return);break;case 5:if(Dt(t,e),Yt(e),r&512&&n!==null&&gi(n,n.return),e.flags&32){var s=e.stateNode;try{Ms(s,"")}catch(E){Ie(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Ng(s,o),dc(c,l);var f=dc(c,o);for(l=0;l<d.length;l+=2){var g=d[l],v=d[l+1];g==="style"?Mg(s,v):g==="dangerouslySetInnerHTML"?Og(s,v):g==="children"?Ms(s,v):Ed(s,g,v,f)}switch(c){case"input":oc(s,o);break;case"textarea":Lg(s,o);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?_i(s,!!o.multiple,x,!1):_!==!!o.multiple&&(o.defaultValue!=null?_i(s,!!o.multiple,o.defaultValue,!0):_i(s,!!o.multiple,o.multiple?[]:"",!1))}s[Hs]=o}catch(E){Ie(e,e.return,E)}}break;case 6:if(Dt(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(E){Ie(e,e.return,E)}}break;case 3:if(Dt(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(E){Ie(e,e.return,E)}break;case 4:Dt(t,e),Yt(e);break;case 13:Dt(t,e),Yt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ih=Le())),r&4&&Jp(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(f=Qe)||g,Dt(t,e),Qe=f):Dt(t,e),Yt(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!g&&e.mode&1)for($=e,g=e.child;g!==null;){for(v=$=g;$!==null;){switch(_=$,x=_.child,_.tag){case 0:case 11:case 14:case 15:Cs(4,_,_.return);break;case 1:gi(_,_.return);var P=_.stateNode;if(typeof P.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(E){Ie(r,n,E)}}break;case 5:gi(_,_.return);break;case 22:if(_.memoizedState!==null){Qp(v);continue}}x!==null?(x.return=_,$=x):Qp(v)}g=g.sibling}e:for(g=null,v=e;;){if(v.tag===5){if(g===null){g=v;try{s=v.stateNode,f?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=v.stateNode,d=v.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Ag("display",l))}catch(E){Ie(e,e.return,E)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=f?"":v.memoizedProps}catch(E){Ie(e,e.return,E)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Dt(t,e),Yt(e),r&4&&Jp(e);break;case 21:break;default:Dt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(o_(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ms(s,""),r.flags&=-33);var o=Kp(e);$c(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=Kp(e);Fc(e,c,l);break;default:throw Error(D(161))}}catch(d){Ie(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function K1(e,t,n){$=e,u_(e)}function u_(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Yo;if(!l){var c=s.alternate,d=c!==null&&c.memoizedState!==null||Qe;c=Yo;var f=Qe;if(Yo=l,(Qe=d)&&!f)for($=s;$!==null;)l=$,d=l.child,l.tag===22&&l.memoizedState!==null?Xp(s):d!==null?(d.return=l,$=d):Xp(s);for(;o!==null;)$=o,u_(o),o=o.sibling;$=s,Yo=c,Qe=f}Yp(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,$=o):Yp(e)}}function Yp(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Mp(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mp(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&Bs(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Qe||t.flags&512&&Bc(t)}catch(_){Ie(t,t.return,_)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Qp(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Xp(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(d){Ie(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){Ie(t,s,d)}}var o=t.return;try{Bc(t)}catch(d){Ie(t,o,d)}break;case 5:var l=t.return;try{Bc(t)}catch(d){Ie(t,l,d)}}}catch(d){Ie(t,t.return,d)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var J1=Math.ceil,Ra=En.ReactCurrentDispatcher,nh=En.ReactCurrentOwner,Lt=En.ReactCurrentBatchConfig,ae=0,We=null,Me=null,Ge=0,vt=0,vi=or(0),Be=0,Js=null,Ar=0,sl=0,rh=0,Is=null,ut=null,ih=0,ji=1/0,dn=null,za=!1,Uc=null,Kn=null,Qo=!1,Un=null,Ba=0,Ns=0,Wc=null,pa=-1,ma=0;function rt(){return ae&6?Le():pa!==-1?pa:pa=Le()}function Jn(e){return e.mode&1?ae&2&&Ge!==0?Ge&-Ge:O1.transition!==null?(ma===0&&(ma=qg()),ma):(e=fe,e!==0||(e=window.event,e=e===void 0?16:ev(e.type)),e):1}function Wt(e,t,n,r){if(50<Ns)throw Ns=0,Wc=null,Error(D(185));ao(e,n,r),(!(ae&2)||e!==We)&&(e===We&&(!(ae&2)&&(sl|=n),Be===4&&zn(e,Ge)),pt(e,r),n===1&&ae===0&&!(t.mode&1)&&(ji=Le()+500,tl&&ar()))}function pt(e,t){var n=e.callbackNode;Ox(e,t);var r=ba(e,e===We?Ge:0);if(r===0)n!==null&&lp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lp(n),t===1)e.tag===0?j1(em.bind(null,e)):yv(em.bind(null,e)),C1(function(){!(ae&6)&&ar()}),n=null;else{switch(Gg(r)){case 1:n=Nd;break;case 4:n=Vg;break;case 16:n=xa;break;case 536870912:n=Zg;break;default:n=xa}n=v_(n,c_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function c_(e,t){if(pa=-1,ma=0,ae&6)throw Error(D(327));var n=e.callbackNode;if(Si()&&e.callbackNode!==n)return null;var r=ba(e,e===We?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fa(e,r);else{t=r;var s=ae;ae|=2;var o=h_();(We!==e||Ge!==t)&&(dn=null,ji=Le()+500,Ir(e,t));do try{X1();break}catch(c){d_(e,c)}while(!0);Wd(),Ra.current=o,ae=s,Me!==null?t=0:(We=null,Ge=0,t=Be)}if(t!==0){if(t===2&&(s=gc(e),s!==0&&(r=s,t=Hc(e,s))),t===1)throw n=Js,Ir(e,0),zn(e,r),pt(e,Le()),n;if(t===6)zn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Y1(s)&&(t=Fa(e,r),t===2&&(o=gc(e),o!==0&&(r=o,t=Hc(e,o))),t===1))throw n=Js,Ir(e,0),zn(e,r),pt(e,Le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:yr(e,ut,dn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=ih+500-Le(),10<t)){if(ba(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=kc(yr.bind(null,e,ut,dn),t);break}yr(e,ut,dn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Ut(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J1(r/1960))-r,10<r){e.timeoutHandle=kc(yr.bind(null,e,ut,dn),r);break}yr(e,ut,dn);break;case 5:yr(e,ut,dn);break;default:throw Error(D(329))}}}return pt(e,Le()),e.callbackNode===n?c_.bind(null,e):null}function Hc(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=Fa(e,t),e!==2&&(t=ut,ut=n,t!==null&&Vc(t)),e}function Vc(e){ut===null?ut=e:ut.push.apply(ut,e)}function Y1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ht(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~rh,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function em(e){if(ae&6)throw Error(D(327));Si();var t=ba(e,0);if(!(t&1))return pt(e,Le()),null;var n=Fa(e,t);if(e.tag!==0&&n===2){var r=gc(e);r!==0&&(t=r,n=Hc(e,r))}if(n===1)throw n=Js,Ir(e,0),zn(e,t),pt(e,Le()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,ut,dn),pt(e,Le()),null}function sh(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(ji=Le()+500,tl&&ar())}}function Mr(e){Un!==null&&Un.tag===0&&!(ae&6)&&Si();var t=ae;ae|=1;var n=Lt.transition,r=fe;try{if(Lt.transition=null,fe=1,e)return e()}finally{fe=r,Lt.transition=n,ae=t,!(ae&6)&&ar()}}function oh(){vt=vi.current,be(vi)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,P1(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Fd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pa();break;case 3:Ni(),be(ht),be(et),Kd();break;case 5:Gd(r);break;case 4:Ni();break;case 13:be(Ee);break;case 19:be(Ee);break;case 10:Hd(r.type._context);break;case 22:case 23:oh()}n=n.return}if(We=e,Me=e=Yn(e.current,null),Ge=vt=t,Be=0,Js=null,rh=sl=Ar=0,ut=Is=null,Er!==null){for(t=0;t<Er.length;t++)if(n=Er[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}Er=null}return e}function d_(e,t){do{var n=Me;try{if(Wd(),da.current=Da,Ma){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ma=!1}if(Or=0,Ue=Re=Te=null,Ps=!1,qs=0,nh.current=null,n===null||n.return===null){Be=1,Js=t,Me=null;break}e:{var o=e,l=n.return,c=n,d=t;if(t=Ge,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,g=c,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var _=g.alternate;_?(g.updateQueue=_.updateQueue,g.memoizedState=_.memoizedState,g.lanes=_.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=$p(l);if(x!==null){x.flags&=-257,Up(x,l,c,o,t),x.mode&1&&Fp(o,f,t),t=x,d=f;var P=t.updateQueue;if(P===null){var E=new Set;E.add(d),t.updateQueue=E}else P.add(d);break e}else{if(!(t&1)){Fp(o,f,t),ah();break e}d=Error(D(426))}}else if(Se&&c.mode&1){var I=$p(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Up(I,l,c,o,t),$d(Li(d,c));break e}}o=d=Li(d,c),Be!==4&&(Be=2),Is===null?Is=[o]:Is.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=Gv(o,d,t);Ap(o,b);break e;case 1:c=d;var w=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Kn===null||!Kn.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Kv(o,c,t);Ap(o,j);break e}}o=o.return}while(o!==null)}p_(n)}catch(M){t=M,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function h_(){var e=Ra.current;return Ra.current=Da,e===null?Da:e}function ah(){(Be===0||Be===3||Be===2)&&(Be=4),We===null||!(Ar&268435455)&&!(sl&268435455)||zn(We,Ge)}function Fa(e,t){var n=ae;ae|=2;var r=h_();(We!==e||Ge!==t)&&(dn=null,Ir(e,t));do try{Q1();break}catch(s){d_(e,s)}while(!0);if(Wd(),ae=n,Ra.current=r,Me!==null)throw Error(D(261));return We=null,Ge=0,Be}function Q1(){for(;Me!==null;)f_(Me)}function X1(){for(;Me!==null&&!kx();)f_(Me)}function f_(e){var t=g_(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?p_(e):Me=t,nh.current=null}function p_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Z1(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Me=null;return}}else if(n=V1(n,t,vt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Be===0&&(Be=5)}function yr(e,t,n){var r=fe,s=Lt.transition;try{Lt.transition=null,fe=1,eb(e,t,n,r)}finally{Lt.transition=s,fe=r}return null}function eb(e,t,n,r){do Si();while(Un!==null);if(ae&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ax(e,o),e===We&&(Me=We=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qo||(Qo=!0,v_(xa,function(){return Si(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Lt.transition,Lt.transition=null;var l=fe;fe=1;var c=ae;ae|=4,nh.current=null,G1(e,n),l_(n,e),w1(bc),Sa=!!xc,bc=xc=null,e.current=n,K1(n),Ex(),ae=c,fe=l,Lt.transition=o}else e.current=n;if(Qo&&(Qo=!1,Un=e,Ba=s),o=e.pendingLanes,o===0&&(Kn=null),Cx(n.stateNode),pt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(za)throw za=!1,e=Uc,Uc=null,e;return Ba&1&&e.tag!==0&&Si(),o=e.pendingLanes,o&1?e===Wc?Ns++:(Ns=0,Wc=e):Ns=0,ar(),null}function Si(){if(Un!==null){var e=Gg(Ba),t=Lt.transition,n=fe;try{if(Lt.transition=null,fe=16>e?16:e,Un===null)var r=!1;else{if(e=Un,Un=null,Ba=0,ae&6)throw Error(D(331));var s=ae;for(ae|=4,$=e.current;$!==null;){var o=$,l=o.child;if($.flags&16){var c=o.deletions;if(c!==null){for(var d=0;d<c.length;d++){var f=c[d];for($=f;$!==null;){var g=$;switch(g.tag){case 0:case 11:case 15:Cs(8,g,o)}var v=g.child;if(v!==null)v.return=g,$=v;else for(;$!==null;){g=$;var _=g.sibling,x=g.return;if(s_(g),g===f){$=null;break}if(_!==null){_.return=x,$=_;break}$=x}}}var P=o.alternate;if(P!==null){var E=P.child;if(E!==null){P.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}$=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,$=l;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cs(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,$=b;break e}$=o.return}}var w=e.current;for($=w;$!==null;){l=$;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,$=k;else e:for(l=w;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:il(9,c)}}catch(M){Ie(c,c.return,M)}if(c===l){$=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,$=j;break e}$=c.return}}if(ae=s,ar(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ja,e)}catch{}r=!0}return r}finally{fe=n,Lt.transition=t}}return!1}function tm(e,t,n){t=Li(n,t),t=Gv(e,t,1),e=Gn(e,t,1),t=rt(),e!==null&&(ao(e,1,t),pt(e,t))}function Ie(e,t,n){if(e.tag===3)tm(e,e,n);else for(;t!==null;){if(t.tag===3){tm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=Li(n,e),e=Kv(t,e,1),t=Gn(t,e,1),e=rt(),t!==null&&(ao(t,1,e),pt(t,e));break}}t=t.return}}function tb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ge&n)===n&&(Be===4||Be===3&&(Ge&130023424)===Ge&&500>Le()-ih?Ir(e,0):rh|=n),pt(e,t)}function m_(e,t){t===0&&(e.mode&1?(t=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):t=1);var n=rt();e=xn(e,t),e!==null&&(ao(e,t,n),pt(e,n))}function nb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),m_(e,n)}function rb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),m_(e,n)}var g_;g_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,H1(e,t,n);dt=!!(e.flags&131072)}else dt=!1,Se&&t.flags&1048576&&wv(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fa(e,t),e=t.pendingProps;var s=Pi(t,et.current);bi(t,n),s=Yd(null,t,r,e,s,n);var o=Qd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(o=!0,Ca(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zd(t),s.updater=rl,t.stateNode=s,s._reactInternals=t,Lc(t,r,e,n),t=Ac(null,t,r,!0,o,n)):(t.tag=0,Se&&o&&Bd(t),nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=sb(r),e=zt(r,e),s){case 0:t=Oc(null,t,r,e,n);break e;case 1:t=Vp(null,t,r,e,n);break e;case 11:t=Wp(null,t,r,e,n);break e;case 14:t=Hp(null,t,r,zt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),Oc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),Vp(e,t,r,s,n);case 3:e:{if(Xv(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Tv(e,t),Oa(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Li(Error(D(423)),t),t=Zp(e,t,r,n,s);break e}else if(r!==s){s=Li(Error(D(424)),t),t=Zp(e,t,r,n,s);break e}else for(_t=qn(t.stateNode.containerInfo.firstChild),yt=t,Se=!0,$t=null,n=kv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ci(),r===s){t=bn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return Pv(t),e===null&&Cc(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,Sc(r,s)?l=null:o!==null&&Sc(r,o)&&(t.flags|=32),Qv(e,t),nt(e,t,l,n),t.child;case 6:return e===null&&Cc(t),null;case 13:return e_(e,t,n);case 4:return qd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ii(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),Wp(e,t,r,s,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,_e(La,r._currentValue),r._currentValue=l,o!==null)if(Ht(o.value,l)){if(o.children===s.children&&!ht.current){t=bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=vn(-1,n&-n),d.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?d.next=d:(d.next=g.next,g.next=d),f.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Ic(o.return,n,t),c.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(D(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Ic(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,bi(t,n),s=jt(s),r=r(s),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,s=zt(r,t.pendingProps),s=zt(r.type,s),Hp(e,t,r,s,n);case 15:return Jv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),fa(e,t),t.tag=1,ft(r)?(e=!0,Ca(t)):e=!1,bi(t,n),qv(t,r,s),Lc(t,r,s,n),Ac(null,t,r,!0,e,n);case 19:return t_(e,t,n);case 22:return Yv(e,t,n)}throw Error(D(156,t.tag))};function v_(e,t){return Hg(e,t)}function ib(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new ib(e,t,n,r)}function lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sb(e){if(typeof e=="function")return lh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pd)return 11;if(e===Cd)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ga(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")lh(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ai:return Nr(n.children,s,o,t);case Td:l=8,s|=8;break;case tc:return e=Nt(12,n,t,s|2),e.elementType=tc,e.lanes=o,e;case nc:return e=Nt(13,n,t,s),e.elementType=nc,e.lanes=o,e;case rc:return e=Nt(19,n,t,s),e.elementType=rc,e.lanes=o,e;case Pg:return ol(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Eg:l=10;break e;case Tg:l=9;break e;case Pd:l=11;break e;case Cd:l=14;break e;case An:l=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Nt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Nr(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function ol(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=Pg,e.lanes=n,e.stateNode={isHidden:!1},e}function Ou(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Au(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ob(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pu(0),this.expirationTimes=pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uh(e,t,n,r,s,o,l,c,d){return e=new ob(e,t,n,c,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(o),e}function ab(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function __(e){if(!e)return nr;e=e._reactInternals;e:{if(Fr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(ft(n))return _v(e,n,t)}return t}function y_(e,t,n,r,s,o,l,c,d){return e=uh(n,r,!0,e,s,o,l,c,d),e.context=__(null),n=e.current,r=rt(),s=Jn(n),o=vn(r,s),o.callback=t??null,Gn(n,o,s),e.current.lanes=s,ao(e,s,r),pt(e,r),e}function al(e,t,n,r){var s=t.current,o=rt(),l=Jn(s);return n=__(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gn(s,t,l),e!==null&&(Wt(e,s,l,o),ca(e,s,l)),l}function $a(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ch(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function lb(){return null}var w_=typeof reportError=="function"?reportError:function(e){console.error(e)};function dh(e){this._internalRoot=e}ll.prototype.render=dh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));al(e,t,null,null)};ll.prototype.unmount=dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){al(null,e,null,null)}),t[wn]=null}};function ll(e){this._internalRoot=e}ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&Xg(e)}};function hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rm(){}function ub(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var f=$a(l);o.call(f)}}var l=y_(t,r,e,0,null,!1,!1,"",rm);return e._reactRootContainer=l,e[wn]=l.current,Us(e.nodeType===8?e.parentNode:e),Mr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var f=$a(d);c.call(f)}}var d=uh(e,0,!1,null,null,!1,!1,"",rm);return e._reactRootContainer=d,e[wn]=d.current,Us(e.nodeType===8?e.parentNode:e),Mr(function(){al(t,d,n,r)}),d}function cl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var c=s;s=function(){var d=$a(l);c.call(d)}}al(t,l,e,s)}else l=ub(n,t,e,s,r);return $a(l)}Kg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_s(t.pendingLanes);n!==0&&(Ld(t,n|1),pt(t,Le()),!(ae&6)&&(ji=Le()+500,ar()))}break;case 13:Mr(function(){var r=xn(e,1);if(r!==null){var s=rt();Wt(r,e,1,s)}}),ch(e,1)}};jd=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=rt();Wt(t,e,134217728,n)}ch(e,134217728)}};Jg=function(e){if(e.tag===13){var t=Jn(e),n=xn(e,t);if(n!==null){var r=rt();Wt(n,e,t,r)}ch(e,t)}};Yg=function(){return fe};Qg=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};fc=function(e,t,n){switch(t){case"input":if(oc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=el(r);if(!s)throw Error(D(90));Ig(r),oc(r,s)}}}break;case"textarea":Lg(e,n);break;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}};zg=sh;Bg=Mr;var cb={usingClientEntryPoint:!1,Events:[uo,di,el,Dg,Rg,sh]},hs={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},db={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ug(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||lb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{Ja=Xo.inject(db),tn=Xo}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cb;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(t))throw Error(D(200));return ab(e,t,null,n)};bt.createRoot=function(e,t){if(!hh(e))throw Error(D(299));var n=!1,r="",s=w_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uh(e,1,!1,null,null,n,!1,r,s),e[wn]=t.current,Us(e.nodeType===8?e.parentNode:e),new dh(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Ug(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Mr(e)};bt.hydrate=function(e,t,n){if(!ul(t))throw Error(D(200));return cl(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!hh(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=w_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=y_(t,null,e,1,n??null,s,!1,o,l),e[wn]=t.current,Us(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ll(t)};bt.render=function(e,t,n){if(!ul(t))throw Error(D(200));return cl(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!ul(e))throw Error(D(40));return e._reactRootContainer?(Mr(function(){cl(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};bt.unstable_batchedUpdates=sh;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ul(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return cl(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function x_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x_)}catch(e){console.error(e)}}x_(),xg.exports=bt;var b_=xg.exports,S_,im=b_;S_=im.createRoot,im.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ys.apply(this,arguments)}var Wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wn||(Wn={}));const sm="popstate";function hb(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:l,hash:c}=r.location;return Zc("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ua(s)}return pb(t,n,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fb(){return Math.random().toString(36).substr(2,8)}function om(e,t){return{usr:e.state,key:e.key,idx:t}}function Zc(e,t,n,r){return n===void 0&&(n=null),Ys({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fi(t):t,{state:n,key:t&&t.key||r||fb()})}function Ua(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pb(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c=Wn.Pop,d=null,f=g();f==null&&(f=0,l.replaceState(Ys({},l.state,{idx:f}),""));function g(){return(l.state||{idx:null}).idx}function v(){c=Wn.Pop;let I=g(),b=I==null?null:I-f;f=I,d&&d({action:c,location:E.location,delta:b})}function _(I,b){c=Wn.Push;let w=Zc(E.location,I,b);f=g()+1;let k=om(w,f),j=E.createHref(w);try{l.pushState(k,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(j)}o&&d&&d({action:c,location:E.location,delta:1})}function x(I,b){c=Wn.Replace;let w=Zc(E.location,I,b);f=g();let k=om(w,f),j=E.createHref(w);l.replaceState(k,"",j),o&&d&&d({action:c,location:E.location,delta:0})}function P(I){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof I=="string"?I:Ua(I);return w=w.replace(/ $/,"%20"),je(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let E={get action(){return c},get location(){return e(s,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(sm,v),d=I,()=>{s.removeEventListener(sm,v),d=null}},createHref(I){return t(s,I)},createURL:P,encodeLocation(I){let b=P(I);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:x,go(I){return l.go(I)}};return E}var am;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(am||(am={}));function mb(e,t,n){return n===void 0&&(n="/"),gb(e,t,n,!1)}function gb(e,t,n,r){let s=typeof t=="string"?Fi(t):t,o=fh(s.pathname||"/",n);if(o==null)return null;let l=E_(e);vb(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Cb(o);c=Tb(l[d],f,r)}return c}function E_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(je(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=Qn([r,d.relativePath]),g=n.concat(d);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),E_(o.children,t,g,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:kb(f,o.index),routesMeta:g})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of T_(o.path))s(o,l,d)}),t}function T_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=T_(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function vb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Eb(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _b=/^:[\w-]+$/,yb=3,wb=2,xb=1,bb=10,Sb=-2,lm=e=>e==="*";function kb(e,t){let n=e.split("/"),r=n.length;return n.some(lm)&&(r+=Sb),t&&(r+=wb),n.filter(s=>!lm(s)).reduce((s,o)=>s+(_b.test(o)?yb:o===""?xb:bb),r)}function Eb(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Tb(e,t,n){let{routesMeta:r}=e,s={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",v=um({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),_=d.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=um({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Qn([o,v.pathname]),pathnameBase:jb(Qn([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Qn([o,v.pathnameBase]))}return l}function um(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Pb(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,g,v)=>{let{paramName:_,isOptional:x}=g;if(_==="*"){let E=c[v]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const P=c[v];return x&&!P?f[_]=void 0:f[_]=(P||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function Pb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),k_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Cb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ib(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Fi(e):e;return{pathname:n?n.startsWith("/")?n:Nb(n,t):t,search:Ob(r),hash:Ab(s)}}function Nb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ph(e,t){let n=Lb(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Fi(e):(s=Ys({},e),je(!s.pathname||!s.pathname.includes("?"),Mu("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),Mu("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),Mu("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let v=t.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}c=v>=0?t[v]:"/"}let d=Ib(s,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}const Qn=e=>e.join("/").replace(/\/\/+/g,"/"),jb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ob=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ab=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const P_=["post","put","patch","delete"];new Set(P_);const Db=["get",...P_];new Set(Db);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(this,arguments)}const gh=T.createContext(null),Rb=T.createContext(null),lr=T.createContext(null),dl=T.createContext(null),Tn=T.createContext({outlet:null,matches:[],isDataRoute:!1}),C_=T.createContext(null);function zb(e,t){let{relative:n}=t===void 0?{}:t;$i()||je(!1);let{basename:r,navigator:s}=T.useContext(lr),{hash:o,pathname:l,search:c}=L_(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Qn([r,l])),s.createHref({pathname:d,search:c,hash:o})}function $i(){return T.useContext(dl)!=null}function ho(){return $i()||je(!1),T.useContext(dl).location}function I_(e){T.useContext(lr).static||T.useLayoutEffect(e)}function Vt(){let{isDataRoute:e}=T.useContext(Tn);return e?Yb():Bb()}function Bb(){$i()||je(!1);let e=T.useContext(gh),{basename:t,future:n,navigator:r}=T.useContext(lr),{matches:s}=T.useContext(Tn),{pathname:o}=ho(),l=JSON.stringify(ph(s,n.v7_relativeSplatPath)),c=T.useRef(!1);return I_(()=>{c.current=!0}),T.useCallback(function(f,g){if(g===void 0&&(g={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let v=mh(f,JSON.parse(l),o,g.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Qn([t,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[t,r,l,o,e])}function N_(){let{matches:e}=T.useContext(Tn),t=e[e.length-1];return t?t.params:{}}function L_(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=T.useContext(lr),{matches:s}=T.useContext(Tn),{pathname:o}=ho(),l=JSON.stringify(ph(s,r.v7_relativeSplatPath));return T.useMemo(()=>mh(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function Fb(e,t){return $b(e,t)}function $b(e,t,n,r){$i()||je(!1);let{navigator:s,static:o}=T.useContext(lr),{matches:l}=T.useContext(Tn),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let g=ho(),v;if(t){var _;let b=typeof t=="string"?Fi(t):t;f==="/"||(_=b.pathname)!=null&&_.startsWith(f)||je(!1),v=b}else v=g;let x=v.pathname||"/",P=x;if(f!=="/"){let b=f.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let E=!o&&n&&n.matches&&n.matches.length>0?n.matches:mb(e,{pathname:P}),I=Zb(E&&E.map(b=>Object.assign({},b,{params:Object.assign({},d,b.params),pathname:Qn([f,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Qn([f,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,r);return t&&I?T.createElement(dl.Provider,{value:{location:Qs({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Wn.Pop}},I):I}function Ub(){let e=Jb(),t=Mb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:s},n):null,null)}const Wb=T.createElement(Ub,null);class Hb extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(Tn.Provider,{value:this.props.routeContext},T.createElement(C_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vb(e){let{routeContext:t,match:n,children:r}=e,s=T.useContext(gh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Tn.Provider,{value:t},r)}function Zb(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);g>=0||je(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:_,errors:x}=n,P=v.route.loader&&_[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||P){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let x,P=!1,E=null,I=null;n&&(x=c&&v.route.id?c[v.route.id]:void 0,E=v.route.errorElement||Wb,d&&(f<0&&_===0?(P=!0,I=null):f===_&&(P=!0,I=v.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,_+1)),w=()=>{let k;return x?k=E:P?k=I:v.route.Component?k=T.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=g,T.createElement(Vb,{match:v,routeContext:{outlet:g,matches:b,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?T.createElement(Hb,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var j_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j_||{}),Wa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wa||{});function qb(e){let t=T.useContext(gh);return t||je(!1),t}function Gb(e){let t=T.useContext(Rb);return t||je(!1),t}function Kb(e){let t=T.useContext(Tn);return t||je(!1),t}function O_(e){let t=Kb(),n=t.matches[t.matches.length-1];return n.route.id||je(!1),n.route.id}function Jb(){var e;let t=T.useContext(C_),n=Gb(Wa.UseRouteError),r=O_(Wa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Yb(){let{router:e}=qb(j_.UseNavigateStable),t=O_(Wa.UseNavigateStable),n=T.useRef(!1);return I_(()=>{n.current=!0}),T.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Qs({fromRouteId:t},o)))},[e,t])}function Qb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qc(e){let{to:t,replace:n,state:r,relative:s}=e;$i()||je(!1);let{future:o,static:l}=T.useContext(lr),{matches:c}=T.useContext(Tn),{pathname:d}=ho(),f=Vt(),g=mh(t,ph(c,o.v7_relativeSplatPath),d,s==="path"),v=JSON.stringify(g);return T.useEffect(()=>f(JSON.parse(v),{replace:n,state:r,relative:s}),[f,v,s,n,r]),null}function Rt(e){je(!1)}function Xb(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Wn.Pop,navigator:o,static:l=!1,future:c}=e;$i()&&je(!1);let d=t.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:d,navigator:o,static:l,future:Qs({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof r=="string"&&(r=Fi(r));let{pathname:g="/",search:v="",hash:_="",state:x=null,key:P="default"}=r,E=T.useMemo(()=>{let I=fh(g,d);return I==null?null:{location:{pathname:I,search:v,hash:_,state:x,key:P},navigationType:s}},[d,g,v,_,x,P,s]);return E==null?null:T.createElement(lr.Provider,{value:f},T.createElement(dl.Provider,{children:n,value:E}))}function eS(e){let{children:t,location:n}=e;return Fb(Gc(t),n)}new Promise(()=>{});function Gc(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,s)=>{if(!T.isValidElement(r))return;let o=[...t,s];if(r.type===T.Fragment){n.push.apply(n,Gc(r.props.children,o));return}r.type!==Rt&&je(!1),!r.props.index||!r.props.children||je(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Gc(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(this,arguments)}function tS(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rS(e,t){return e.button===0&&(!t||t==="_self")&&!nS(e)}const iS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sS="6";try{window.__reactRouterVersion=sS}catch{}const oS="startTransition",cm=tx[oS];function aS(e){let{basename:t,children:n,future:r,window:s}=e,o=T.useRef();o.current==null&&(o.current=hb({window:s,v5Compat:!0}));let l=o.current,[c,d]=T.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},g=T.useCallback(v=>{f&&cm?cm(()=>d(v)):d(v)},[d,f]);return T.useLayoutEffect(()=>l.listen(g),[l,g]),T.useEffect(()=>Qb(r),[r]),T.createElement(Xb,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oi=T.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:g,viewTransition:v}=t,_=tS(t,iS),{basename:x}=T.useContext(lr),P,E=!1;if(typeof f=="string"&&uS.test(f)&&(P=f,lS))try{let k=new URL(window.location.href),j=f.startsWith("//")?new URL(k.protocol+f):new URL(f),M=fh(j.pathname,x);j.origin===k.origin&&M!=null?f=M+j.search+j.hash:E=!0}catch{}let I=zb(f,{relative:s}),b=cS(f,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:v});function w(k){r&&r(k),k.defaultPrevented||b(k)}return T.createElement("a",Kc({},_,{href:P||I,onClick:E||o?r:w,ref:n,target:d}))});var dm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dm||(dm={}));var hm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hm||(hm={}));function cS(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:c}=t===void 0?{}:t,d=Vt(),f=ho(),g=L_(e,{relative:l});return T.useCallback(v=>{if(rS(v,n)){v.preventDefault();let _=r!==void 0?r:Ua(f)===Ua(g);d(e,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[f,d,g,r,s,n,e,o,l,c])}const dS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAWCCBOH3oeHaCMjmv54osnMjmJvMQJqCg",VITE_FIREBASE_APP_ID:"1:351150851012:web:eca2e9e8659d99afc4da91",VITE_FIREBASE_AUTH_DOMAIN:"telecom-8ca2b.firebaseapp.com",VITE_FIREBASE_CLIENT_EMAIL:"firebase-adminsdk-fbsvc@telecom-8ca2b.iam.gserviceaccount.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"351150851012",VITE_FIREBASE_PRIVATE_KEY:`-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDES8rnfyZxRJqx
ixsuj53RcfQfHPItH+GIiAKvGOQyW2wIlD4LmFpFh1cxX8n24CGhLC9F07lg5p8U
OFcJvPj6uh+wQShJMcGf5uC+JnDRMmx4gZM9rErDKLcob5LFAw8BV2ItJtuGhFsv
wgcXEScbxSYzW36JMC1fIlTq+smpBuH4kr5er7pjneP6on/X6yNXfcErztMkczw3
eHlA1h/nKLmuDml8WA1dqKdhgV4WP+nfMajLGpmJcHvRMQf+6CPQJdn1dH0+wqI8
kGClq80YI4wi3QqVZUudfGp4tgcnJYCHoV6vuIEGoWEOkwlrCvSqNxHQx9F9UB5s
5fyEWVZRAgMBAAECggEAR62RcwT4CaZOgoRUMaVZsJBW30GXoSiiF1Pq/vss4MKH
aX6QRXWliPwJt8rNmetv/EWBIZNVfu/XqO+FwNWTaSKrzZWNW2Ti2jvZVzX8PjeW
ak6OcJfIWQk2EHrlcjFSul+pRumIgc806PSF2EN4L2jHMTu4sem4t6N2tLNNDf4E
AmaIpczNdjnVtJLkdEqDP2d68EbUOAa6InhZg74DncZZF/Fnd7/nxyJIwY1SYPcN
fvj5jio4VhxXiyE1aLmL8EfaThhjfS0622Sn1H/MUWZ28PD4J1uZzXjRNxbD3q3i
VLJ9SO29s2SS7DiOSN3g85LS7eGq+IqGVJcQPXPIDQKBgQD1lfEpCmkIG+9SfZDB
ylN5YTPFVosA41euspBl3yavkxobPxumIGCep//ahKjTCV/vLYh7MG20ilfVIXoO
wSHyO2RI2TeVQsD0sEimu/X8YT7RVpyAf8voeaITaXXKuVrgFFL8GJ7Qtl9ebqFl
cZMWuifMpvJSAa/b6cvhIlI3twKBgQDMnsQq5aC+l6nRw9ZJK81kLEgj3YwWeSxj
ilXtfYZpC7B+YXxRHq1QqP4y7bRE2cpE7w8btLcdqvmnWDZlQP6dkA0uPss6qKJE
avEILHHYiDkTQCCmPIpYUEBSavtFLLNI7bf9gX3EXqdVNgjIyl2gzBCywD55Lg2/
0gt0DF+SNwKBgF1rdltoTF/7UGSOw1wUfQB1S15L94CU+qvH3UoDQxIS4SFwNjJR
qq9vtNIJGLd+n3G6XmqOF41P+u1mWKn4KdOdaB6WEqDCzefGjzxtz7r7uwui6NGw
y35Zlp/PxDEjpUAMOy0OqIs4dLrVVqviMlO46J7e+trbLWx4WUgA6EmtAoGBALTB
0/0pGNUFWWkKnTPKVAiX7apxPh1kMchFHh9L8f696s3aBF4MwYItp1EKF2NzGXHH
1Qrem5zDuwMPtA3CWqqJ5Hrj0dghvCbAaeiUioWD4ReWYME5XeUiD5A/HXVARai5
Bv4U9CsSirOFpkDqM8emPWIK3aVi/5ZiUOfVPmAFAoGBANF95WWwn+sOp/JPwR89
T8iG31Ia068CSLQohlEv4Abg25ERGgvFTvBtWih/35ibh0de2p2b8CGYP4UoncvQ
uGAHsOfy8bQhBSr7N/5P2nsOZySLJywBtr8iAkDk4RW664MtGzvT9/710fx33qZ4
mQgQdifvsStDQyvnbQydaRZF
-----END PRIVATE KEY-----
`,VITE_FIREBASE_PROJECT_ID:"telecom-8ca2b",VITE_FIREBASE_SERVER_KEY:"your_server_key",VITE_FIREBASE_VAPID_KEY:"BDUk7NN0GW3pwrg2-djgR6mi5A4--dLyOUppXPC3WCVrTeX4sjTbfr0V_hhKQIhK30SBHFkZb63BrogreC-0zt0",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93anphbHpubGVnYmh5c3N6bWNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwNzA5MTYsImV4cCI6MjA1NDY0NjkxNn0.8agQydJSlXIdvAzw_s3eM47sYnYiMLxGVMiA-q4Ulqo",VITE_SUPABASE_URL:"https://owjzalznlegbhysszmch.supabase.co"},fm=e=>{let t;const n=new Set,r=(g,v)=>{const _=typeof g=="function"?g(t):g;if(!Object.is(_,t)){const x=t;t=v??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(P=>P(t,x))}},s=()=>t,d={setState:r,getState:s,getInitialState:()=>f,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(dS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,s,d);return d},hS=e=>e?fm(e):fm;var A_={exports:{}},M_={},D_={exports:{}},R_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=T;function fS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pS=typeof Object.is=="function"?Object.is:fS,mS=Ai.useState,gS=Ai.useEffect,vS=Ai.useLayoutEffect,_S=Ai.useDebugValue;function yS(e,t){var n=t(),r=mS({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return vS(function(){s.value=n,s.getSnapshot=t,Du(s)&&o({inst:s})},[e,n,t]),gS(function(){return Du(s)&&o({inst:s}),e(function(){Du(s)&&o({inst:s})})},[e]),_S(n),n}function Du(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pS(e,n)}catch{return!0}}function wS(e,t){return t()}var xS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wS:yS;R_.useSyncExternalStore=Ai.useSyncExternalStore!==void 0?Ai.useSyncExternalStore:xS;D_.exports=R_;var bS=D_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=T,SS=bS;function kS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ES=typeof Object.is=="function"?Object.is:kS,TS=SS.useSyncExternalStore,PS=hl.useRef,CS=hl.useEffect,IS=hl.useMemo,NS=hl.useDebugValue;M_.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=PS(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=IS(function(){function d(x){if(!f){if(f=!0,g=x,x=r(x),s!==void 0&&l.hasValue){var P=l.value;if(s(P,x))return v=P}return v=x}if(P=v,ES(g,x))return P;var E=r(x);return s!==void 0&&s(P,E)?(g=x,P):(g=x,v=E)}var f=!1,g,v,_=n===void 0?null:n;return[function(){return d(t())},_===null?void 0:function(){return d(_())}]},[t,n,r,s]);var c=TS(e,o[0],o[1]);return CS(function(){l.hasValue=!0,l.value=c},[c]),NS(c),c};A_.exports=M_;var LS=A_.exports;const jS=_d(LS),z_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAWCCBOH3oeHaCMjmv54osnMjmJvMQJqCg",VITE_FIREBASE_APP_ID:"1:351150851012:web:eca2e9e8659d99afc4da91",VITE_FIREBASE_AUTH_DOMAIN:"telecom-8ca2b.firebaseapp.com",VITE_FIREBASE_CLIENT_EMAIL:"firebase-adminsdk-fbsvc@telecom-8ca2b.iam.gserviceaccount.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"351150851012",VITE_FIREBASE_PRIVATE_KEY:`-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDES8rnfyZxRJqx
ixsuj53RcfQfHPItH+GIiAKvGOQyW2wIlD4LmFpFh1cxX8n24CGhLC9F07lg5p8U
OFcJvPj6uh+wQShJMcGf5uC+JnDRMmx4gZM9rErDKLcob5LFAw8BV2ItJtuGhFsv
wgcXEScbxSYzW36JMC1fIlTq+smpBuH4kr5er7pjneP6on/X6yNXfcErztMkczw3
eHlA1h/nKLmuDml8WA1dqKdhgV4WP+nfMajLGpmJcHvRMQf+6CPQJdn1dH0+wqI8
kGClq80YI4wi3QqVZUudfGp4tgcnJYCHoV6vuIEGoWEOkwlrCvSqNxHQx9F9UB5s
5fyEWVZRAgMBAAECggEAR62RcwT4CaZOgoRUMaVZsJBW30GXoSiiF1Pq/vss4MKH
aX6QRXWliPwJt8rNmetv/EWBIZNVfu/XqO+FwNWTaSKrzZWNW2Ti2jvZVzX8PjeW
ak6OcJfIWQk2EHrlcjFSul+pRumIgc806PSF2EN4L2jHMTu4sem4t6N2tLNNDf4E
AmaIpczNdjnVtJLkdEqDP2d68EbUOAa6InhZg74DncZZF/Fnd7/nxyJIwY1SYPcN
fvj5jio4VhxXiyE1aLmL8EfaThhjfS0622Sn1H/MUWZ28PD4J1uZzXjRNxbD3q3i
VLJ9SO29s2SS7DiOSN3g85LS7eGq+IqGVJcQPXPIDQKBgQD1lfEpCmkIG+9SfZDB
ylN5YTPFVosA41euspBl3yavkxobPxumIGCep//ahKjTCV/vLYh7MG20ilfVIXoO
wSHyO2RI2TeVQsD0sEimu/X8YT7RVpyAf8voeaITaXXKuVrgFFL8GJ7Qtl9ebqFl
cZMWuifMpvJSAa/b6cvhIlI3twKBgQDMnsQq5aC+l6nRw9ZJK81kLEgj3YwWeSxj
ilXtfYZpC7B+YXxRHq1QqP4y7bRE2cpE7w8btLcdqvmnWDZlQP6dkA0uPss6qKJE
avEILHHYiDkTQCCmPIpYUEBSavtFLLNI7bf9gX3EXqdVNgjIyl2gzBCywD55Lg2/
0gt0DF+SNwKBgF1rdltoTF/7UGSOw1wUfQB1S15L94CU+qvH3UoDQxIS4SFwNjJR
qq9vtNIJGLd+n3G6XmqOF41P+u1mWKn4KdOdaB6WEqDCzefGjzxtz7r7uwui6NGw
y35Zlp/PxDEjpUAMOy0OqIs4dLrVVqviMlO46J7e+trbLWx4WUgA6EmtAoGBALTB
0/0pGNUFWWkKnTPKVAiX7apxPh1kMchFHh9L8f696s3aBF4MwYItp1EKF2NzGXHH
1Qrem5zDuwMPtA3CWqqJ5Hrj0dghvCbAaeiUioWD4ReWYME5XeUiD5A/HXVARai5
Bv4U9CsSirOFpkDqM8emPWIK3aVi/5ZiUOfVPmAFAoGBANF95WWwn+sOp/JPwR89
T8iG31Ia068CSLQohlEv4Abg25ERGgvFTvBtWih/35ibh0de2p2b8CGYP4UoncvQ
uGAHsOfy8bQhBSr7N/5P2nsOZySLJywBtr8iAkDk4RW664MtGzvT9/710fx33qZ4
mQgQdifvsStDQyvnbQydaRZF
-----END PRIVATE KEY-----
`,VITE_FIREBASE_PROJECT_ID:"telecom-8ca2b",VITE_FIREBASE_SERVER_KEY:"your_server_key",VITE_FIREBASE_VAPID_KEY:"BDUk7NN0GW3pwrg2-djgR6mi5A4--dLyOUppXPC3WCVrTeX4sjTbfr0V_hhKQIhK30SBHFkZb63BrogreC-0zt0",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93anphbHpubGVnYmh5c3N6bWNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwNzA5MTYsImV4cCI6MjA1NDY0NjkxNn0.8agQydJSlXIdvAzw_s3eM47sYnYiMLxGVMiA-q4Ulqo",VITE_SUPABASE_URL:"https://owjzalznlegbhysszmch.supabase.co"},{useDebugValue:OS}=Ei,{useSyncExternalStoreWithSelector:AS}=jS;let pm=!1;const MS=e=>e;function DS(e,t=MS,n){(z_?"production":void 0)!=="production"&&n&&!pm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pm=!0);const r=AS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return OS(r),r}const mm=e=>{(z_?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?hS(e):e,n=(r,s)=>DS(t,r,s);return Object.assign(n,t),n},B_=e=>e?mm(e):mm,RS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAWCCBOH3oeHaCMjmv54osnMjmJvMQJqCg",VITE_FIREBASE_APP_ID:"1:351150851012:web:eca2e9e8659d99afc4da91",VITE_FIREBASE_AUTH_DOMAIN:"telecom-8ca2b.firebaseapp.com",VITE_FIREBASE_CLIENT_EMAIL:"firebase-adminsdk-fbsvc@telecom-8ca2b.iam.gserviceaccount.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"351150851012",VITE_FIREBASE_PRIVATE_KEY:`-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDES8rnfyZxRJqx
ixsuj53RcfQfHPItH+GIiAKvGOQyW2wIlD4LmFpFh1cxX8n24CGhLC9F07lg5p8U
OFcJvPj6uh+wQShJMcGf5uC+JnDRMmx4gZM9rErDKLcob5LFAw8BV2ItJtuGhFsv
wgcXEScbxSYzW36JMC1fIlTq+smpBuH4kr5er7pjneP6on/X6yNXfcErztMkczw3
eHlA1h/nKLmuDml8WA1dqKdhgV4WP+nfMajLGpmJcHvRMQf+6CPQJdn1dH0+wqI8
kGClq80YI4wi3QqVZUudfGp4tgcnJYCHoV6vuIEGoWEOkwlrCvSqNxHQx9F9UB5s
5fyEWVZRAgMBAAECggEAR62RcwT4CaZOgoRUMaVZsJBW30GXoSiiF1Pq/vss4MKH
aX6QRXWliPwJt8rNmetv/EWBIZNVfu/XqO+FwNWTaSKrzZWNW2Ti2jvZVzX8PjeW
ak6OcJfIWQk2EHrlcjFSul+pRumIgc806PSF2EN4L2jHMTu4sem4t6N2tLNNDf4E
AmaIpczNdjnVtJLkdEqDP2d68EbUOAa6InhZg74DncZZF/Fnd7/nxyJIwY1SYPcN
fvj5jio4VhxXiyE1aLmL8EfaThhjfS0622Sn1H/MUWZ28PD4J1uZzXjRNxbD3q3i
VLJ9SO29s2SS7DiOSN3g85LS7eGq+IqGVJcQPXPIDQKBgQD1lfEpCmkIG+9SfZDB
ylN5YTPFVosA41euspBl3yavkxobPxumIGCep//ahKjTCV/vLYh7MG20ilfVIXoO
wSHyO2RI2TeVQsD0sEimu/X8YT7RVpyAf8voeaITaXXKuVrgFFL8GJ7Qtl9ebqFl
cZMWuifMpvJSAa/b6cvhIlI3twKBgQDMnsQq5aC+l6nRw9ZJK81kLEgj3YwWeSxj
ilXtfYZpC7B+YXxRHq1QqP4y7bRE2cpE7w8btLcdqvmnWDZlQP6dkA0uPss6qKJE
avEILHHYiDkTQCCmPIpYUEBSavtFLLNI7bf9gX3EXqdVNgjIyl2gzBCywD55Lg2/
0gt0DF+SNwKBgF1rdltoTF/7UGSOw1wUfQB1S15L94CU+qvH3UoDQxIS4SFwNjJR
qq9vtNIJGLd+n3G6XmqOF41P+u1mWKn4KdOdaB6WEqDCzefGjzxtz7r7uwui6NGw
y35Zlp/PxDEjpUAMOy0OqIs4dLrVVqviMlO46J7e+trbLWx4WUgA6EmtAoGBALTB
0/0pGNUFWWkKnTPKVAiX7apxPh1kMchFHh9L8f696s3aBF4MwYItp1EKF2NzGXHH
1Qrem5zDuwMPtA3CWqqJ5Hrj0dghvCbAaeiUioWD4ReWYME5XeUiD5A/HXVARai5
Bv4U9CsSirOFpkDqM8emPWIK3aVi/5ZiUOfVPmAFAoGBANF95WWwn+sOp/JPwR89
T8iG31Ia068CSLQohlEv4Abg25ERGgvFTvBtWih/35ibh0de2p2b8CGYP4UoncvQ
uGAHsOfy8bQhBSr7N/5P2nsOZySLJywBtr8iAkDk4RW664MtGzvT9/710fx33qZ4
mQgQdifvsStDQyvnbQydaRZF
-----END PRIVATE KEY-----
`,VITE_FIREBASE_PROJECT_ID:"telecom-8ca2b",VITE_FIREBASE_SERVER_KEY:"your_server_key",VITE_FIREBASE_VAPID_KEY:"BDUk7NN0GW3pwrg2-djgR6mi5A4--dLyOUppXPC3WCVrTeX4sjTbfr0V_hhKQIhK30SBHFkZb63BrogreC-0zt0",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93anphbHpubGVnYmh5c3N6bWNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwNzA5MTYsImV4cCI6MjA1NDY0NjkxNn0.8agQydJSlXIdvAzw_s3eM47sYnYiMLxGVMiA-q4Ulqo",VITE_SUPABASE_URL:"https://owjzalznlegbhysszmch.supabase.co"};function zS(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const l=d=>d===null?null:JSON.parse(d,void 0),c=(o=n.getItem(s))!=null?o:null;return c instanceof Promise?c.then(l):l(c)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const Xs=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Xs(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Xs(r)(n)}}}},BS=(e,t)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:I=>I,version:0,merge:(I,b)=>({...b,...I}),...t},l=!1;const c=new Set,d=new Set;let f;try{f=o.getStorage()}catch{}if(!f)return e((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...I)},r,s);const g=Xs(o.serialize),v=()=>{const I=o.partialize({...r()});let b;const w=g({state:I,version:o.version}).then(k=>f.setItem(o.name,k)).catch(k=>{b=k});if(b)throw b;return w},_=s.setState;s.setState=(I,b)=>{_(I,b),v()};const x=e((...I)=>{n(...I),v()},r,s);let P;const E=()=>{var I;if(!f)return;l=!1,c.forEach(w=>w(r()));const b=((I=o.onRehydrateStorage)==null?void 0:I.call(o,r()))||void 0;return Xs(f.getItem.bind(f))(o.name).then(w=>{if(w)return o.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return o.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var k;return P=o.merge(w,(k=r())!=null?k:x),n(P,!0),v()}).then(()=>{b==null||b(P,void 0),l=!0,d.forEach(w=>w(P))}).catch(w=>{b==null||b(void 0,w)})};return s.persist={setOptions:I=>{o={...o,...I},I.getStorage&&(f=I.getStorage())},clearStorage:()=>{f==null||f.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>E(),hasHydrated:()=>l,onHydrate:I=>(c.add(I),()=>{c.delete(I)}),onFinishHydration:I=>(d.add(I),()=>{d.delete(I)})},E(),P||x},FS=(e,t)=>(n,r,s)=>{let o={storage:zS(()=>localStorage),partialize:E=>E,version:0,merge:(E,I)=>({...I,...E}),...t},l=!1;const c=new Set,d=new Set;let f=o.storage;if(!f)return e((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...E)},r,s);const g=()=>{const E=o.partialize({...r()});return f.setItem(o.name,{state:E,version:o.version})},v=s.setState;s.setState=(E,I)=>{v(E,I),g()};const _=e((...E)=>{n(...E),g()},r,s);s.getInitialState=()=>_;let x;const P=()=>{var E,I;if(!f)return;l=!1,c.forEach(w=>{var k;return w((k=r())!=null?k:_)});const b=((I=o.onRehydrateStorage)==null?void 0:I.call(o,(E=r())!=null?E:_))||void 0;return Xs(f.getItem.bind(f))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return[!0,o.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var k;const[j,M]=w;if(x=o.merge(M,(k=r())!=null?k:_),n(x,!0),j)return g()}).then(()=>{b==null||b(x,void 0),x=r(),l=!0,d.forEach(w=>w(x))}).catch(w=>{b==null||b(void 0,w)})};return s.persist={setOptions:E=>{o={...o,...E},E.storage&&(f=E.storage)},clearStorage:()=>{f==null||f.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>P(),hasHydrated:()=>l,onHydrate:E=>(c.add(E),()=>{c.delete(E)}),onFinishHydration:E=>(d.add(E),()=>{d.delete(E)})},o.skipHydration||P(),x||_},$S=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((RS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),BS(e,t)):FS(e,t),US=$S,WS="modulepreload",HS=function(e){return"/"+e},gm={},Mi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=HS(d),d in gm)return;gm[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":WS,f||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((_,x)=>{v.addEventListener("load",_),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},VS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ui);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class vh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ZS extends vh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qS extends vh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class GS extends vh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jc||(Jc={}));var KS=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class JS{constructor(t,{headers:n={},customFetch:r,region:s=Jc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=VS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return KS(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=n;let c={},{region:d}=n;d||(d=this.region),d&&d!=="any"&&(c["x-region"]=d);let f;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(c["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(c["Content-Type"]="application/json",f=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f}).catch(P=>{throw new ZS(P)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new qS(g);if(!g.ok)throw new GS(g);let _=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return _==="application/json"?x=yield g.json():_==="application/octet-stream"?x=yield g.blob():_==="text/event-stream"?x=g:_==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null}}catch(s){return{data:null,error:s}}})}}var ct={},_h={},fl={},fo={},pl={},ml={},YS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Di=YS();const QS=Di.fetch,F_=Di.fetch.bind(Di),$_=Di.Headers,XS=Di.Request,ek=Di.Response,Ui=Object.freeze(Object.defineProperty({__proto__:null,Headers:$_,Request:XS,Response:ek,default:F_,fetch:QS},Symbol.toStringTag,{value:"Module"})),tk=Bw(Ui);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});let nk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gl.default=nk;var U_=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const rk=U_(tk),ik=U_(gl);let sk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,c,d;let f=null,g=null,v=null,_=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=b:g=JSON.parse(b))}const E=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),I=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");E&&I&&I.length>1&&(v=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,_=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const E=await o.text();try{f=JSON.parse(E),Array.isArray(f)&&o.status===404&&(g=[],f=null,_=200,x="OK")}catch{o.status===404&&E===""?(_=204,x="No Content"):f={message:E}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,_=200,x="OK"),f&&this.shouldThrowOnError)throw new ik.default(f)}return{error:f,data:g,count:v,status:_,statusText:x}});return this.shouldThrowOnError||(s=s.catch(o=>{var l,c,d;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(c=o==null?void 0:o.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=o==null?void 0:o.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ml.default=sk;var ok=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const ak=ok(ml);let lk=class extends ak.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var c;const d=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${f}"; options=${d};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pl.default=lk;var uk=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fo,"__esModule",{value:!0});const ck=uk(pl);let dk=class extends ck.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};fo.default=dk;var hk=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const fs=hk(fo);let fk=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const l="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const d=t.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(d.length>0){const f=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new fs.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fl.default=fk;var vl={},_l={};Object.defineProperty(_l,"__esModule",{value:!0});_l.version=void 0;_l.version="0.0.0-automated";Object.defineProperty(vl,"__esModule",{value:!0});vl.DEFAULT_HEADERS=void 0;const pk=_l;vl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${pk.version}`};var W_=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_h,"__esModule",{value:!0});const mk=W_(fl),gk=W_(fo),vk=vl;let _k=class H_{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},vk.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new mk.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new H_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let d;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{c.searchParams.append(g,v)})):(l="POST",d=n);const f=Object.assign({},this.headers);return o&&(f.Prefer=`count=${o}`),new gk.default({method:l,url:c,headers:f,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};_h.default=_k;var Wi=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ct,"__esModule",{value:!0});ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const V_=Wi(_h);ct.PostgrestClient=V_.default;const Z_=Wi(fl);ct.PostgrestQueryBuilder=Z_.default;const q_=Wi(fo);ct.PostgrestFilterBuilder=q_.default;const G_=Wi(pl);ct.PostgrestTransformBuilder=G_.default;const K_=Wi(ml);ct.PostgrestBuilder=K_.default;const J_=Wi(gl);ct.PostgrestError=J_.default;var yk=ct.default={PostgrestClient:V_.default,PostgrestQueryBuilder:Z_.default,PostgrestFilterBuilder:q_.default,PostgrestTransformBuilder:G_.default,PostgrestBuilder:K_.default,PostgrestError:J_.default};const{PostgrestClient:wk,PostgrestQueryBuilder:cL,PostgrestFilterBuilder:dL,PostgrestTransformBuilder:hL,PostgrestBuilder:fL,PostgrestError:pL}=yk,xk="2.11.2",bk={"X-Client-Info":`realtime-js/${xk}`},Sk="1.0.0",Y_=1e4,kk=1e3;var ki;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ki||(ki={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var Ft;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ft||(Ft={}));var Yc;(function(e){e.websocket="websocket"})(Yc||(Yc={}));var Sr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sr||(Sr={}));class Ek{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class Q_{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const vm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,l)=>(o[l]=Tk(l,e,t,s),o),{})},Tk=(e,t,n,r)=>{const s=t.find(c=>c.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!r.includes(o)?X_(o,l):Qc(l)},X_=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Nk(t,n)}switch(e){case ve.bool:return Pk(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return Ck(t);case ve.json:case ve.jsonb:return Ik(t);case ve.timestamp:return Lk(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Qc(t);default:return Qc(t)}},Qc=e=>e,Pk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ck=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ik=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Nk=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>X_(t,c))}return e},Lk=e=>typeof e=="string"?e.replace(" ","T"):e,ey=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ru{constructor(t,n,r={},s=Y_){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _m;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_m||(_m={}));class Ls{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=Ls.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ls.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(o,(f,g)=>{l[f]||(d[f]=g)}),this.map(l,(f,g)=>{const v=o[f];if(v){const _=g.map(I=>I.presence_ref),x=v.map(I=>I.presence_ref),P=g.filter(I=>x.indexOf(I.presence_ref)<0),E=v.filter(I=>_.indexOf(I.presence_ref)<0);P.length>0&&(c[f]=P),E.length>0&&(d[f]=E)}else c[f]=g}),this.syncDiff(o,{joins:c,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var f;const g=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),g.length>0){const v=t[c].map(x=>x.presence_ref),_=g.filter(x=>v.indexOf(x.presence_ref)<0);t[c].unshift(..._)}r(c,g,d)}),this.map(l,(c,d)=>{let f=t[c];if(!f)return;const g=d.map(v=>v.presence_ref);f=f.filter(v=>g.indexOf(v.presence_ref)<0),t[c]=f,s(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ym;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ym||(ym={}));var wm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wm||(wm={}));var hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class yh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ru(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Q_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ls(this),this.broadcastEndpointURL=ey(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:c}}=this.params;this._onError(g=>t==null?void 0:t(hn.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(hn.CLOSED));const d={},f={broadcast:o,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){t==null||t(hn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,P=[];for(let E=0;E<x;E++){const I=_[E],{filter:{event:b,schema:w,table:k,filter:j}}=I,M=g&&g[E];if(M&&M.event===b&&M.schema===w&&M.table===k&&M.filter===j)P.push(Object.assign(Object.assign({},I),{id:M.id}));else{this.unsubscribe(),t==null||t(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(hn.SUBSCRIBED);return}}).receive("error",g=>{t==null||t(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ru(this,Ft.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ru(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:g}=Ft;if(r&&[c,d,f,g].indexOf(l)>=0&&r!==this._joinRef())return;let _=this._onMessage(l,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var P,E,I;return((P=x.filter)===null||P===void 0?void 0:P.event)==="*"||((I=(E=x.filter)===null||E===void 0?void 0:E.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===l}).map(x=>x.callback(_,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var P,E,I,b,w,k;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const j=x.id,M=(P=x.filter)===null||P===void 0?void 0:P.event;return j&&((E=n.ids)===null||E===void 0?void 0:E.includes(j))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((I=n.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const j=(w=(b=x==null?void 0:x.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof _=="object"&&"ids"in _){const P=_.data,{schema:E,table:I,commit_timestamp:b,type:w,errors:k}=P;_=Object.assign(Object.assign({},{schema:E,table:I,commit_timestamp:b,eventType:w,new:{},old:{},errors:k}),this._getPayloadRecords(P))}x.callback(_,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&yh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ft.close,{},t)}_onError(t){this._on(Ft.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vm(t.columns,t.old_record)),n}}const jk=()=>{},Ok=typeof WebSocket<"u",Ak=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mk{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=bk,this.params={},this.timeout=Y_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jk,this.conn=null,this.sendBuffer=[],this.serializer=new Ek,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>Mi(async()=>{const{default:d}=await Promise.resolve().then(()=>Ui);return{default:d}},void 0).then(({default:d})=>d(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${Yc.websocket}`,this.httpEndpoint=ey(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,l)=>l(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Q_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ok){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Dk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mi(async()=>{const{default:t}=await import("./browser-5CI6zUsS.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sk}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ki.connecting:return Sr.Connecting;case ki.open:return Sr.Open;case ki.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}channel(t,n={config:{}}){const r=new yh(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Ft.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(kk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ft.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Ak],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dk{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ki.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class wh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Rk extends wh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xc extends wh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var zk=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const ty=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ui);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Bk=()=>zk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mi(()=>Promise.resolve().then(()=>Ui),void 0)).Response:Response}),ed=e=>{if(Array.isArray(e))return e.map(n=>ed(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=ed(r)}),t};var $r=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const zu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fk=(e,t,n)=>$r(void 0,void 0,void 0,function*(){const r=yield Bk();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Rk(zu(s),e.status||500))}).catch(s=>{t(new Xc(zu(s),s))}):t(new Xc(zu(e),e))}),$k=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function po(e,t,n,r,s,o){return $r(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,$k(t,r,s,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Fk(d,c,r))})})}function Ha(e,t,n,r){return $r(this,void 0,void 0,function*(){return po(e,"GET",t,n,r)})}function Dn(e,t,n,r,s){return $r(this,void 0,void 0,function*(){return po(e,"POST",t,r,s,n)})}function Uk(e,t,n,r,s){return $r(this,void 0,void 0,function*(){return po(e,"PUT",t,r,s,n)})}function Wk(e,t,n,r){return $r(this,void 0,void 0,function*(){return po(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ny(e,t,n,r,s){return $r(this,void 0,void 0,function*(){return po(e,"DELETE",t,r,s,n)})}var lt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const Hk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ty(s)}uploadOrUpdate(t,n,r,s){return lt(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},xm),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:o,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),_=yield v.json();return v.ok?{data:{path:f,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(o){if($e(o))return{data:null,error:o};throw o}})}upload(t,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return lt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:xm.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const v=yield this.fetch(c.toString(),{method:"PUT",body:d,headers:g}),_=yield v.json();return v.ok?{data:{path:o,fullPath:_.Key},error:null}:{data:null,error:_}}catch(d){if($e(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return lt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Dn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new wh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}update(t,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return lt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}copy(t,n,r){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return lt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Dn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return lt(this,void 0,void 0,function*(){try{const s=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}download(t,n){return lt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Ha(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if($e(c))return{data:null,error:c};throw c}})}info(t){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ha(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ed(r),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}exists(t){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Wk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($e(r)&&r instanceof Xc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return lt(this,void 0,void 0,function*(){try{return{data:yield ny(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}list(t,n,r){return lt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Hk),n),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Zk="2.7.1",qk={"X-Client-Info":`storage-js/${Zk}`};var ti=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class Gk{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},qk),n),this.fetch=ty(r)}listBuckets(){return ti(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($e(t))return{data:null,error:t};throw t}})}getBucket(t){return ti(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ti(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ti(this,void 0,void 0,function*(){try{return{data:yield Uk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ti(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ti(this,void 0,void 0,function*(){try{return{data:yield ny(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}}class Kk extends Gk{constructor(t,n={},r){super(t,n,r)}from(t){return new Vk(this.url,this.headers,t,this.fetch)}}const Jk="2.49.1";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const Yk={"X-Client-Info":`supabase-js-${ws}/${Jk}`},Qk={headers:Yk},Xk={schema:"public"},eE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tE={};var nE=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const rE=e=>{let t;return e?t=e:typeof fetch>"u"?t=F_:t=fetch,(...n)=>t(...n)},iE=()=>typeof Headers>"u"?$_:Headers,sE=(e,t,n)=>{const r=rE(n),s=iE();return(o,l)=>nE(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var oE=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};function aE(e){return e.replace(/\/$/,"")}function lE(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign({},f),o),accessToken:()=>oE(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const ry="2.68.0",si=30*1e3,td=3,Bu=td*si,uE="http://localhost:9999",cE="supabase.auth.token",dE={"X-Client-Info":`gotrue-js/${ry}`},nd="X-Supabase-Api-Version",iy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function hE(e){return Math.round(Date.now()/1e3)+e}function fE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},js=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function pE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const sy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ui);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},mE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oy=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ea=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ta=async(e,t)=>{await e.removeItem(t)};function gE(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,o,l,c,d,f,g=0;for(e=e.replace("-","+").replace("_","/");g<e.length;)l=t.indexOf(e.charAt(g++)),c=t.indexOf(e.charAt(g++)),d=t.indexOf(e.charAt(g++)),f=t.indexOf(e.charAt(g++)),r=l<<2|c>>4,s=(c&15)<<4|d>>2,o=(d&3)<<6|f,n=n+String.fromCharCode(r),d!=64&&s!=0&&(n=n+String.fromCharCode(s)),f!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}let ay=class ly{constructor(){this.promise=new ly.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};ay.promiseConstructor=Promise;function bm(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(gE(r))}async function vE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _E(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function yE(e){return("0"+e.toString(16)).substr(-2)}function wE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,yE).join("")}async function xE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function bE(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function SE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xE(e);return bE(n)}async function ni(e,t,n=!1){const r=wE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await oy(e,`${t}-code-verifier`,s);const o=await SE(r);return[o,r===o?"plain":"s256"]}const kE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EE(e){const t=e.headers.get(nd);if(!t||!t.match(kE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class xh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TE extends xh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function PE(e){return te(e)&&e.name==="AuthApiError"}class uy extends xh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ur extends xh{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class jn extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CE(e){return te(e)&&e.name==="AuthSessionMissingError"}class Fu extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class na extends Ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ra extends Ur{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IE(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sm extends Ur{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rd extends Ur{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $u(e){return te(e)&&e.name==="AuthRetryableFetchError"}class km extends Ur{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var NE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LE=[502,503,504];async function Em(e){var t;if(!mE(e))throw new rd(wr(e),0);if(LE.includes(e.status))throw new rd(wr(e),e.status);let n;try{n=await e.json()}catch(o){throw new uy(wr(o),o)}let r;const s=EE(e);if(s&&s.getTime()>=iy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new km(wr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new jn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new km(wr(n),e.status,n.weak_password.reasons);throw new TE(wr(n),e.status||500,r)}const jE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ie(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[nd]||(o[nd]=iy["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await OE(e,t,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function OE(e,t,n,r,s,o){const l=jE(t,r,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new rd(wr(d),0)}if(c.ok||await Em(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await Em(d)}}function On(e){var t;let n=null;RE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=hE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Tm(e){const t=On(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function AE(e){return{data:e,error:null}}function ME(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,l=NE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function DE(e){return e}function RE(e){return e.access_token&&e.refresh_token&&e.expires_in}var zE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class BE{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=zE(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ME,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bn})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:DE});if(g.error)throw g.error;const v=await g.json(),_=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(P=>{const E=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(P.split(";")[1].split("=")[1]);f[`${I}Page`]=E}),f.total=parseInt(_)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(te(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bn})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Bn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}const FE={getItem:e=>js()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{js()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{js()&&globalThis.localStorage.removeItem(e)}};function Pm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function $E(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ri={debug:!!(globalThis&&js()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UE extends cy{}async function WE(e,t,n){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ri.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}$E();const HE={url:uE,storageKey:cE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cm(e,t,n){return await n()}class eo{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=eo.nextInstanceID,eo.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},HE),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new BE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=sy(s.fetch),this.lock=s.lock||Cm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WE:this.lock=Cm,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:js()?this.storage=FE:(this.memoryStorage={},this.storage=Pm(this.memoryStorage)):(this.memoryStorage={},this.storage=Pm(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ry}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=pE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),IE(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?{error:n}:{error:new uy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:On}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:g,password:v,options:_}=t;let x=null,P=null;this.flowType==="pkce"&&([x,P]=await ni(this.storage,this.storageKey)),o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:g,password:v,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:x,code_challenge_method:P},xform:On})}else if("phone"in t){const{phone:g,password:v,options:_}=t;o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(s=_==null?void 0:_.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:On})}else throw new na("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Tm})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Tm})}else throw new na("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ea(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:l}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:On});if(await ta(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Fu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=t,c=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:On}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Fu}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,l;try{if("email"in t){const{email:c,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ni(this.storage,this.storageKey));const{error:v}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:g}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new na("You must provide either an email or phone number.")}catch(c){if(te(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:On});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ni(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:AE})}catch(o){if(te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new jn;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:l}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:l,error:c}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new na("You must provide either an email or phone number and a type")}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Bu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,g)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,g))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bn}):await this._useSession(async n=>{var r,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Bn})})}catch(n){if(te(n))return CE(n)&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new jn;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await ni(this.storage,this.storageKey));const{data:f,error:g}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Bn});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return bm(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const l=bm(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new jn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Qt())throw new ra("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ra(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ra("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sm("No code detected.");const{data:w,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=t;if(!o||!c||!l||!f)throw new ra("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let _=g+v;d&&(_=parseInt(d));const x=_-g;x*1e3<=si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const P=_-v;g-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,_,g):g-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,_,g);const{data:E,error:I}=await this._getUser(o);if(I)throw I;const b={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:_,refresh_token:l,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(r){if(te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ea(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(PE(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=fE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ni(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,c,d,f,g;const{data:v,error:_}=o;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Qt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(te(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _E(async s=>(s>0&&await vE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:On})),(s,o)=>{const l=200*Math.pow(2,s);return o&&$u(o)&&Date.now()+l-r<si})}catch(r){if(this._debug(n,"error",r),te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ea(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Bu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Bu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$u(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ay;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new jn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),te(o)){const l={session:null,error:o};return $u(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await oy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ta(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),si);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${si}ms, refresh threshold is ${td} ticks`),s<=td&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ni(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:f}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}}eo.nextInstanceID=0;const VE=eo;class ZE extends VE{constructor(t){super(t)}}var qE=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{f(r.next(g))}catch(v){l(v)}}function d(g){try{f(r.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class GE{constructor(t,n,r){var s,o,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=aE(t);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:Xk,realtime:tE,auth:Object.assign(Object.assign({},eE),{storageKey:d}),global:Qk},g=lE(r??{},f);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=sE(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new wk(`${c}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new JS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Kk(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return qE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:l,lock:c,debug:d},f,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZE({url:this.authUrl,headers:Object.assign(Object.assign({},v),f),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:c,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Mk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KE=(e,t,n)=>new GE(e,t,n),JE="https://owjzalznlegbhysszmch.supabase.co",YE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93anphbHpubGVnYmh5c3N6bWNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwNzA5MTYsImV4cCI6MjA1NDY0NjkxNn0.8agQydJSlXIdvAzw_s3eM47sYnYiMLxGVMiA-q4Ulqo",Z=KE(JE,YE),QE=()=>{};var Im={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},XE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],l=e[n++],c=e[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const o=e[n++],l=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const o=e[s],l=s+1<e.length,c=l?e[s+1]:0,d=s+2<e.length,f=d?e[s+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,x=f&63;d||(x=64,l||(_=64)),r.push(n[g],n[v],n[_],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):XE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const v=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new eT;const _=o<<2|c>>4;if(r.push(_),f!==64){const x=c<<4&240|f>>2;if(r.push(x),v!==64){const P=f<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tT=function(e){const t=dy(e);return hy.encodeByteArray(t,!0)},fy=function(e){return tT(e).replace(/\./g,"")},nT=function(e){try{return hy.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=()=>rT().__FIREBASE_DEFAULTS__,sT=()=>{if(typeof process>"u"||typeof Im>"u")return;const e=Im.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oT=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nT(e[1]);return t&&JSON.parse(t)},aT=()=>{try{return QE()||iT()||sT()||oT()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},py=()=>{var e;return(e=aT())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function my(){try{return typeof indexedDB=="object"}catch{return!1}}function gy(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function uT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="FirebaseError";class Hi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=cT,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?dT(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Hi(s,c,r)}}function dT(e,t){return e.replace(hT,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const hT=/\{\$([^}]+)}/g;function id(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const o=e[s],l=t[s];if(Nm(o)&&Nm(l)){if(!id(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Nm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(e){return e&&e._delegate?e._delegate:e}class rr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new lT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mT(t))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xr){return this.instances.has(t)}getOptions(t=xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pT(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xr){return this.component?this.component.multipleInstances?t:xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pT(e){return e===xr?void 0:e}function mT(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(we||(we={}));const vT={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},_T=we.INFO,yT={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},wT=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=yT[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xT{constructor(t){this.name=t,this._logLevel=_T,this._logHandler=wT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const bT=(e,t)=>t.some(n=>e instanceof n);let Lm,jm;function ST(){return Lm||(Lm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kT(){return jm||(jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vy=new WeakMap,sd=new WeakMap,_y=new WeakMap,Uu=new WeakMap,Sh=new WeakMap;function ET(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",l)},o=()=>{n(_n(e.result)),s()},l=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&vy.set(n,e)}).catch(()=>{}),Sh.set(t,e),t}function TT(e){if(sd.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",l),e.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",l),e.addEventListener("abort",l)});sd.set(e,t)}let od={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_y.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function PT(e){od=e(od)}function CT(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Wu(this),t,...n);return _y.set(r,t.sort?t.sort():[t]),_n(r)}:kT().includes(e)?function(...t){return e.apply(Wu(this),t),_n(vy.get(this))}:function(...t){return _n(e.apply(Wu(this),t))}}function IT(e){return typeof e=="function"?CT(e):(e instanceof IDBTransaction&&TT(e),bT(e,ST())?new Proxy(e,od):e)}function _n(e){if(e instanceof IDBRequest)return ET(e);if(Uu.has(e))return Uu.get(e);const t=IT(e);return t!==e&&(Uu.set(e,t),Sh.set(t,e)),t}const Wu=e=>Sh.get(e);function wl(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(e,t),c=_n(l);return r&&l.addEventListener("upgradeneeded",d=>{r(_n(l.result),d.oldVersion,d.newVersion,_n(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function Hu(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),_n(n).then(()=>{})}const NT=["get","getKey","getAll","getAllKeys","count"],LT=["put","add","delete","clear"],Vu=new Map;function Om(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Vu.get(t))return Vu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=LT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NT.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return Vu.set(t,o),o}PT(e=>({...e,get:(t,n,r)=>Om(t,n)||e.get(t,n,r),has:(t,n)=>!!Om(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OT(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ad="@firebase/app",Am="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new xT("@firebase/app"),AT="@firebase/app-compat",MT="@firebase/analytics-compat",DT="@firebase/analytics",RT="@firebase/app-check-compat",zT="@firebase/app-check",BT="@firebase/auth",FT="@firebase/auth-compat",$T="@firebase/database",UT="@firebase/data-connect",WT="@firebase/database-compat",HT="@firebase/functions",VT="@firebase/functions-compat",ZT="@firebase/installations",qT="@firebase/installations-compat",GT="@firebase/messaging",KT="@firebase/messaging-compat",JT="@firebase/performance",YT="@firebase/performance-compat",QT="@firebase/remote-config",XT="@firebase/remote-config-compat",eP="@firebase/storage",tP="@firebase/storage-compat",nP="@firebase/firestore",rP="@firebase/vertexai",iP="@firebase/firestore-compat",sP="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="[DEFAULT]",oP={[ad]:"fire-core",[AT]:"fire-core-compat",[DT]:"fire-analytics",[MT]:"fire-analytics-compat",[zT]:"fire-app-check",[RT]:"fire-app-check-compat",[BT]:"fire-auth",[FT]:"fire-auth-compat",[$T]:"fire-rtdb",[UT]:"fire-data-connect",[WT]:"fire-rtdb-compat",[HT]:"fire-fn",[VT]:"fire-fn-compat",[ZT]:"fire-iid",[qT]:"fire-iid-compat",[GT]:"fire-fcm",[KT]:"fire-fcm-compat",[JT]:"fire-perf",[YT]:"fire-perf-compat",[QT]:"fire-rc",[XT]:"fire-rc-compat",[eP]:"fire-gcs",[tP]:"fire-gcs-compat",[nP]:"fire-fst",[iP]:"fire-fst-compat",[rP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Map,aP=new Map,ud=new Map;function Mm(e,t){try{e.container.addComponent(t)}catch(n){Sn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dr(e){const t=e.name;if(ud.has(t))return Sn.debug(`There were multiple attempts to register component ${t}.`),!1;ud.set(t,e);for(const n of Va.values())Mm(n,e);for(const n of aP.values())Mm(n,e);return!0}function kh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xn=new yl("app","Firebase",lP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}function yy(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:ld,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw Xn.create("bad-app-name",{appName:String(s)});if(n||(n=py()),!n)throw Xn.create("no-options");const o=Va.get(s);if(o){if(id(n,o.options)&&id(r,o.config))return o;throw Xn.create("duplicate-app",{appName:s})}const l=new gT(s);for(const d of ud.values())l.addComponent(d);const c=new uP(n,r,l);return Va.set(s,c),c}function cP(e=ld){const t=Va.get(e);if(!t&&e===ld&&py())return yy();if(!t)throw Xn.create("no-app",{appName:e});return t}function er(e,t,n){var r;let s=(r=oP[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sn.warn(c.join(" "));return}Dr(new rr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firebase-heartbeat-database",hP=1,to="firebase-heartbeat-store";let Zu=null;function wy(){return Zu||(Zu=wl(dP,hP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(e=>{throw Xn.create("idb-open",{originalErrorMessage:e.message})})),Zu}async function fP(e){try{const n=(await wy()).transaction(to),r=await n.objectStore(to).get(xy(e));return await n.done,r}catch(t){if(t instanceof Hi)Sn.warn(t.message);else{const n=Xn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Sn.warn(n.message)}}}async function Dm(e,t){try{const r=(await wy()).transaction(to,"readwrite");await r.objectStore(to).put(t,xy(e)),await r.done}catch(n){if(n instanceof Hi)Sn.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sn.warn(r.message)}}}function xy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1024,mP=30;class gP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _P(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Rm();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>mP){const l=yP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rm(),{heartbeatsToSend:r,unsentEntries:s}=vP(this._heartbeatsCache.heartbeats),o=fy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Sn.warn(n),""}}}function Rm(){return new Date().toISOString().substring(0,10)}function vP(e,t=pP){const n=[];let r=e.slice();for(const s of e){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),zm(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _P{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return my()?gy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function zm(e){return fy(JSON.stringify({version:2,heartbeats:e})).length}function yP(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(e){Dr(new rr("platform-logger",t=>new jT(t),"PRIVATE")),Dr(new rr("heartbeat",t=>new gP(t),"PRIVATE")),er(ad,Am,e),er(ad,Am,"esm2017"),er("fire-js","")}wP("");var xP="firebase",bP="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(xP,bP,"app");const by="@firebase/installations",Eh="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=1e4,ky=`w:${Eh}`,Ey="FIS_v2",SP="https://firebaseinstallations.googleapis.com/v1",kP=60*60*1e3,EP="installations",TP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rr=new yl(EP,TP,PP);function Ty(e){return e instanceof Hi&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py({projectId:e}){return`${SP}/projects/${e}/installations`}function Cy(e){return{token:e.token,requestStatus:2,expiresIn:IP(e.expiresIn),creationTime:Date.now()}}async function Iy(e,t){const r=(await t.json()).error;return Rr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Ny({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function CP(e,{refreshToken:t}){const n=Ny(e);return n.append("Authorization",NP(t)),n}async function Ly(e){const t=await e();return t.status>=500&&t.status<600?e():t}function IP(e){return Number(e.replace("s","000"))}function NP(e){return`${Ey} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Py(e),s=Ny(e),o=t.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:Ey,appId:e.appId,sdkVersion:ky},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await Ly(()=>fetch(r,c));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Cy(f.authToken)}}else throw await Iy("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=/^[cdef][\w-]{21}$/,cd="";function AP(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=MP(e);return OP.test(n)?n:cd}catch{return cd}}function MP(e){return jP(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;function Ay(e,t){const n=xl(e);My(n,t),DP(n,t)}function My(e,t){const n=Oy.get(e);if(n)for(const r of n)r(t)}function DP(e,t){const n=RP();n&&n.postMessage({key:e,fid:t}),zP()}let Pr=null;function RP(){return!Pr&&"BroadcastChannel"in self&&(Pr=new BroadcastChannel("[Firebase] FID Change"),Pr.onmessage=e=>{My(e.data.key,e.data.fid)}),Pr}function zP(){Oy.size===0&&Pr&&(Pr.close(),Pr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="firebase-installations-database",FP=1,zr="firebase-installations-store";let qu=null;function Th(){return qu||(qu=wl(BP,FP,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zr)}}})),qu}async function Za(e,t){const n=xl(e),s=(await Th()).transaction(zr,"readwrite"),o=s.objectStore(zr),l=await o.get(n);return await o.put(t,n),await s.done,(!l||l.fid!==t.fid)&&Ay(e,t.fid),t}async function Dy(e){const t=xl(e),r=(await Th()).transaction(zr,"readwrite");await r.objectStore(zr).delete(t),await r.done}async function bl(e,t){const n=xl(e),s=(await Th()).transaction(zr,"readwrite"),o=s.objectStore(zr),l=await o.get(n),c=t(l);return c===void 0?await o.delete(n):await o.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&Ay(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e){let t;const n=await bl(e.appConfig,r=>{const s=$P(r),o=UP(e,s);return t=o.registrationPromise,o.installationEntry});return n.fid===cd?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function $P(e){const t=e||{fid:AP(),registrationStatus:0};return Ry(t)}function UP(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Rr.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=WP(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:HP(e)}:{installationEntry:t}}async function WP(e,t){try{const n=await LP(e,t);return Za(e.appConfig,n)}catch(n){throw Ty(n)&&n.customData.serverCode===409?await Dy(e.appConfig):await Za(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function HP(e){let t=await Bm(e.appConfig);for(;t.registrationStatus===1;)await jy(100),t=await Bm(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ph(e);return r||n}return t}function Bm(e){return bl(e,t=>{if(!t)throw Rr.create("installation-not-found");return Ry(t)})}function Ry(e){return VP(e)?{fid:e.fid,registrationStatus:0}:e}function VP(e){return e.registrationStatus===1&&e.registrationTime+Sy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP({appConfig:e,heartbeatServiceProvider:t},n){const r=qP(e,n),s=CP(e,n),o=t.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:ky,appId:e.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await Ly(()=>fetch(r,c));if(d.ok){const f=await d.json();return Cy(f)}else throw await Iy("Generate Auth Token",d)}function qP(e,{fid:t}){return`${Py(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(e,t=!1){let n;const r=await bl(e.appConfig,o=>{if(!zy(o))throw Rr.create("not-registered");const l=o.authToken;if(!t&&JP(l))return o;if(l.requestStatus===1)return n=GP(e,t),o;{if(!navigator.onLine)throw Rr.create("app-offline");const c=QP(o);return n=KP(e,c),c}});return n?await n:r.authToken}async function GP(e,t){let n=await Fm(e.appConfig);for(;n.authToken.requestStatus===1;)await jy(100),n=await Fm(e.appConfig);const r=n.authToken;return r.requestStatus===0?Ch(e,t):r}function Fm(e){return bl(e,t=>{if(!zy(t))throw Rr.create("not-registered");const n=t.authToken;return XP(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function KP(e,t){try{const n=await ZP(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Za(e.appConfig,r),n}catch(n){if(Ty(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Dy(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Za(e.appConfig,r)}throw n}}function zy(e){return e!==void 0&&e.registrationStatus===2}function JP(e){return e.requestStatus===2&&!YP(e)}function YP(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+kP}function QP(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function XP(e){return e.requestStatus===1&&e.requestTime+Sy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(e){const t=e,{installationEntry:n,registrationPromise:r}=await Ph(t);return r?r.catch(console.error):Ch(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(e,t=!1){const n=e;return await nC(n),(await Ch(n,t)).token}async function nC(e){const{registrationPromise:t}=await Ph(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){if(!e||!e.options)throw Gu("App Configuration");if(!e.name)throw Gu("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Gu(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Gu(e){return Rr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="installations",iC="installations-internal",sC=e=>{const t=e.getProvider("app").getImmediate(),n=rC(t),r=kh(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oC=e=>{const t=e.getProvider("app").getImmediate(),n=kh(t,By).getImmediate();return{getId:()=>eC(n),getToken:s=>tC(n,s)}};function aC(){Dr(new rr(By,sC,"PUBLIC")),Dr(new rr(iC,oC,"PRIVATE"))}aC();er(by,Eh);er(by,Eh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="/firebase-messaging-sw.js",uC="/firebase-cloud-messaging-push-scope",Fy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cC="https://fcmregistrations.googleapis.com/v1",$y="google.c.a.c_id",dC="google.c.a.c_l",hC="google.c.a.ts",fC="google.c.a.e",$m=1e4;var Um;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Um||(Um={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var no;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(no||(no={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pC(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let o=0;o<r.length;++o)s[o]=r.charCodeAt(o);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="fcm_token_details_db",mC=5,Wm="fcm_token_object_Store";async function gC(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Ku))return null;let t=null;return(await wl(Ku,mC,{upgrade:async(r,s,o,l)=>{var c;if(s<2||!r.objectStoreNames.contains(Wm))return;const d=l.objectStore(Wm),f=await d.index("fcmSenderId").get(e);if(await d.clear(),!!f){if(s===2){const g=f;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:(c=g.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:fn(g.vapidKey)}}}else if(s===3){const g=f;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:fn(g.auth),p256dh:fn(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:fn(g.vapidKey)}}}else if(s===4){const g=f;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:fn(g.auth),p256dh:fn(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:fn(g.vapidKey)}}}}}})).close(),await Hu(Ku),await Hu("fcm_vapid_details_db"),await Hu("undefined"),vC(t)?t:null}function vC(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebase-messaging-database",yC=1,ro="firebase-messaging-store";let Ju=null;function Uy(){return Ju||(Ju=wl(_C,yC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ro)}}})),Ju}async function wC(e){const t=Wy(e),r=await(await Uy()).transaction(ro).objectStore(ro).get(t);if(r)return r;{const s=await gC(e.appConfig.senderId);if(s)return await Ih(e,s),s}}async function Ih(e,t){const n=Wy(e),s=(await Uy()).transaction(ro,"readwrite");return await s.objectStore(ro).put(t,n),await s.done,t}function Wy({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xe=new yl("messaging","Messaging",xC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(e,t){const n=await Lh(e),r=Hy(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(Nh(e.appConfig),s)).json()}catch(l){throw Xe.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(o.error){const l=o.error.message;throw Xe.create("token-subscribe-failed",{errorInfo:l})}if(!o.token)throw Xe.create("token-subscribe-no-token");return o.token}async function SC(e,t){const n=await Lh(e),r=Hy(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${Nh(e.appConfig)}/${t.token}`,s)).json()}catch(l){throw Xe.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(o.error){const l=o.error.message;throw Xe.create("token-update-failed",{errorInfo:l})}if(!o.token)throw Xe.create("token-update-no-token");return o.token}async function kC(e,t){const r={method:"DELETE",headers:await Lh(e)};try{const o=await(await fetch(`${Nh(e.appConfig)}/${t}`,r)).json();if(o.error){const l=o.error.message;throw Xe.create("token-unsubscribe-failed",{errorInfo:l})}}catch(s){throw Xe.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Nh({projectId:e}){return`${cC}/projects/${e}/registrations`}async function Lh({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Hy({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==Fy&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=7*24*60*60*1e3;async function TC(e){const t=await CC(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:fn(t.getKey("auth")),p256dh:fn(t.getKey("p256dh"))},r=await wC(e.firebaseDependencies);if(r){if(IC(r.subscriptionOptions,n))return Date.now()>=r.createTime+EC?PC(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await kC(e.firebaseDependencies,r.token)}catch(s){console.warn(s)}return Hm(e.firebaseDependencies,n)}else return Hm(e.firebaseDependencies,n)}async function PC(e,t){try{const n=await SC(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Ih(e.firebaseDependencies,r),n}catch(n){throw n}}async function Hm(e,t){const r={token:await bC(e,t),createTime:Date.now(),subscriptionOptions:t};return await Ih(e,r),r.token}async function CC(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pC(t)})}function IC(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,s=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&s&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return NC(t,e),LC(t,e),jC(t,e),t}function NC(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s);const o=t.notification.icon;o&&(e.notification.icon=o)}function LC(e,t){t.data&&(e.data=t.data)}function jC(e,t){var n,r,s,o,l;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const c=(s=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(o=t.notification)===null||o===void 0?void 0:o.click_action;c&&(e.fcmOptions.link=c);const d=(l=t.fcmOptions)===null||l===void 0?void 0:l.analytics_label;d&&(e.fcmOptions.analyticsLabel=d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(e){return typeof e=="object"&&!!e&&$y in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(e){if(!e||!e.options)throw Yu("App Configuration Object");if(!e.name)throw Yu("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Yu(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Yu(e){return Xe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=AC(t);this.firebaseDependencies={app:t,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(e){try{e.swRegistration=await navigator.serviceWorker.register(lC,{scope:uC}),e.swRegistration.update().catch(()=>{}),await RC(e.swRegistration)}catch(t){throw Xe.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function RC(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${$m} ms`)),$m),s=e.installing||e.waiting;e.active?(clearTimeout(r),t()):s?s.onstatechange=o=>{var l;((l=o.target)===null||l===void 0?void 0:l.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(e,t){if(!t&&!e.swRegistration&&await DC(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Xe.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Fy)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(e,t){if(!navigator)throw Xe.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Xe.create("permission-blocked");return await BC(e,t==null?void 0:t.vapidKey),await zC(e,t==null?void 0:t.serviceWorkerRegistration),TC(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(e,t,n){const r=$C(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[$y],message_name:n[dC],message_time:n[hC],message_device_time:Math.floor(Date.now()/1e3)})}function $C(e){switch(e){case no.NOTIFICATION_CLICKED:return"notification_open";case no.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===no.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Vm(n)):e.onMessageHandler.next(Vm(n)));const r=n.data;OC(r)&&r[fC]==="1"&&await FC(e,n.messageType,r)}const Zm="@firebase/messaging",qm="0.12.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=e=>{const t=new MC(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>UC(t,n)),t},HC=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>Vy(t,r)}};function VC(){Dr(new rr("messaging",WC,"PUBLIC")),Dr(new rr("messaging-internal",HC,"PRIVATE")),er(Zm,qm),er(Zm,qm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(){try{await gy()}catch{return!1}return typeof window<"u"&&my()&&uT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e,t){if(!navigator)throw Xe.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e=cP()){return ZC().then(t=>{if(!t)throw Xe.create("unsupported-browser")},t=>{throw Xe.create("indexed-db-unsupported")}),kh(bh(e),"messaging").getImmediate()}async function KC(e,t){return e=bh(e),Vy(e,t)}function JC(e,t){return e=bh(e),qC(e,t)}VC();const YC={apiKey:"AIzaSyAWCCBOH3oeHaCMjmv54osnMjmJvMQJqCg",authDomain:"telecom-8ca2b.firebaseapp.com",projectId:"telecom-8ca2b",storageBucket:void 0,messagingSenderId:"351150851012",appId:"1:351150851012:web:eca2e9e8659d99afc4da91"},QC=yy(YC),Gm=GC(QC);let XC={data:""},e2=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||XC,t2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,n2=/\/\*[^]*?\*\/|  +/g,Km=/\n+/g,Fn=(e,t)=>{let n="",r="",s="";for(let o in e){let l=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?Fn(l,o):o+"{"+Fn(l,o[1]=="k"?"":t)+"}":typeof l=="object"?r+=Fn(l,t?t.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Fn.p?Fn.p(o,l):o+":"+l+";")}return n+(t&&s?t+"{"+s+"}":s)+r},un={},Zy=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Zy(e[n]);return t}return e},r2=(e,t,n,r,s)=>{let o=Zy(e),l=un[o]||(un[o]=(d=>{let f=0,g=11;for(;f<d.length;)g=101*g+d.charCodeAt(f++)>>>0;return"go"+g})(o));if(!un[l]){let d=o!==e?e:(f=>{let g,v,_=[{}];for(;g=t2.exec(f.replace(n2,""));)g[4]?_.shift():g[3]?(v=g[3].replace(Km," ").trim(),_.unshift(_[0][v]=_[0][v]||{})):_[0][g[1]]=g[2].replace(Km," ").trim();return _[0]})(e);un[l]=Fn(s?{["@keyframes "+l]:d}:d,n?"":"."+l)}let c=n&&un.g?un.g:null;return n&&(un.g=un[l]),((d,f,g,v)=>{v?f.data=f.data.replace(v,d):f.data.indexOf(d)===-1&&(f.data=g?d+f.data:f.data+d)})(un[l],t,r,c),l},i2=(e,t,n)=>e.reduce((r,s,o)=>{let l=t[o];if(l&&l.call){let c=l(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":Fn(c,""):c===!1?"":c}return r+s+(l??"")},"");function Sl(e){let t=this||{},n=e.call?e(t.p):e;return r2(n.unshift?n.raw?i2(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,e2(t.target),t.g,t.o,t.k)}let qy,dd,hd;Sl.bind({g:1});let kn=Sl.bind({k:1});function s2(e,t,n,r){Fn.p=t,qy=e,dd=n,hd=r}function ur(e,t){let n=this||{};return function(){let r=arguments;function s(o,l){let c=Object.assign({},o),d=c.className||s.className;n.p=Object.assign({theme:dd&&dd()},c),n.o=/ *go\d+/.test(d),c.className=Sl.apply(n,r)+(d?" "+d:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),hd&&f[0]&&hd(c),qy(f,c)}return s}}var o2=e=>typeof e=="function",qa=(e,t)=>o2(e)?e(t):e,a2=(()=>{let e=0;return()=>(++e).toString()})(),Gy=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),l2=20,Ky=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,l2)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return Ky(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},va=[],Cr={toasts:[],pausedAt:void 0},Wr=e=>{Cr=Ky(Cr,e),va.forEach(t=>{t(Cr)})},u2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},c2=(e={})=>{let[t,n]=T.useState(Cr),r=T.useRef(Cr);T.useEffect(()=>(r.current!==Cr&&n(Cr),va.push(n),()=>{let o=va.indexOf(n);o>-1&&va.splice(o,1)}),[]);let s=t.toasts.map(o=>{var l,c,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||u2[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...t,toasts:s}},d2=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||a2()}),mo=e=>(t,n)=>{let r=d2(t,e,n);return Wr({type:2,toast:r}),r.id},ze=(e,t)=>mo("blank")(e,t);ze.error=mo("error");ze.success=mo("success");ze.loading=mo("loading");ze.custom=mo("custom");ze.dismiss=e=>{Wr({type:3,toastId:e})};ze.remove=e=>Wr({type:4,toastId:e});ze.promise=(e,t,n)=>{let r=ze.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?qa(t.success,s):void 0;return o?ze.success(o,{id:r,...n,...n==null?void 0:n.success}):ze.dismiss(r),s}).catch(s=>{let o=t.error?qa(t.error,s):void 0;o?ze.error(o,{id:r,...n,...n==null?void 0:n.error}):ze.dismiss(r)}),e};var h2=(e,t)=>{Wr({type:1,toast:{id:e,height:t}})},f2=()=>{Wr({type:5,time:Date.now()})},Os=new Map,p2=1e3,m2=(e,t=p2)=>{if(Os.has(e))return;let n=setTimeout(()=>{Os.delete(e),Wr({type:4,toastId:e})},t);Os.set(e,n)},g2=e=>{let{toasts:t,pausedAt:n}=c2(e);T.useEffect(()=>{if(n)return;let o=Date.now(),l=t.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(o-c.createdAt);if(d<0){c.visible&&ze.dismiss(c.id);return}return setTimeout(()=>ze.dismiss(c.id),d)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[t,n]);let r=T.useCallback(()=>{n&&Wr({type:6,time:Date.now()})},[n]),s=T.useCallback((o,l)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:f}=l||{},g=t.filter(x=>(x.position||f)===(o.position||f)&&x.height),v=g.findIndex(x=>x.id===o.id),_=g.filter((x,P)=>P<v&&x.visible).length;return g.filter(x=>x.visible).slice(...c?[_+1]:[0,_]).reduce((x,P)=>x+(P.height||0)+d,0)},[t]);return T.useEffect(()=>{t.forEach(o=>{if(o.dismissed)m2(o.id,o.removeDelay);else{let l=Os.get(o.id);l&&(clearTimeout(l),Os.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:h2,startPause:f2,endPause:r,calculateOffset:s}}},v2=kn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_2=kn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,y2=kn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,w2=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${v2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${y2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,x2=kn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,b2=ur("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${x2} 1s linear infinite;
`,S2=kn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,k2=kn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,E2=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${S2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${k2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,T2=ur("div")`
  position: absolute;
`,P2=ur("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C2=kn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,I2=ur("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,N2=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?T.createElement(I2,null,t):t:n==="blank"?null:T.createElement(P2,null,T.createElement(b2,{...r}),n!=="loading"&&T.createElement(T2,null,n==="error"?T.createElement(w2,{...r}):T.createElement(E2,{...r})))},L2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,j2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,O2="0%{opacity:0;} 100%{opacity:1;}",A2="0%{opacity:1;} 100%{opacity:0;}",M2=ur("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,D2=ur("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,R2=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Gy()?[O2,A2]:[L2(n),j2(n)];return{animation:t?`${kn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${kn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},z2=T.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?R2(e.position||t||"top-center",e.visible):{opacity:0},o=T.createElement(N2,{toast:e}),l=T.createElement(D2,{...e.ariaProps},qa(e.message,e));return T.createElement(M2,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:o,message:l}):T.createElement(T.Fragment,null,o,l))});s2(T.createElement);var B2=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let o=T.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;r(e,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return T.createElement("div",{ref:o,className:t,style:n},s)},F2=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},$2=Sl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ia=16,U2=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=g2(n);return T.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ia,left:ia,right:ia,bottom:ia,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(f=>{let g=f.position||t,v=d.calculateOffset(f,{reverseOrder:e,gutter:r,defaultPosition:t}),_=F2(g,v);return T.createElement(B2,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?$2:"",style:_},f.type==="custom"?qa(f.message,f):s?s(f):T.createElement(z2,{toast:f,position:g}))}))},qe=ze;class cn{static async sendSingleNotification(t,n){try{const r=await fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"key=your_server_key"},body:JSON.stringify({to:t,notification:{title:n.title,body:n.body},data:n.data})});if(!r.ok)throw new Error(`FCM send failed: ${r.statusText}`)}catch(r){throw console.error(`Error sending to token ${t}:`,r),r}}static notify(t,n="success"){n==="success"?qe.success(t):qe.error(t)}static async requestPermission(){try{return await Notification.requestPermission()==="granted"?await KC(Gm,{vapidKey:"BDUk7NN0GW3pwrg2-djgR6mi5A4--dLyOUppXPC3WCVrTeX4sjTbfr0V_hhKQIhK30SBHFkZb63BrogreC-0zt0"}):null}catch(t){return console.error("FCM permission error:",t),null}}static async sendAdminNotification(t){try{const{data:n,error:r}=await Z.from("user_profiles").select("id, fcm_token").eq("role","admin");if(r||!(n!=null&&n.length)){this.notify("No admin users found","error");return}const s=n.filter(o=>o.fcm_token).map(o=>this.sendSingleNotification(o.fcm_token,t));await Promise.all(s),this.notify("Notification sent to admins")}catch(n){this.notify("Failed to send notification","error"),console.error("Error:",n)}}static subscribeToNotifications(t){return JC(Gm,n=>{t(n)})}}const Hr=B_(US(e=>({user:null,loading:!0,error:null,setUser:t=>e({user:t}),signIn:async(t,n)=>{const{data:r,error:s}=await Z.auth.signInWithPassword({email:t,password:n});if(s)throw cn.notify("Sign-in failed. Please check your credentials."),s;if(r.user){const{data:o,error:l}=await Z.from("profiles").select("role").eq("id",r.user.id).maybeSingle();if(l)throw cn.notify("Failed to fetch user profile."),l;let c=(o==null?void 0:o.role)||"user";if(!o){const{data:d,error:f}=await Z.from("profiles").insert([{id:r.user.id,role:c}]).select("role").single();if(f)throw cn.notify("Failed to create user profile."),f;c=d.role}e({user:{id:r.user.id,email:r.user.email,role:c}}),cn.notify("Sign-in successful.")}},signOut:async()=>{await Z.auth.signOut(),e({user:null}),cn.notify("Sign-out successful.")},fetchUser:async()=>{e({loading:!0});const{data:t}=await Z.auth.getSession(),n=t.session;if(n!=null&&n.user){const{data:r,error:s}=await Z.from("profiles").select("role").eq("id",n.user.id).maybeSingle();if(s){e({loading:!1}),cn.notify("Failed to fetch user profile.");return}e({user:{id:n.user.id,email:n.user.email,role:(r==null?void 0:r.role)||"user"},loading:!1}),cn.notify("User fetched successfully.")}else e({user:null,loading:!1}),cn.notify("No user session found.")}}),{name:"auth-storage"}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,...f},g)=>T.createElement("svg",{ref:g,...W2,width:s,height:s,stroke:r,strokeWidth:l?Number(o)*24/Number(s):o,className:["lucide",`lucide-${H2(e)}`,c].join(" "),...f},[...t.map(([v,_])=>T.createElement(v,_)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ce("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ce("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Ce("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function sI(){const[e,t]=T.useState(""),[n,r]=T.useState(""),[s,o]=T.useState(""),[l,c]=T.useState(!1),d=Vt(),f=Hr(v=>v.signIn);async function g(v){v.preventDefault(),c(!0),o("");try{await f(e,n),d("/admin")}catch(_){o((_==null?void 0:_.message)||"Invalid credentials")}finally{c(!1)}}return p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("div",{className:"max-w-md w-full mx-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[p.jsx("div",{className:"flex justify-center mb-8",children:p.jsx(Q2,{className:"w-12 h-12 text-blue-600"})}),p.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:"Admin Login"}),s&&p.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:s}),p.jsxs("form",{onSubmit:g,children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),p.jsx("input",{type:"email",value:e,onChange:v=>t(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),p.jsx("input",{type:"password",value:n,onChange:v=>r(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),p.jsx("button",{type:"submit",className:`w-full py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${l?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,disabled:l,children:l?"Signing In...":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx(Oi,{to:"/user/login",className:"text-blue-600 hover:text-blue-800",children:"← User Login"})})]})})})}function oI(){const[e,t]=T.useState(""),[n,r]=T.useState(""),[s,o]=T.useState(""),l=Vt(),c=Hr(f=>f.signIn);async function d(f){f.preventDefault();try{await c(e,n),l("/dashboard")}catch{o("Invalid credentials")}}return p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("div",{className:"max-w-md w-full mx-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[p.jsx("div",{className:"flex justify-center mb-8",children:p.jsx(nI,{className:"w-12 h-12 text-blue-600"})}),p.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:"User Login"}),s&&p.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:s}),p.jsxs("form",{onSubmit:d,children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),p.jsx("input",{type:"email",value:e,onChange:f=>t(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),p.jsx("input",{type:"password",value:n,onChange:f=>r(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),p.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx(Oi,{to:"/admin/login",className:"text-blue-600 hover:text-blue-800",children:"Admin Login →"})})]})})})}const Ve=[];for(let e=0;e<256;++e)Ve.push((e+256).toString(16).slice(1));function aI(e,t=0){return(Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]).toLowerCase()}let Qu;const lI=new Uint8Array(16);function uI(){if(!Qu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qu=crypto.getRandomValues.bind(crypto)}return Qu(lI)}const cI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qm={randomUUID:cI};function dI(e,t,n){var s;if(Qm.randomUUID&&!t&&!e)return Qm.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??uI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,aI(r)}function Qy({onClose:e,onSuccess:t,siteId:n}){const[r,s]=T.useState({id:"",name:"",location:"",latitude:"",longitude:"",power_details:"",transmission_details:"",landlord_details:{name:"",contact:"",agreement_date:""},nea_details:{approval_number:"",approval_date:""}});T.useEffect(()=>{n?l():o()},[n]);function o(){const d=dI();s(f=>({...f,id:d}))}async function l(){var d,f;try{const{data:g,error:v}=await Z.from("sites").select("*").eq("id",n).single();if(v)throw v;g&&s({...g,latitude:((d=g.latitude)==null?void 0:d.toString())||"",longitude:((f=g.longitude)==null?void 0:f.toString())||"",power_details:g.power_details||"",transmission_details:g.transmission_details||"",landlord_details:g.landlord_details||{name:"",contact:"",agreement_date:""},nea_details:g.nea_details||{approval_number:"",approval_date:""}})}catch(g){console.error("Error loading site data:",g),qe.error("Failed to load site data")}}const c=async d=>{d.preventDefault();try{const f={...r,latitude:r.latitude?parseFloat(r.latitude):null,longitude:r.longitude?parseFloat(r.longitude):null};let g;if(n?g=await Z.from("sites").update(f).eq("id",n):g=await Z.from("sites").insert([{...f,id:r.id}]),g.error)throw g.error;qe.success(n?"Site updated successfully!":"Site created successfully!"),t(),e()}catch(f){console.error("Error saving site:",f),qe.error("Failed to save site")}};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Site":"Add New Site"}),p.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Site ID: ",r.id||"Generating..."]})]}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:p.jsx(kl,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:c,children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),p.jsx("input",{type:"text",required:!0,value:r.name,onChange:d=>s({...r,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),p.jsx("input",{type:"text",required:!0,value:r.location,onChange:d=>s({...r,location:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),p.jsx("input",{type:"number",step:"any",value:r.latitude||"",onChange:d=>s({...r,latitude:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. 27.7172"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),p.jsx("input",{type:"number",step:"any",value:r.longitude||"",onChange:d=>s({...r,longitude:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. 85.3240"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Power Details"}),p.jsx("textarea",{value:r.power_details||"",onChange:d=>s({...r,power_details:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transmission Details"}),p.jsx("textarea",{value:r.transmission_details||"",onChange:d=>s({...r,transmission_details:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Landlord Details"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),p.jsx("input",{type:"text",value:r.landlord_details.name||"",onChange:d=>s({...r,landlord_details:{...r.landlord_details,name:d.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact"}),p.jsx("input",{type:"text",value:r.landlord_details.contact||"",onChange:d=>s({...r,landlord_details:{...r.landlord_details,contact:d.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agreement Date"}),p.jsx("input",{type:"date",value:r.landlord_details.agreement_date||"",onChange:d=>s({...r,landlord_details:{...r.landlord_details,agreement_date:d.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"NEA Details"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approval Number"}),p.jsx("input",{type:"text",value:r.nea_details.approval_number||"",onChange:d=>s({...r,nea_details:{...r.nea_details,approval_number:d.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approval Date"}),p.jsx("input",{type:"date",value:r.nea_details.approval_date||"",onChange:d=>s({...r,nea_details:{...r.nea_details,approval_date:d.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),p.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[p.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:n?"Update Site":"Add Site"})]})]})]})})}function hI({onClose:e,onSuccess:t,siteId:n,deviceId:r}){const[s,o]=T.useState({device_type:"",name:"",ip_address:"",port_configuration:{},status:"active"}),[l,c]=T.useState(!1);T.useEffect(()=>{r&&d()},[r]);const d=async()=>{c(!0);try{const{data:v,error:_}=await Z.from("network_devices").select("*").eq("id",r).single();if(_)throw _;o({device_type:v.device_type,name:v.name,ip_address:v.ip_address,port_configuration:v.port_configuration,status:v.status})}catch(v){console.error("Error fetching device:",v)}finally{c(!1)}},f=async v=>{v.preventDefault();try{if(c(!0),r){const{error:_}=await Z.from("network_devices").update({...s}).eq("id",r);if(_)throw _;t(),e()}else{const{error:_}=await Z.from("network_devices").insert([{...s,site_id:n}]).single();if(_)throw _;t(),e()}}catch(_){console.error("Error handling device:",_)}finally{c(!1)}},g=async()=>{if(!(!r||!window.confirm("Are you sure you want to delete this device?")))try{c(!0);const{error:_}=await Z.from("network_devices").delete().eq("id",r);if(_)throw _;t(),e()}catch(_){console.error("Error deleting device:",_)}finally{c(!1)}};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Network Device":"Add Network Device"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:p.jsx(kl,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:f,children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Device Type"}),p.jsxs("select",{required:!0,value:s.device_type,onChange:v=>o({...s,device_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Select device type..."}),p.jsx("option",{value:"router",children:"Router"}),p.jsx("option",{value:"switch",children:"Switch"}),p.jsx("option",{value:"firewall",children:"Firewall"}),p.jsx("option",{value:"access_point",children:"Access Point"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Device Name"}),p.jsx("input",{type:"text",required:!0,value:s.name,onChange:v=>o({...s,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP Address"}),p.jsx("input",{type:"text",value:s.ip_address,onChange:v=>o({...s,ip_address:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"192.168.1.1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),p.jsxs("select",{value:s.status,onChange:v=>o({...s,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"inactive",children:"Inactive"}),p.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),p.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[p.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r&&p.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 text-red-600 bg-red-100 rounded-lg hover:bg-red-200",disabled:l,children:l?"Deleting...":"Delete Device"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:l,children:l?"Saving...":r?"Update Device":"Add Device"})]})]})]})})}function fI({onClose:e,onSuccess:t,siteId:n,selectedRoute:r}){const[s,o]=T.useState({route_data:"",description:""});T.useEffect(()=>{r&&o({route_data:r.route_data,description:r.description})},[r]);const l=async c=>{c.preventDefault();try{const{data:d,error:f}=await Z.from("fiber_routes").insert([{site_id:n,route_data:s.route_data,description:s.description}]);if(f)throw f;console.log("Fiber route saved successfully:",d),qe.success("Fiber route saved successfully!"),t(),e()}catch(d){console.error("Error saving fiber route:",d),qe.error("Failed to save fiber route")}};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[r?"Edit":"Add"," Fiber Route"]}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:p.jsx(kl,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:l,children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Route Data (KML/KMZ)"}),p.jsx("textarea",{required:!0,value:s.route_data,onChange:c=>o({...s,route_data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:10,placeholder:"Paste KML/KMZ data here..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),p.jsx("textarea",{value:s.description,onChange:c=>o({...s,description:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Enter route description..."})]})]}),p.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[p.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),p.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r?"Update":"Add"," Route"]})]})]})]})})}function pI({onClose:e,onSuccess:t,userId:n}){const[r,s]=T.useState({email:"",password:"",role:"user"}),[o,l]=T.useState(!1);T.useEffect(()=>{n&&c()},[n]);const c=async()=>{l(!0);try{const{data:g,error:v}=await Z.from("profiles").select("*").eq("id",n).single();if(v)throw v;s({email:g.email,password:"",role:g.role})}catch(g){console.error("Error fetching user:",g)}finally{l(!1)}},d=async g=>{g.preventDefault();try{if(l(!0),n){const{error:v}=await Z.from("profiles").update({role:r.role}).eq("id",n);if(v)throw v;t(),e()}else{const{data:v,error:_}=await Z.auth.signUp({email:r.email,password:r.password});if(_)throw _;if(v.user){const{error:x}=await Z.from("profiles").insert([{id:v.user.id,email:r.email,role:r.role}]).single();if(x)throw x}t(),e()}}catch(v){console.error("Error creating/updating user:",v)}finally{l(!1)}},f=async()=>{if(!(!n||!window.confirm("Are you sure you want to delete this user?")))try{l(!0);const{error:v}=await Z.from("profiles").delete().eq("id",n);if(v)throw v;const{error:_}=await Z.auth.admin.deleteUser(n);if(_)throw _;t(),e()}catch(v){console.error("Error deleting user:",v)}finally{l(!1)}};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit User":"Add User"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:p.jsx(kl,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:d,children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),p.jsx("input",{type:"email",required:!0,value:r.email,onChange:g=>s({...r,email:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o&&!!n})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),p.jsx("input",{type:"password",required:!n,value:r.password,onChange:g=>s({...r,password:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o&&!!n})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),p.jsxs("select",{value:r.role,onChange:g=>s({...r,role:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"user",children:"User"}),p.jsx("option",{value:"admin",children:"Admin"})]})]})]}),p.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[p.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n&&p.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-red-600 bg-red-100 rounded-lg hover:bg-red-200",disabled:o,children:o?"Deleting...":"Delete User"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:o,children:o?"Saving...":n?"Update User":"Add User"})]})]})]})})}const mI=({message:e,onClose:t})=>{const[n,r]=T.useState(!0);return T.useEffect(()=>{const s=setTimeout(()=>{r(!1),t()},5e3);return()=>clearTimeout(s)},[t]),n?p.jsxs("div",{className:"notification",children:[p.jsx("p",{children:e}),p.jsx("button",{onClick:()=>r(!1),children:"Close"})]}):null};function gI(){const[e,t]=T.useState([]),[n,r]=T.useState([]),[s,o]=T.useState([]),[l,c]=T.useState([]),[d,f]=T.useState(!0),[g,v]=T.useState(""),[_,x]=T.useState(!1),[P,E]=T.useState(!1),[I,b]=T.useState(!1),[w,k]=T.useState(!1),[j,M]=T.useState(""),B=Vt(),U=Hr(V=>V.signOut);T.useEffect(()=>{F()},[]);async function F(){try{const[V,X,mt,me]=await Promise.all([Z.from("sites").select("*"),Z.from("network_devices").select("*"),Z.from("fiber_routes").select("*"),Z.from("profiles").select("*")]);if(V.error)throw V.error;if(X.error)throw X.error;if(mt.error)throw mt.error;if(me.error)throw me.error;t(V.data||[]),r(X.data||[]),o(mt.data||[]),c(me.data||[])}catch(V){console.error("Error loading data:",V)}finally{f(!1)}}async function de(V){if(window.confirm("Are you sure you want to delete this site?"))try{const{error:X}=await Z.from("sites").delete().eq("id",V);if(X)throw X;await F(),v("Site deleted successfully!")}catch(X){console.error("Error deleting site:",X)}}async function J(V){if(window.confirm("Are you sure you want to delete this user?")){console.log("Deleting user:",V);try{const{error:X}=await Z.from("profiles").delete().eq("id",V);if(X)throw X;await F(),v("User deleted successfully!")}catch(X){console.error("Error deleting user:",X)}}}async function ce(){try{await U(),B("/admin/login")}catch(V){console.error("Error signing out:",V)}}async function W(V){try{const{error:X}=await Z.from("tasks").insert([{assigned_to:V,description:window.prompt("Enter task description:"),site_id:window.prompt("Enter site ID:")}]);if(X)throw X;alert("Task created successfully!")}catch(X){console.error("Error creating task:",X)}}return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g&&p.jsx(mI,{message:g,onClose:()=>v("")}),p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs(Oi,{to:"/site-map",className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[p.jsx(G2,{className:"w-5 h-5 mr-2"}),"View Map"]}),p.jsxs(Oi,{to:"/site-images",className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[p.jsx(Oh,{className:"w-5 h-5 mr-2"}),"Manage Images"]}),p.jsxs("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[p.jsx(xs,{className:"w-5 h-5 mr-2"}),"Add New Site"]}),p.jsxs("button",{onClick:ce,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[p.jsx(fd,{className:"w-5 h-5 mr-2"}),"Logout"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Yy,{className:"w-8 h-8 text-blue-600"}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Total Sites"}),p.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ym,{className:"w-8 h-8 text-green-600"}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Network Devices"}),p.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Jm,{className:"w-8 h-8 text-purple-600"}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Fiber Routes"}),p.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(rI,{className:"w-8 h-8 text-orange-600"}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Users"}),p.jsx("p",{className:"text-2xl font-bold",children:l.length})]})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white shadow rounded-lg",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Sites"}),p.jsx("button",{onClick:()=>x(!0),className:"text-blue-600 hover:text-blue-800",children:p.jsx(xs,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6",children:p.jsx("div",{className:"space-y-4",children:e.map(V=>p.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:V.name}),p.jsx("p",{className:"text-sm text-gray-500",children:V.location})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>B(`/admin/sites/${V.id}`),className:"text-blue-600 hover:text-blue-800",children:p.jsx(Jy,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>{M(V.id),E(!0)},className:"text-green-600 hover:text-green-800",children:p.jsx(Ym,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>{M(V.id),b(!0)},className:"text-purple-600 hover:text-purple-800",children:p.jsx(Jm,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>de(V.id),className:"text-red-600 hover:text-red-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},V.id))})})]}),p.jsxs("div",{className:"bg-white shadow rounded-lg",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Users"}),p.jsx("button",{onClick:()=>k(!0),className:"text-blue-600 hover:text-blue-800",children:p.jsx(xs,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6",children:p.jsx("div",{className:"space-y-4",children:l.map(V=>p.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:V.email}),p.jsx("p",{className:"text-sm text-gray-500 capitalize",children:V.role})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>W(V.id),className:"text-blue-600 hover:text-blue-800",children:p.jsx(xs,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>J(V.id),className:"text-red-600 hover:text-red-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},V.id))})})]})]})]}),_&&p.jsx(Qy,{onClose:()=>x(!1),onSuccess:F}),P&&j&&p.jsx(hI,{onClose:()=>{E(!1),M("")},onSuccess:F,siteId:j}),I&&j&&p.jsx(fI,{onClose:()=>{b(!1),M("")},onSuccess:F,siteId:j}),w&&p.jsx(pI,{onClose:()=>k(!1),onSuccess:F})]})}const vI=B_((e,t)=>({notifications:[],unreadCount:0,loading:!1,fetchNotifications:async()=>{e({loading:!0});const{data:n,error:r}=await Z.from("notifications").select("*").order("created_at",{ascending:!1});r?(ze.error("Failed to fetch notifications"),console.error(r)):e({notifications:n||[],unreadCount:(n==null?void 0:n.filter(s=>!s.read).length)||0,loading:!1})},markAsRead:async n=>{const{error:r}=await Z.from("notifications").update({read:!0}).eq("id",n);if(r){ze.error("Failed to mark notification as read");return}e(s=>({notifications:s.notifications.map(o=>o.id===n?{...o,read:!0}:o),unreadCount:Math.max(0,s.unreadCount-1)}))},createNotification:async({userEmail:n,siteName:r,changes:s,actionType:o})=>{const l=`${n} ${o} site: ${r}. Changes: ${s}`,{error:c}=await Z.from("notifications").insert([{message:l,user_email:n,site_name:r,action_type:o,read:!1,created_at:new Date().toISOString()}]);c?(ze.error("Failed to create notification"),console.error(c)):(ze.success(`New notification: ${l}`),await t().fetchNotifications())}}));function _I(){const e=Vt(),[t,n]=T.useState([]),[r,s]=T.useState(!0),[o,l]=T.useState(null),c=Hr(_=>_.user),d=vI(_=>_.createNotification);T.useEffect(()=>{(async()=>{s(!0);const{data:x,error:P}=await Z.from("sites").select("*");P?(console.error("Error fetching sites:",P),qe.error("Failed to load sites")):n(x||[]),s(!1)})()},[]);const f=_=>{l({..._})},g=async()=>{if(o)try{const _=t.find(E=>E.id===o.id),x=Object.keys(o).reduce((E,I)=>(_&&_[I]!==o[I]&&E.push(`${I}: ${_[I]} -> ${o[I]}`),E),[]).join(", "),{error:P}=await Z.from("sites").update({name:o.name,location:o.location,latitude:o.latitude,longitude:o.longitude,transmission_details:o.transmission_details}).eq("id",o.id);if(P)throw P;await d({title:"Site Updated",message:`Site "${o.name}" was updated by ${c==null?void 0:c.email}`,user_id:(c==null?void 0:c.id)||"",site_id:o.id,action_type:"SITE_UPDATE",userEmail:(c==null?void 0:c.email)||"",siteName:o.name,changes:x,actionType:"UPDATE"}),n(t.map(E=>E.id===o.id?o:E)),l(null),qe.success("Site updated successfully")}catch(_){console.error("Error:",_),qe.error("Failed to update site")}},v=()=>{l(null)};return r?p.jsx("div",{className:"text-center py-10",children:"Loading..."}):p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:p.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Sites Management"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full border rounded-lg overflow-hidden shadow-md",children:[p.jsx("thead",{className:"bg-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Name"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Location"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Coordinates"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(_=>p.jsxs("tr",{className:"hover:bg-gray-100",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(o==null?void 0:o.id)===_.id?p.jsx("input",{type:"text",value:o.name,onChange:x=>l({...o,name:x.target.value}),className:"border border-gray-300 px-3 py-1 rounded-md w-full"}):_.name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(o==null?void 0:o.id)===_.id?p.jsx("input",{type:"text",value:o.location,onChange:x=>l({...o,location:x.target.value}),className:"border border-gray-300 px-3 py-1 rounded-md w-full"}):_.location}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(o==null?void 0:o.id)===_.id?p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("input",{type:"number",value:o.latitude||"",onChange:x=>l({...o,latitude:parseFloat(x.target.value)}),className:"border border-gray-300 px-3 py-1 rounded-md w-1/2",placeholder:"Latitude"}),p.jsx("input",{type:"number",value:o.longitude||"",onChange:x=>l({...o,longitude:parseFloat(x.target.value)}),className:"border border-gray-300 px-3 py-1 rounded-md w-1/2",placeholder:"Longitude"})]}):`${_.latitude}, ${_.longitude}`}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p.jsx("div",{className:"flex justify-end space-x-3",children:(o==null?void 0:o.id)===_.id?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:g,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[p.jsx(Y2,{className:"w-5 h-5 mr-1"})," Save"]}),p.jsxs("button",{onClick:v,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md flex items-center",children:[p.jsx(iI,{className:"w-5 h-5 mr-1"})," Cancel"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>f(_),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md flex items-center",children:[p.jsx(X2,{className:"w-5 h-5 mr-1"})," Edit"]}),p.jsxs("button",{onClick:()=>e(`/site-details/${_.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[p.jsx(Jy,{className:"w-5 h-5 mr-1"})," View"]})]})})})]},_.id))})]})})]})})}function yI(){const[e,t]=T.useState([]),[n,r]=T.useState(""),[s,o]=T.useState([]),[l,c]=T.useState(!0),[d,f]=T.useState(!1),[g,v]=T.useState(""),[_,x]=T.useState("general"),[P,E]=T.useState("all"),[I,b]=T.useState(null),[w,k]=T.useState(!1),j=Vt();T.useEffect(()=>{M()},[]),T.useEffect(()=>{n&&B()},[n]);async function M(){try{const{data:W,error:V}=await Z.from("sites").select("id, name").order("name");if(V)throw V;t(W||[]),c(!1)}catch(W){console.error("Error loading sites:",W),c(!1)}}async function B(){try{const{data:W,error:V}=await Z.from("site_images").select("*").eq("site_id",n).order("created_at",{ascending:!1});if(V)throw V;o(W||[])}catch(W){console.error("Error loading images:",W)}}function U(W){var X;const V=(X=W.target.files)==null?void 0:X[0];V&&b(V)}async function F(){try{if(!I||!n)return;f(!0),k(!1);const W=I.name.split(".").pop(),V=`${Math.random()}.${W}`,X=`site-images/${n}/${_}/${V}`,{error:mt}=await Z.storage.from("site-images").upload(X,I);if(mt)throw mt;const{data:me}=Z.storage.from("site-images").getPublicUrl(X),{error:kt}=await Z.from("site_images").insert([{site_id:n,image_url:me.publicUrl,description:g,category:_}]);if(kt)throw kt;v(""),b(null),k(!0),await B()}catch(W){console.error("Error uploading image:",W)}finally{f(!1)}}async function de(W,V){try{const X=V.split("/site-images/")[1],{error:mt}=await Z.storage.from("site-images").remove([X]);if(mt)throw mt;const{error:me}=await Z.from("site_images").delete().eq("id",W);if(me)throw me;await B()}catch(X){console.error("Error deleting image:",X)}}const J=P==="all"?s:s.filter(W=>W.category===P),ce=[{id:"all",name:"All Images"},{id:"general",name:"General"},{id:"equipment",name:"Equipment"},{id:"construction",name:"Construction"},{id:"maintenance",name:"Maintenance"},{id:"documentation",name:"Documentation"}];return l?p.jsx("div",{className:"p-8",children:"Loading..."}):p.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("button",{onClick:()=>j(-1),className:"flex items-center text-blue-600 hover:text-blue-800",children:[p.jsx(jh,{className:"w-5 h-5 mr-2"}),"Back"]}),p.jsxs("button",{onClick:()=>j("/site-map"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[p.jsx(Z2,{className:"w-5 h-5 mr-2"}),"View Site Map"]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsx(Oh,{className:"w-6 h-6 text-blue-600 mr-2"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Site Images"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Site"}),p.jsxs("select",{value:n,onChange:W=>r(W.target.value),className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Select a site..."}),e.map(W=>p.jsx("option",{value:W.id,children:W.name},W.id))]})]}),n&&p.jsxs("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Upload New Image"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Description"}),p.jsx("input",{type:"text",value:g,onChange:W=>v(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter image description"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Category"}),p.jsxs("select",{value:_,onChange:W=>x(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"general",children:"General"}),p.jsx("option",{value:"equipment",children:"Equipment"}),p.jsx("option",{value:"construction",children:"Construction"}),p.jsx("option",{value:"maintenance",children:"Maintenance"}),p.jsx("option",{value:"documentation",children:"Documentation"})]})]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Image File"}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer",children:[p.jsx(J2,{className:"w-5 h-5 mr-2"}),"Choose File",p.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:U})]}),p.jsx("span",{className:"ml-3 text-sm text-gray-600",children:I?I.name:"No file selected"})]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("button",{onClick:F,disabled:!I||d,className:`flex items-center px-4 py-2 rounded-lg ${!I||d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[p.jsx(tI,{className:"w-5 h-5 mr-2"}),d?"Uploading...":"Upload Image"]}),w&&p.jsxs("span",{className:"ml-4 text-sm text-green-600 flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Image uploaded successfully!"]})]})]}),n&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex overflow-x-auto space-x-2 mb-6 pb-2",children:ce.map(W=>p.jsx("button",{onClick:()=>E(W.id),className:`px-4 py-2 rounded-full whitespace-nowrap ${P===W.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:W.name},W.id))}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.length===0?p.jsx("div",{className:"col-span-full flex justify-center items-center h-40 bg-gray-50 rounded-lg",children:p.jsx("p",{className:"text-gray-500",children:"No images in this category"})}):J.map(W=>p.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden shadow",children:[p.jsx("img",{src:W.image_url,alt:W.description,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("p",{className:"text-sm text-gray-600",children:W.description}),p.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:W.category||"general"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-500",children:new Date(W.created_at).toLocaleDateString()}),p.jsx("button",{onClick:()=>de(W.id,W.image_url),className:"text-red-600 hover:text-red-800",children:p.jsx(eI,{className:"w-4 h-4"})})]})]})]},W.id))})]})]})]})})}function Xy(e,t){const n=T.useRef(t);T.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const wI=1;function xI(e){return Object.freeze({__version:wI,map:e})}function bI(e,t){return Object.freeze({...e,...t})}const e0=T.createContext(null),t0=e0.Provider;function Ah(){const e=T.useContext(e0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function SI(e){function t(n,r){const{instance:s,context:o}=e(n).current;return T.useImperativeHandle(r,()=>s),n.children==null?null:Ei.createElement(t0,{value:o},n.children)}return T.forwardRef(t)}function kI(e){function t(n,r){const[s,o]=T.useState(!1),{instance:l}=e(n,o).current;T.useImperativeHandle(r,()=>l),T.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?b_.createPortal(n.children,c):null}return T.forwardRef(t)}function EI(e){function t(n,r){const{instance:s}=e(n).current;return T.useImperativeHandle(r,()=>s),null}return T.forwardRef(t)}function n0(e,t){const n=T.useRef();T.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Mh(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function TI(e,t){return function(r,s){const o=Ah(),l=e(Mh(r,o),o);return Xy(o.map,r.attribution),n0(l.current,r.eventHandlers),t(l.current,o,r,s),l}}var pd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(wt,function(n){var r="1.9.4";function s(i){var a,u,h,m;for(u=1,h=arguments.length;u<h;u++){m=arguments[u];for(a in m)i[a]=m[a]}return i}var o=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var h=u.call(arguments,2);return function(){return i.apply(a,h.length?h.concat(u.call(arguments)):arguments)}}var c=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++c),i._leaflet_id}function f(i,a,u){var h,m,y,S;return S=function(){h=!1,m&&(y.apply(u,m),m=!1)},y=function(){h?m=arguments:(i.apply(u,arguments),setTimeout(S,a),h=!0)},y}function g(i,a,u){var h=a[1],m=a[0],y=h-m;return i===h&&u?i:((i-m)%y+y)%y+m}function v(){return!1}function _(i,a){if(a===!1)return i;var u=Math.pow(10,a===void 0?6:a);return Math.round(i*u)/u}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function P(i){return x(i).split(/\s+/)}function E(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var u in a)i.options[u]=a[u];return i.options}function I(i,a,u){var h=[];for(var m in i)h.push(encodeURIComponent(u?m.toUpperCase():m)+"="+encodeURIComponent(i[m]));return(!a||a.indexOf("?")===-1?"?":"&")+h.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function w(i,a){return i.replace(b,function(u,h){var m=a[h];if(m===void 0)throw new Error("No value provided for variable "+u);return typeof m=="function"&&(m=m(a)),m})}var k=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function j(i,a){for(var u=0;u<i.length;u++)if(i[u]===a)return u;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var U=0;function F(i){var a=+new Date,u=Math.max(0,16-(a-U));return U=a+u,window.setTimeout(i,u)}var de=window.requestAnimationFrame||B("RequestAnimationFrame")||F,J=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function ce(i,a,u){if(u&&de===F)i.call(a);else return de.call(window,l(i,a))}function W(i){i&&J.call(window,i)}var V={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:f,wrapNum:g,falseFn:v,formatNum:_,trim:x,splitWords:P,setOptions:E,getParamString:I,template:w,isArray:k,indexOf:j,emptyImageUrl:M,requestFn:de,cancelFn:J,requestAnimFrame:ce,cancelAnimFrame:W};function X(){}X.extend=function(i){var a=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,h=o(u);h.constructor=a,a.prototype=h;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(a[m]=this[m]);return i.statics&&s(a,i.statics),i.includes&&(mt(i.includes),s.apply(null,[h].concat(i.includes))),s(h,i),delete h.statics,delete h.includes,h.options&&(h.options=u.options?o(u.options):{},s(h.options,i.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,S=h._initHooks.length;y<S;y++)h._initHooks[y].call(this)}},a},X.include=function(i){var a=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},X.mergeOptions=function(i){return s(this.prototype.options,i),this},X.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function mt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=k(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var me={on:function(i,a,u){if(typeof i=="object")for(var h in i)this._on(h,i[h],a);else{i=P(i);for(var m=0,y=i.length;m<y;m++)this._on(i[m],a,u)}return this},off:function(i,a,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var h in i)this._off(h,i[h],a);else{i=P(i);for(var m=arguments.length===1,y=0,S=i.length;y<S;y++)m?this._off(i[y]):this._off(i[y],a,u)}return this},_on:function(i,a,u,h){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,u)===!1){u===this&&(u=void 0);var m={fn:a,ctx:u};h&&(m.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(m)}},_off:function(i,a,u){var h,m,y;if(this._events&&(h=this._events[i],!!h)){if(arguments.length===1){if(this._firingCount)for(m=0,y=h.length;m<y;m++)h[m].fn=v;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var S=this._listens(i,a,u);if(S!==!1){var C=h[S];this._firingCount&&(C.fn=v,this._events[i]=h=h.slice()),h.splice(S,1)}}},fire:function(i,a,u){if(!this.listens(i,u))return this;var h=s({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var m=this._events[i];if(m){this._firingCount=this._firingCount+1||1;for(var y=0,S=m.length;y<S;y++){var C=m[y],N=C.fn;C.once&&this.off(i,N,C.ctx),N.call(C.ctx||this,h)}this._firingCount--}}return u&&this._propagateEvent(h),this},listens:function(i,a,u,h){typeof i!="string"&&console.warn('"string" type argument expected');var m=a;typeof a!="function"&&(h=!!a,m=void 0,u=void 0);var y=this._events&&this._events[i];if(y&&y.length&&this._listens(i,m,u)!==!1)return!0;if(h){for(var S in this._eventParents)if(this._eventParents[S].listens(i,a,u,h))return!0}return!1},_listens:function(i,a,u){if(!this._events)return!1;var h=this._events[i]||[];if(!a)return!!h.length;u===this&&(u=void 0);for(var m=0,y=h.length;m<y;m++)if(h[m].fn===a&&h[m].ctx===u)return m;return!1},once:function(i,a,u){if(typeof i=="object")for(var h in i)this._on(h,i[h],a,!0);else{i=P(i);for(var m=0,y=i.length;m<y;m++)this._on(i[m],a,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var kt=X.extend(me);function O(i,a,u){this.x=u?Math.round(i):i,this.y=u?Math.round(a):a}var K=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(i){return this.clone()._add(R(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(R(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new O(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new O(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(i){i=R(i);var a=i.x-this.x,u=i.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(i){return i=R(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=R(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function R(i,a,u){return i instanceof O?i:k(i)?new O(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new O(i.x,i.y):new O(i,a,u)}function G(i,a){if(i)for(var u=a?[i,a]:i,h=0,m=u.length;h<m;h++)this.extend(u[h])}G.prototype={extend:function(i){var a,u;if(!i)return this;if(i instanceof O||typeof i[0]=="number"||"x"in i)a=u=R(i);else if(i=oe(i),a=i.min,u=i.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,u;return typeof i[0]=="number"||i instanceof O?i=R(i):i=oe(i),i instanceof G?(a=i.min,u=i.max):a=u=i,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=oe(i);var a=this.min,u=this.max,h=i.min,m=i.max,y=m.x>=a.x&&h.x<=u.x,S=m.y>=a.y&&h.y<=u.y;return y&&S},overlaps:function(i){i=oe(i);var a=this.min,u=this.max,h=i.min,m=i.max,y=m.x>a.x&&h.x<u.x,S=m.y>a.y&&h.y<u.y;return y&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,u=this.max,h=Math.abs(a.x-u.x)*i,m=Math.abs(a.y-u.y)*i;return oe(R(a.x-h,a.y-m),R(u.x+h,u.y+m))},equals:function(i){return i?(i=oe(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function oe(i,a){return!i||i instanceof G?i:new G(i,a)}function De(i,a){if(i)for(var u=a?[i,a]:i,h=0,m=u.length;h<m;h++)this.extend(u[h])}De.prototype={extend:function(i){var a=this._southWest,u=this._northEast,h,m;if(i instanceof le)h=i,m=i;else if(i instanceof De){if(h=i._southWest,m=i._northEast,!h||!m)return this}else return i?this.extend(Y(i)||pe(i)):this;return!a&&!u?(this._southWest=new le(h.lat,h.lng),this._northEast=new le(m.lat,m.lng)):(a.lat=Math.min(h.lat,a.lat),a.lng=Math.min(h.lng,a.lng),u.lat=Math.max(m.lat,u.lat),u.lng=Math.max(m.lng,u.lng)),this},pad:function(i){var a=this._southWest,u=this._northEast,h=Math.abs(a.lat-u.lat)*i,m=Math.abs(a.lng-u.lng)*i;return new De(new le(a.lat-h,a.lng-m),new le(u.lat+h,u.lng+m))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof le||"lat"in i?i=Y(i):i=pe(i);var a=this._southWest,u=this._northEast,h,m;return i instanceof De?(h=i.getSouthWest(),m=i.getNorthEast()):h=m=i,h.lat>=a.lat&&m.lat<=u.lat&&h.lng>=a.lng&&m.lng<=u.lng},intersects:function(i){i=pe(i);var a=this._southWest,u=this._northEast,h=i.getSouthWest(),m=i.getNorthEast(),y=m.lat>=a.lat&&h.lat<=u.lat,S=m.lng>=a.lng&&h.lng<=u.lng;return y&&S},overlaps:function(i){i=pe(i);var a=this._southWest,u=this._northEast,h=i.getSouthWest(),m=i.getNorthEast(),y=m.lat>a.lat&&h.lat<u.lat,S=m.lng>a.lng&&h.lng<u.lng;return y&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=pe(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pe(i,a){return i instanceof De?i:new De(i,a)}function le(i,a,u){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,u!==void 0&&(this.alt=+u)}le.prototype={equals:function(i,a){if(!i)return!1;i=Y(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+_(this.lat,i)+", "+_(this.lng,i)+")"},distanceTo:function(i){return Pn.distance(this,Y(i))},wrap:function(){return Pn.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,u=a/Math.cos(Math.PI/180*this.lat);return pe([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function Y(i,a,u){return i instanceof le?i:k(i)&&typeof i[0]!="object"?i.length===3?new le(i[0],i[1],i[2]):i.length===2?new le(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new le(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new le(i,a,u)}var ot={latLngToPoint:function(i,a){var u=this.projection.project(i),h=this.scale(a);return this.transformation._transform(u,h)},pointToLatLng:function(i,a){var u=this.scale(a),h=this.transformation.untransform(i,u);return this.projection.unproject(h)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(i),h=this.transformation.transform(a.min,u),m=this.transformation.transform(a.max,u);return new G(h,m)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,h=i.alt;return new le(u,a,h)},wrapLatLngBounds:function(i){var a=i.getCenter(),u=this.wrapLatLng(a),h=a.lat-u.lat,m=a.lng-u.lng;if(h===0&&m===0)return i;var y=i.getSouthWest(),S=i.getNorthEast(),C=new le(y.lat-h,y.lng-m),N=new le(S.lat-h,S.lng-m);return new De(C,N)}},Pn=s({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var u=Math.PI/180,h=i.lat*u,m=a.lat*u,y=Math.sin((a.lat-i.lat)*u/2),S=Math.sin((a.lng-i.lng)*u/2),C=y*y+Math.cos(h)*Math.cos(m)*S*S,N=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*N}}),Bh=6378137,Il={R:Bh,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,u=this.MAX_LATITUDE,h=Math.max(Math.min(u,i.lat),-u),m=Math.sin(h*a);return new O(this.R*i.lng*a,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(i){var a=180/Math.PI;return new le((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=Bh*Math.PI;return new G([-i,-i],[i,i])}()};function Nl(i,a,u,h){if(k(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=u,this._d=h}Nl.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new O((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function Vi(i,a,u,h){return new Nl(i,a,u,h)}var Ll=s({},Pn,{code:"EPSG:3857",projection:Il,transformation:function(){var i=.5/(Math.PI*Il.R);return Vi(i,.5,-i,.5)}()}),p0=s({},Ll,{code:"EPSG:900913"});function Fh(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function $h(i,a){var u="",h,m,y,S,C,N;for(h=0,y=i.length;h<y;h++){for(C=i[h],m=0,S=C.length;m<S;m++)N=C[m],u+=(m?"L":"M")+N.x+" "+N.y;u+=a?H.svg?"z":"x":""}return u||"M0 0"}var jl=document.documentElement.style,_o="ActiveXObject"in window,m0=_o&&!document.addEventListener,Uh="msLaunchUri"in navigator&&!("documentMode"in document),Ol=qt("webkit"),Wh=qt("android"),Hh=qt("android 2")||qt("android 3"),g0=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),v0=Wh&&qt("Google")&&g0<537&&!("AudioNode"in window),Al=!!window.opera,Vh=!Uh&&qt("chrome"),Zh=qt("gecko")&&!Ol&&!Al&&!_o,_0=!Vh&&qt("safari"),qh=qt("phantom"),Gh="OTransition"in jl,y0=navigator.platform.indexOf("Win")===0,Kh=_o&&"transition"in jl,Ml="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Hh,Jh="MozPerspective"in jl,w0=!window.L_DISABLE_3D&&(Kh||Ml||Jh)&&!Gh&&!qh,Zi=typeof orientation<"u"||qt("mobile"),x0=Zi&&Ol,b0=Zi&&Ml,Yh=!window.PointerEvent&&window.MSPointerEvent,Qh=!!(window.PointerEvent||Yh),Xh="ontouchstart"in window||!!window.TouchEvent,S0=!window.L_NO_TOUCH&&(Xh||Qh),k0=Zi&&Al,E0=Zi&&Zh,T0=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,P0=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",v,a),window.removeEventListener("testPassiveEventSupport",v,a)}catch{}return i}(),C0=function(){return!!document.createElement("canvas").getContext}(),Dl=!!(document.createElementNS&&Fh("svg").createSVGRect),I0=!!Dl&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),N0=!Dl&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),L0=navigator.platform.indexOf("Mac")===0,j0=navigator.platform.indexOf("Linux")===0;function qt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var H={ie:_o,ielt9:m0,edge:Uh,webkit:Ol,android:Wh,android23:Hh,androidStock:v0,opera:Al,chrome:Vh,gecko:Zh,safari:_0,phantom:qh,opera12:Gh,win:y0,ie3d:Kh,webkit3d:Ml,gecko3d:Jh,any3d:w0,mobile:Zi,mobileWebkit:x0,mobileWebkit3d:b0,msPointer:Yh,pointer:Qh,touch:S0,touchNative:Xh,mobileOpera:k0,mobileGecko:E0,retina:T0,passiveEvents:P0,canvas:C0,svg:Dl,vml:N0,inlineSvg:I0,mac:L0,linux:j0},ef=H.msPointer?"MSPointerDown":"pointerdown",tf=H.msPointer?"MSPointerMove":"pointermove",nf=H.msPointer?"MSPointerUp":"pointerup",rf=H.msPointer?"MSPointerCancel":"pointercancel",Rl={touchstart:ef,touchmove:tf,touchend:nf,touchcancel:rf},sf={touchstart:z0,touchmove:yo,touchend:yo,touchcancel:yo},Vr={},of=!1;function O0(i,a,u){return a==="touchstart"&&R0(),sf[a]?(u=sf[a].bind(this,u),i.addEventListener(Rl[a],u,!1),u):(console.warn("wrong event specified:",a),v)}function A0(i,a,u){if(!Rl[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Rl[a],u,!1)}function M0(i){Vr[i.pointerId]=i}function D0(i){Vr[i.pointerId]&&(Vr[i.pointerId]=i)}function af(i){delete Vr[i.pointerId]}function R0(){of||(document.addEventListener(ef,M0,!0),document.addEventListener(tf,D0,!0),document.addEventListener(nf,af,!0),document.addEventListener(rf,af,!0),of=!0)}function yo(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in Vr)a.touches.push(Vr[u]);a.changedTouches=[a],i(a)}}function z0(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&He(a),yo(i,a)}function B0(i){var a={},u,h;for(h in i)u=i[h],a[h]=u&&u.bind?u.bind(i):u;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var F0=200;function $0(i,a){i.addEventListener("dblclick",a);var u=0,h;function m(y){if(y.detail!==1){h=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var S=hf(y);if(!(S.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!S.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var C=Date.now();C-u<=F0?(h++,h===2&&a(B0(y))):h=1,u=C}}}return i.addEventListener("click",m),{dblclick:a,simDblclick:m}}function U0(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var zl=bo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qi=bo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lf=qi==="webkitTransition"||qi==="OTransition"?qi+"End":"transitionend";function uf(i){return typeof i=="string"?document.getElementById(i):i}function Gi(i,a){var u=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(i,null);u=h?h[a]:null}return u==="auto"?null:u}function ue(i,a,u){var h=document.createElement(i);return h.className=a||"",u&&u.appendChild(h),h}function ke(i){var a=i.parentNode;a&&a.removeChild(i)}function wo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Zr(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function qr(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Bl(i,a){if(i.classList!==void 0)return i.classList.contains(a);var u=xo(i);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function ee(i,a){if(i.classList!==void 0)for(var u=P(a),h=0,m=u.length;h<m;h++)i.classList.add(u[h]);else if(!Bl(i,a)){var y=xo(i);Fl(i,(y?y+" ":"")+a)}}function Ne(i,a){i.classList!==void 0?i.classList.remove(a):Fl(i,x((" "+xo(i)+" ").replace(" "+a+" "," ")))}function Fl(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function xo(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Et(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&W0(i,a)}function W0(i,a){var u=!1,h="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(h)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):i.style.filter+=" progid:"+h+"(opacity="+a+")"}function bo(i){for(var a=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in a)return i[u];return!1}function cr(i,a,u){var h=a||new O(0,0);i.style[zl]=(H.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(u?" scale("+u+")":"")}function Oe(i,a){i._leaflet_pos=a,H.any3d?cr(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function dr(i){return i._leaflet_pos||new O(0,0)}var Ki,Ji,$l;if("onselectstart"in document)Ki=function(){Q(window,"selectstart",He)},Ji=function(){ge(window,"selectstart",He)};else{var Yi=bo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ki=function(){if(Yi){var i=document.documentElement.style;$l=i[Yi],i[Yi]="none"}},Ji=function(){Yi&&(document.documentElement.style[Yi]=$l,$l=void 0)}}function Ul(){Q(window,"dragstart",He)}function Wl(){ge(window,"dragstart",He)}var So,Hl;function Vl(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ko(),So=i,Hl=i.style.outlineStyle,i.style.outlineStyle="none",Q(window,"keydown",ko))}function ko(){So&&(So.style.outlineStyle=Hl,So=void 0,Hl=void 0,ge(window,"keydown",ko))}function cf(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Zl(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var H0={__proto__:null,TRANSFORM:zl,TRANSITION:qi,TRANSITION_END:lf,get:uf,getStyle:Gi,create:ue,remove:ke,empty:wo,toFront:Zr,toBack:qr,hasClass:Bl,addClass:ee,removeClass:Ne,setClass:Fl,getClass:xo,setOpacity:Et,testProp:bo,setTransform:cr,setPosition:Oe,getPosition:dr,get disableTextSelection(){return Ki},get enableTextSelection(){return Ji},disableImageDrag:Ul,enableImageDrag:Wl,preventOutline:Vl,restoreOutline:ko,getSizedParentNode:cf,getScale:Zl};function Q(i,a,u,h){if(a&&typeof a=="object")for(var m in a)Gl(i,m,a[m],u);else{a=P(a);for(var y=0,S=a.length;y<S;y++)Gl(i,a[y],u,h)}return this}var Gt="_leaflet_events";function ge(i,a,u,h){if(arguments.length===1)df(i),delete i[Gt];else if(a&&typeof a=="object")for(var m in a)Kl(i,m,a[m],u);else if(a=P(a),arguments.length===2)df(i,function(C){return j(a,C)!==-1});else for(var y=0,S=a.length;y<S;y++)Kl(i,a[y],u,h);return this}function df(i,a){for(var u in i[Gt]){var h=u.split(/\d/)[0];(!a||a(h))&&Kl(i,h,null,null,u)}}var ql={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gl(i,a,u,h){var m=a+d(u)+(h?"_"+d(h):"");if(i[Gt]&&i[Gt][m])return this;var y=function(C){return u.call(h||i,C||window.event)},S=y;!H.touchNative&&H.pointer&&a.indexOf("touch")===0?y=O0(i,a,y):H.touch&&a==="dblclick"?y=$0(i,y):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(ql[a]||a,y,H.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(y=function(C){C=C||window.event,Yl(i,C)&&S(C)},i.addEventListener(ql[a],y,!1)):i.addEventListener(a,S,!1):i.attachEvent("on"+a,y),i[Gt]=i[Gt]||{},i[Gt][m]=y}function Kl(i,a,u,h,m){m=m||a+d(u)+(h?"_"+d(h):"");var y=i[Gt]&&i[Gt][m];if(!y)return this;!H.touchNative&&H.pointer&&a.indexOf("touch")===0?A0(i,a,y):H.touch&&a==="dblclick"?U0(i,y):"removeEventListener"in i?i.removeEventListener(ql[a]||a,y,!1):i.detachEvent("on"+a,y),i[Gt][m]=null}function hr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Jl(i){return Gl(i,"wheel",hr),this}function Qi(i){return Q(i,"mousedown touchstart dblclick contextmenu",hr),i._leaflet_disable_click=!0,this}function He(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function fr(i){return He(i),hr(i),this}function hf(i){if(i.composedPath)return i.composedPath();for(var a=[],u=i.target;u;)a.push(u),u=u.parentNode;return a}function ff(i,a){if(!a)return new O(i.clientX,i.clientY);var u=Zl(a),h=u.boundingClientRect;return new O((i.clientX-h.left)/u.x-a.clientLeft,(i.clientY-h.top)/u.y-a.clientTop)}var V0=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function pf(i){return H.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/V0:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Yl(i,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var Z0={__proto__:null,on:Q,off:ge,stopPropagation:hr,disableScrollPropagation:Jl,disableClickPropagation:Qi,preventDefault:He,stop:fr,getPropagationPath:hf,getMousePosition:ff,getWheelDelta:pf,isExternalTarget:Yl,addListener:Q,removeListener:ge},mf=kt.extend({run:function(i,a,u,h){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=dr(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ce(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var u=this._startPos.add(this._offset.multiplyBy(i));a&&u._round(),Oe(this._el,u),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),se=kt.extend({options:{crs:Ll,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=E(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Y(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qi&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Q(this._proxy,lf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(Y(i),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var h=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,u.zoom):this._tryAnimatedPan(i,u.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,u){var h=this.getZoomScale(a),m=this.getSize().divideBy(2),y=i instanceof O?i:this.latLngToContainerPoint(i),S=y.subtract(m).multiplyBy(1-1/h),C=this.containerPointToLatLng(m.add(S));return this.setView(C,a,{zoom:u})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():pe(i);var u=R(a.paddingTopLeft||a.padding||[0,0]),h=R(a.paddingBottomRight||a.padding||[0,0]),m=this.getBoundsZoom(i,!1,u.add(h));if(m=typeof a.maxZoom=="number"?Math.min(a.maxZoom,m):m,m===1/0)return{center:i.getCenter(),zoom:m};var y=h.subtract(u).divideBy(2),S=this.project(i.getSouthWest(),m),C=this.project(i.getNorthEast(),m),N=this.unproject(S.add(C).divideBy(2).add(y),m);return{center:N,zoom:m}},fitBounds:function(i,a){if(i=pe(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=R(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){ee(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,u){if(u=u||{},u.animate===!1||!H.any3d)return this.setView(i,a,u);this._stop();var h=this.project(this.getCenter()),m=this.project(i),y=this.getSize(),S=this._zoom;i=Y(i),a=a===void 0?S:a;var C=Math.max(y.x,y.y),N=C*this.getZoomScale(S,a),A=m.distanceTo(h)||1,z=1.42,q=z*z;function ne(Ae){var Do=Ae?-1:1,Aw=Ae?N:C,Mw=N*N-C*C+Do*q*q*A*A,Dw=2*Aw*q*A,lu=Mw/Dw,Kf=Math.sqrt(lu*lu+1)-lu,Rw=Kf<1e-9?-18:Math.log(Kf);return Rw}function tt(Ae){return(Math.exp(Ae)-Math.exp(-Ae))/2}function Fe(Ae){return(Math.exp(Ae)+Math.exp(-Ae))/2}function Pt(Ae){return tt(Ae)/Fe(Ae)}var at=ne(0);function Xr(Ae){return C*(Fe(at)/Fe(at+z*Ae))}function Nw(Ae){return C*(Fe(at)*Pt(at+z*Ae)-tt(at))/q}function Lw(Ae){return 1-Math.pow(1-Ae,1.5)}var jw=Date.now(),qf=(ne(1)-at)/z,Ow=u.duration?1e3*u.duration:1e3*qf*.8;function Gf(){var Ae=(Date.now()-jw)/Ow,Do=Lw(Ae)*qf;Ae<=1?(this._flyToFrame=ce(Gf,this),this._move(this.unproject(h.add(m.subtract(h).multiplyBy(Nw(Do)/A)),S),this.getScaleZoom(C/Xr(Do),S),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Gf.call(this),this},flyToBounds:function(i,a){var u=this._getBoundsCenterZoom(i,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(i){return i=pe(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var u=this.getCenter(),h=this._limitCenter(u,this._zoom,pe(i));return u.equals(h)||this.panTo(h,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var u=R(a.paddingTopLeft||a.padding||[0,0]),h=R(a.paddingBottomRight||a.padding||[0,0]),m=this.project(this.getCenter()),y=this.project(i),S=this.getPixelBounds(),C=oe([S.min.add(u),S.max.subtract(h)]),N=C.getSize();if(!C.contains(y)){this._enforcingBounds=!0;var A=y.subtract(C.getCenter()),z=C.extend(y).getSize().subtract(N);m.x+=A.x<0?-z.x:z.x,m.y+=A.y<0?-z.y:z.y,this.panTo(this.unproject(m),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),h=a.divideBy(2).round(),m=u.divideBy(2).round(),y=h.subtract(m);return!y.x&&!y.y?this:(i.animate&&i.pan?this.panBy(y):(i.pan&&this._rawPanBy(y),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,i):navigator.geolocation.getCurrentPosition(a,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,u=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,u=i.coords.longitude,h=new le(a,u),m=h.toBounds(i.coords.accuracy*2),y=this._locateOptions;if(y.setView){var S=this.getBoundsZoom(m);this.setView(h,y.maxZoom?Math.min(S,y.maxZoom):S)}var C={latlng:h,bounds:m,timestamp:i.timestamp};for(var N in i.coords)typeof i.coords[N]=="number"&&(C[N]=i.coords[N]);this.fire("locationfound",C)}},addHandler:function(i,a){if(!a)return this;var u=this[i]=new a(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ke(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),h=ue("div",u,a||this._mapPane);return i&&(this._panes[i]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new De(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,u){i=pe(i),u=R(u||[0,0]);var h=this.getZoom()||0,m=this.getMinZoom(),y=this.getMaxZoom(),S=i.getNorthWest(),C=i.getSouthEast(),N=this.getSize().subtract(u),A=oe(this.project(C,h),this.project(S,h)).getSize(),z=H.any3d?this.options.zoomSnap:1,q=N.x/A.x,ne=N.y/A.y,tt=a?Math.max(q,ne):Math.min(q,ne);return h=this.getScaleZoom(tt,h),z&&(h=Math.round(h/(z/100))*(z/100),h=a?Math.ceil(h/z)*z:Math.floor(h/z)*z),Math.max(m,Math.min(y,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var u=this._getTopLeftPoint(i,a);return new G(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(i)/u.scale(a)},getScaleZoom:function(i,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var h=u.zoom(i*u.scale(a));return isNaN(h)?1/0:h},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Y(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(R(i),a)},layerPointToLatLng:function(i){var a=R(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(Y(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Y(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(pe(i))},distance:function(i,a){return this.options.crs.distance(Y(i),Y(a))},containerPointToLayerPoint:function(i){return R(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return R(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(R(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(i)))},mouseEventToContainerPoint:function(i){return ff(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=uf(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Q(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,ee(i,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Gi(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Oe(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ee(i.markerPane,"leaflet-zoom-hide"),ee(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,u){Oe(this._mapPane,new O(0,0));var h=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var m=this._zoom!==a;this._moveStart(m,u)._move(i,a)._moveEnd(m),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,u,h){a===void 0&&(a=this._zoom);var m=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),h?u&&u.pinch&&this.fire("zoom",u):((m||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Oe(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var a=i?ge:Q;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var u=[],h,m=a==="mouseout"||a==="mouseover",y=i.target||i.srcElement,S=!1;y;){if(h=this._targets[d(y)],h&&(a==="click"||a==="preclick")&&this._draggableMoved(h)){S=!0;break}if(h&&h.listens(a,!0)&&(m&&!Yl(y,i)||(u.push(h),m))||y===this._container)break;y=y.parentNode}return!u.length&&!S&&!m&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var u=i.type;u==="mousedown"&&Vl(a),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,u){if(i.type==="click"){var h=s({},i);h.type="preclick",this._fireDOMEvent(h,h.type,u)}var m=this._findEventTargets(i,a);if(u){for(var y=[],S=0;S<u.length;S++)u[S].listens(a,!0)&&y.push(u[S]);m=y.concat(m)}if(m.length){a==="contextmenu"&&He(i);var C=m[0],N={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var A=C.getLatLng&&(!C._radius||C._radius<=10);N.containerPoint=A?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(i),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=A?C.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(S=0;S<m.length;S++)if(m[S].fire(a,N,!0),N.originalEvent._stopped||m[S].options.bubblingMouseEvents===!1&&j(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return dr(this._mapPane)||new O(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var u=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var u=this.getSize()._divideBy(2);return this.project(i,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,u){var h=this._getNewPixelOrigin(u,a);return this.project(i,a)._subtract(h)},_latLngBoundsToNewLayerBounds:function(i,a,u){var h=this._getNewPixelOrigin(u,a);return oe([this.project(i.getSouthWest(),a)._subtract(h),this.project(i.getNorthWest(),a)._subtract(h),this.project(i.getSouthEast(),a)._subtract(h),this.project(i.getNorthEast(),a)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,u){if(!u)return i;var h=this.project(i,a),m=this.getSize().divideBy(2),y=new G(h.subtract(m),h.add(m)),S=this._getBoundsOffset(y,u,a);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?i:this.unproject(h.add(S),a)},_limitOffset:function(i,a){if(!a)return i;var u=this.getPixelBounds(),h=new G(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(h,a))},_getBoundsOffset:function(i,a,u){var h=oe(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),m=h.min.subtract(i.min),y=h.max.subtract(i.max),S=this._rebound(m.x,-y.x),C=this._rebound(m.y,-y.y);return new O(S,C)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),u=this.getMaxZoom(),h=H.any3d?this.options.zoomSnap:1;return h&&(i=Math.round(i/h)*h),Math.max(a,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ne(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var u=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var i=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var u=zl,h=this._proxy.style[u];cr(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),h===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();cr(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(a),m=this._getCenterOffset(i)._divideBy(1-1/h);return u.animate!==!0&&!this.getSize().contains(m)?!1:(ce(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,u,h){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ne(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function q0(i,a){return new se(i,a)}var At=X.extend({options:{position:"topright"},initialize:function(i){E(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),u=this.getPosition(),h=i._controlCorners[u];return ee(a,"leaflet-control"),u.indexOf("bottom")!==-1?h.insertBefore(a,h.firstChild):h.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Xi=function(i){return new At(i)};se.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",u=this._controlContainer=ue("div",a+"control-container",this._container);function h(m,y){var S=a+m+" "+a+y;i[m+y]=ue("div",S,u)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ke(this._controlCorners[i]);ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gf=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,u,h){return u<h?-1:h<u?1:0}},initialize:function(i,a,u){E(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in i)this._addLayer(i[h],h);for(h in a)this._addLayer(a[h],h,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return At.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ne(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ne(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=ue("div",i),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Qi(a),Jl(a);var h=this._section=ue("section",i+"-list");u&&(this._map.on("click",this.collapse,this),Q(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=ue("a",i+"-toggle",a);m.href="#",m.title="Layers",m.setAttribute("role","button"),Q(m,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){He(y),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ue("div",i+"-base",h),this._separator=ue("div",i+"-separator",h),this._overlaysList=ue("div",i+"-overlays",h),a.appendChild(h)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(h,m){return this.options.sortFunction(h.layer,m.layer,h.name,m.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wo(this._baseLayersList),wo(this._overlaysList),this._layerControlInputs=[];var i,a,u,h,m=0;for(u=0;u<this._layers.length;u++)h=this._layers[u],this._addItem(h),a=a||h.overlay,i=i||!h.overlay,m+=h.overlay?0:1;return this.options.hideSingleBase&&(i=i&&m>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(d(i.target)),u=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(i,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=u,h.firstChild},_addItem:function(i){var a=document.createElement("label"),u=this._map.hasLayer(i.layer),h;i.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=u):h=this._createRadioElement("leaflet-base-layers_"+d(this),u),this._layerControlInputs.push(h),h.layerId=d(i.layer),Q(h,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+i.name;var y=document.createElement("span");a.appendChild(y),y.appendChild(h),y.appendChild(m);var S=i.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,u,h=[],m=[];this._handlingClick=!0;for(var y=i.length-1;y>=0;y--)a=i[y],u=this._getLayer(a.layerId).layer,a.checked?h.push(u):a.checked||m.push(u);for(y=0;y<m.length;y++)this._map.hasLayer(m[y])&&this._map.removeLayer(m[y]);for(y=0;y<h.length;y++)this._map.hasLayer(h[y])||this._map.addLayer(h[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,u,h=this._map.getZoom(),m=i.length-1;m>=0;m--)a=i[m],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&h<u.options.minZoom||u.options.maxZoom!==void 0&&h>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Q(i,"click",He),this.expand();var a=this;setTimeout(function(){ge(i,"click",He),a._preventClick=!1})}}),G0=function(i,a,u){return new gf(i,a,u)},Ql=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",u=ue("div",a+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,u,h,m){var y=ue("a",u,h);return y.innerHTML=i,y.href="#",y.title=a,y.setAttribute("role","button"),y.setAttribute("aria-label",a),Qi(y),Q(y,"click",fr),Q(y,"click",m,this),Q(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Ne(this._zoomInButton,a),Ne(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ee(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ee(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});se.mergeOptions({zoomControl:!0}),se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ql,this.addControl(this.zoomControl))});var K0=function(i){return new Ql(i)},vf=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",u=ue("div",a),h=this.options;return this._addScales(h,a+"-line",u),i.on(h.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,u){i.metric&&(this._mScale=ue("div",a,u)),i.imperial&&(this._iScale=ue("div",a,u))},_update:function(){var i=this._map,a=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/i)},_updateImperial:function(i){var a=i*3.2808399,u,h,m;a>5280?(u=a/5280,h=this._getRoundNum(u),this._updateScale(this._iScale,h+" mi",h/u)):(m=this._getRoundNum(a),this._updateScale(this._iScale,m+" ft",m/a))},_updateScale:function(i,a,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),u=i/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),J0=function(i){return new vf(i)},Y0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xl=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?Y0+" ":"")+"Leaflet</a>"},initialize:function(i){E(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),Qi(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});se.mergeOptions({attributionControl:!0}),se.addInitHook(function(){this.options.attributionControl&&new Xl().addTo(this)});var Q0=function(i){return new Xl(i)};At.Layers=gf,At.Zoom=Ql,At.Scale=vf,At.Attribution=Xl,Xi.layers=G0,Xi.zoom=K0,Xi.scale=J0,Xi.attribution=Q0;var Kt=X.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kt.addTo=function(i,a){return i.addHandler(a,this),this};var X0={Events:me},_f=H.touch?"touchstart mousedown":"mousedown",Cn=kt.extend({options:{clickTolerance:3},initialize:function(i,a,u,h){E(this,h),this._element=i,this._dragStartTarget=a||i,this._preventOutline=u},enable:function(){this._enabled||(Q(this._dragStartTarget,_f,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Cn._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,_f,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Bl(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Cn._dragging===this&&this.finishDrag();return}if(!(Cn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Cn._dragging=this,this._preventOutline&&Vl(this._element),Ul(),Ki(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,u=cf(this._element);this._startPoint=new O(a.clientX,a.clientY),this._startPos=dr(this._element),this._parentScale=Zl(u);var h=i.type==="mousedown";Q(document,h?"mousemove":"touchmove",this._onMove,this),Q(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,u=new O(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,He(i),this._moved||(this.fire("dragstart"),this._moved=!0,ee(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Oe(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ne(document.body,"leaflet-dragging"),this._lastTarget&&(Ne(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),Wl(),Ji();var a=this._moved&&this._moving;this._moving=!1,Cn._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function yf(i,a,u){var h,m=[1,4,2,8],y,S,C,N,A,z,q,ne;for(y=0,z=i.length;y<z;y++)i[y]._code=pr(i[y],a);for(C=0;C<4;C++){for(q=m[C],h=[],y=0,z=i.length,S=z-1;y<z;S=y++)N=i[y],A=i[S],N._code&q?A._code&q||(ne=Eo(A,N,q,a,u),ne._code=pr(ne,a),h.push(ne)):(A._code&q&&(ne=Eo(A,N,q,a,u),ne._code=pr(ne,a),h.push(ne)),h.push(N));i=h}return i}function wf(i,a){var u,h,m,y,S,C,N,A,z;if(!i||i.length===0)throw new Error("latlngs not passed");Tt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var q=Y([0,0]),ne=pe(i),tt=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());tt<1700&&(q=eu(i));var Fe=i.length,Pt=[];for(u=0;u<Fe;u++){var at=Y(i[u]);Pt.push(a.project(Y([at.lat-q.lat,at.lng-q.lng])))}for(C=N=A=0,u=0,h=Fe-1;u<Fe;h=u++)m=Pt[u],y=Pt[h],S=m.y*y.x-y.y*m.x,N+=(m.x+y.x)*S,A+=(m.y+y.y)*S,C+=S*3;C===0?z=Pt[0]:z=[N/C,A/C];var Xr=a.unproject(R(z));return Y([Xr.lat+q.lat,Xr.lng+q.lng])}function eu(i){for(var a=0,u=0,h=0,m=0;m<i.length;m++){var y=Y(i[m]);a+=y.lat,u+=y.lng,h++}return Y([a/h,u/h])}var ew={__proto__:null,clipPolygon:yf,polygonCenter:wf,centroid:eu};function xf(i,a){if(!a||!i.length)return i.slice();var u=a*a;return i=rw(i,u),i=nw(i,u),i}function bf(i,a,u){return Math.sqrt(es(i,a,u,!0))}function tw(i,a,u){return es(i,a,u)}function nw(i,a){var u=i.length,h=typeof Uint8Array<"u"?Uint8Array:Array,m=new h(u);m[0]=m[u-1]=1,tu(i,m,a,0,u-1);var y,S=[];for(y=0;y<u;y++)m[y]&&S.push(i[y]);return S}function tu(i,a,u,h,m){var y=0,S,C,N;for(C=h+1;C<=m-1;C++)N=es(i[C],i[h],i[m],!0),N>y&&(S=C,y=N);y>u&&(a[S]=1,tu(i,a,u,h,S),tu(i,a,u,S,m))}function rw(i,a){for(var u=[i[0]],h=1,m=0,y=i.length;h<y;h++)iw(i[h],i[m])>a&&(u.push(i[h]),m=h);return m<y-1&&u.push(i[y-1]),u}var Sf;function kf(i,a,u,h,m){var y=h?Sf:pr(i,u),S=pr(a,u),C,N,A;for(Sf=S;;){if(!(y|S))return[i,a];if(y&S)return!1;C=y||S,N=Eo(i,a,C,u,m),A=pr(N,u),C===y?(i=N,y=A):(a=N,S=A)}}function Eo(i,a,u,h,m){var y=a.x-i.x,S=a.y-i.y,C=h.min,N=h.max,A,z;return u&8?(A=i.x+y*(N.y-i.y)/S,z=N.y):u&4?(A=i.x+y*(C.y-i.y)/S,z=C.y):u&2?(A=N.x,z=i.y+S*(N.x-i.x)/y):u&1&&(A=C.x,z=i.y+S*(C.x-i.x)/y),new O(A,z,m)}function pr(i,a){var u=0;return i.x<a.min.x?u|=1:i.x>a.max.x&&(u|=2),i.y<a.min.y?u|=4:i.y>a.max.y&&(u|=8),u}function iw(i,a){var u=a.x-i.x,h=a.y-i.y;return u*u+h*h}function es(i,a,u,h){var m=a.x,y=a.y,S=u.x-m,C=u.y-y,N=S*S+C*C,A;return N>0&&(A=((i.x-m)*S+(i.y-y)*C)/N,A>1?(m=u.x,y=u.y):A>0&&(m+=S*A,y+=C*A)),S=i.x-m,C=i.y-y,h?S*S+C*C:new O(m,y)}function Tt(i){return!k(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Ef(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tt(i)}function Tf(i,a){var u,h,m,y,S,C,N,A;if(!i||i.length===0)throw new Error("latlngs not passed");Tt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var z=Y([0,0]),q=pe(i),ne=q.getNorthWest().distanceTo(q.getSouthWest())*q.getNorthEast().distanceTo(q.getNorthWest());ne<1700&&(z=eu(i));var tt=i.length,Fe=[];for(u=0;u<tt;u++){var Pt=Y(i[u]);Fe.push(a.project(Y([Pt.lat-z.lat,Pt.lng-z.lng])))}for(u=0,h=0;u<tt-1;u++)h+=Fe[u].distanceTo(Fe[u+1])/2;if(h===0)A=Fe[0];else for(u=0,y=0;u<tt-1;u++)if(S=Fe[u],C=Fe[u+1],m=S.distanceTo(C),y+=m,y>h){N=(y-h)/m,A=[C.x-N*(C.x-S.x),C.y-N*(C.y-S.y)];break}var at=a.unproject(R(A));return Y([at.lat+z.lat,at.lng+z.lng])}var sw={__proto__:null,simplify:xf,pointToSegmentDistance:bf,closestPointOnSegment:tw,clipSegment:kf,_getEdgeIntersection:Eo,_getBitCode:pr,_sqClosestPointOnSegment:es,isFlat:Tt,_flat:Ef,polylineCenter:Tf},nu={project:function(i){return new O(i.lng,i.lat)},unproject:function(i){return new le(i.y,i.x)},bounds:new G([-180,-90],[180,90])},ru={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,u=this.R,h=i.lat*a,m=this.R_MINOR/u,y=Math.sqrt(1-m*m),S=y*Math.sin(h),C=Math.tan(Math.PI/4-h/2)/Math.pow((1-S)/(1+S),y/2);return h=-u*Math.log(Math.max(C,1e-10)),new O(i.lng*a*u,h)},unproject:function(i){for(var a=180/Math.PI,u=this.R,h=this.R_MINOR/u,m=Math.sqrt(1-h*h),y=Math.exp(-i.y/u),S=Math.PI/2-2*Math.atan(y),C=0,N=.1,A;C<15&&Math.abs(N)>1e-7;C++)A=m*Math.sin(S),A=Math.pow((1-A)/(1+A),m/2),N=Math.PI/2-2*Math.atan(y*A)-S,S+=N;return new le(S*a,i.x*a/u)}},ow={__proto__:null,LonLat:nu,Mercator:ru,SphericalMercator:Il},aw=s({},Pn,{code:"EPSG:3395",projection:ru,transformation:function(){var i=.5/(Math.PI*ru.R);return Vi(i,.5,-i,.5)}()}),Pf=s({},Pn,{code:"EPSG:4326",projection:nu,transformation:Vi(1/180,1,-1/180,.5)}),lw=s({},ot,{projection:nu,transformation:Vi(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var u=a.lng-i.lng,h=a.lat-i.lat;return Math.sqrt(u*u+h*h)},infinite:!0});ot.Earth=Pn,ot.EPSG3395=aw,ot.EPSG3857=Ll,ot.EPSG900913=p0,ot.EPSG4326=Pf,ot.Simple=lw;var Mt=kt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});se.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=d(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,a){for(var u in this._layers)i.call(a,this._layers[u]);return this},_addLayers:function(i){i=i?k(i)?i:[i]:[];for(var a=0,u=i.length;a<u;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=d(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,u=this._getZoomSpan();for(var h in this._zoomBoundLayers){var m=this._zoomBoundLayers[h].options;i=m.minZoom===void 0?i:Math.min(i,m.minZoom),a=m.maxZoom===void 0?a:Math.max(a,m.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gr=Mt.extend({initialize:function(i,a){E(this,a),this._layers={};var u,h;if(i)for(u=0,h=i.length;u<h;u++)this.addLayer(i[u])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),u,h;for(u in this._layers)h=this._layers[u],h[i]&&h[i].apply(h,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var u in this._layers)i.call(a,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),uw=function(i,a){return new Gr(i,a)},sn=Gr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Gr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Gr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new De;for(var a in this._layers){var u=this._layers[a];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),cw=function(i,a){return new sn(i,a)},Kr=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){E(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(h,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(i,a){var u=this.options,h=u[a+"Size"];typeof h=="number"&&(h=[h,h]);var m=R(h),y=R(a==="shadow"&&u.shadowAnchor||u.iconAnchor||m&&m.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(u.className||""),y&&(i.style.marginLeft=-y.x+"px",i.style.marginTop=-y.y+"px"),m&&(i.style.width=m.x+"px",i.style.height=m.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return H.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function dw(i){return new Kr(i)}var ts=Kr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ts.imagePath!="string"&&(ts.imagePath=this._detectIconPath()),(this.options.imagePath||ts.imagePath)+Kr.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(u,h,m){var y=h.exec(u);return y&&y[m]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ue("div","leaflet-default-icon-path",document.body),a=Gi(i,"background-image")||Gi(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Cf=Kt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Cn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ee(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ne(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,u=a._map,h=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,y=dr(a._icon),S=u.getPixelBounds(),C=u.getPixelOrigin(),N=oe(S.min._subtract(C).add(m),S.max._subtract(C).subtract(m));if(!N.contains(y)){var A=R((Math.max(N.max.x,y.x)-N.max.x)/(S.max.x-N.max.x)-(Math.min(N.min.x,y.x)-N.min.x)/(S.min.x-N.min.x),(Math.max(N.max.y,y.y)-N.max.y)/(S.max.y-N.max.y)-(Math.min(N.min.y,y.y)-N.min.y)/(S.min.y-N.min.y)).multiplyBy(h);u.panBy(A,{animate:!1}),this._draggable._newPos._add(A),this._draggable._startPos._add(A),Oe(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=ce(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=ce(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,u=a._shadow,h=dr(a._icon),m=a._map.layerPointToLatLng(h);u&&Oe(u,h),a._latlng=m,i.latlng=m,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),To=Mt.extend({options:{icon:new ts,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){E(this,a),this._latlng=Y(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=Y(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),h=!1;u!==this._icon&&(this._icon&&this._removeIcon(),h=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),ee(u,a),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(u,"focus",this._panOnFocus,this);var m=i.icon.createShadow(this._shadow),y=!1;m!==this._shadow&&(this._removeShadow(),y=!0),m&&(ee(m,a),m.alt=""),this._shadow=m,i.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&y&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ke(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Oe(this._icon,i),this._shadow&&Oe(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cf)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cf(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Et(this._icon,i),this._shadow&&Et(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,u=a.iconSize?R(a.iconSize):R(0,0),h=a.iconAnchor?R(a.iconAnchor):R(0,0);i.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:u.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hw(i,a){return new To(i,a)}var In=Mt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return E(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Po=In.extend({options:{fill:!0,radius:10},initialize:function(i,a){E(this,a),this._latlng=Y(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=Y(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return In.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,u=this._clickTolerance(),h=[i+u,a+u];this._pxBounds=new G(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fw(i,a){return new Po(i,a)}var iu=Po.extend({initialize:function(i,a,u){if(typeof a=="number"&&(a=s({},u,{radius:a})),E(this,a),this._latlng=Y(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new De(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:In.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,u=this._map,h=u.options.crs;if(h.distance===Pn.distance){var m=Math.PI/180,y=this._mRadius/Pn.R/m,S=u.project([a+y,i]),C=u.project([a-y,i]),N=S.add(C).divideBy(2),A=u.unproject(N).lat,z=Math.acos((Math.cos(y*m)-Math.sin(a*m)*Math.sin(A*m))/(Math.cos(a*m)*Math.cos(A*m)))/m;(isNaN(z)||z===0)&&(z=y/Math.cos(Math.PI/180*a)),this._point=N.subtract(u.getPixelOrigin()),this._radius=isNaN(z)?0:N.x-u.project([A,i-z]).x,this._radiusY=N.y-S.y}else{var q=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(q).x}this._updateBounds()}});function pw(i,a,u){return new iu(i,a,u)}var on=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){E(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,u=null,h=es,m,y,S=0,C=this._parts.length;S<C;S++)for(var N=this._parts[S],A=1,z=N.length;A<z;A++){m=N[A-1],y=N[A];var q=h(i,m,y,!0);q<a&&(a=q,u=h(i,m,y))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Tf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=Y(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new De,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],u=Tt(i),h=0,m=i.length;h<m;h++)u?(a[h]=Y(i[h]),this._bounds.extend(a[h])):a[h]=this._convertLatLngs(i[h]);return a},_project:function(){var i=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new O(i,i);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,u){var h=i[0]instanceof le,m=i.length,y,S;if(h){for(S=[],y=0;y<m;y++)S[y]=this._map.latLngToLayerPoint(i[y]),u.extend(S[y]);a.push(S)}else for(y=0;y<m;y++)this._projectLatlngs(i[y],a,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,h,m,y,S,C,N;for(u=0,m=0,y=this._rings.length;u<y;u++)for(N=this._rings[u],h=0,S=N.length;h<S-1;h++)C=kf(N[h],N[h+1],i,h,!0),C&&(a[m]=a[m]||[],a[m].push(C[0]),(C[1]!==N[h+1]||h===S-2)&&(a[m].push(C[1]),m++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,u=0,h=i.length;u<h;u++)i[u]=xf(i[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var u,h,m,y,S,C,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,y=this._parts.length;u<y;u++)for(C=this._parts[u],h=0,S=C.length,m=S-1;h<S;m=h++)if(!(!a&&h===0)&&bf(i,C[m],C[h])<=N)return!0;return!1}});function mw(i,a){return new on(i,a)}on._flat=Ef;var Jr=on.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=on.prototype._convertLatLngs.call(this,i),u=a.length;return u>=2&&a[0]instanceof le&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(i){on.prototype._setLatLngs.call(this,i),Tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,u=new O(a,a);if(i=new G(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,m=this._rings.length,y;h<m;h++)y=yf(this._rings[h],i,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,u,h,m,y,S,C,N,A;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(y=0,N=this._parts.length;y<N;y++)for(u=this._parts[y],S=0,A=u.length,C=A-1;S<A;C=S++)h=u[S],m=u[C],h.y>i.y!=m.y>i.y&&i.x<(m.x-h.x)*(i.y-h.y)/(m.y-h.y)+h.x&&(a=!a);return a||on.prototype._containsPoint.call(this,i,!0)}});function gw(i,a){return new Jr(i,a)}var an=sn.extend({initialize:function(i,a){E(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=k(i)?i:i.features,u,h,m;if(a){for(u=0,h=a.length;u<h;u++)m=a[u],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var y=this.options;if(y.filter&&!y.filter(i))return this;var S=Co(i,y);return S?(S.feature=Lo(i),S.defaultOptions=S.options,this.resetStyle(S),y.onEachFeature&&y.onEachFeature(i,S),this.addLayer(S)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function Co(i,a){var u=i.type==="Feature"?i.geometry:i,h=u?u.coordinates:null,m=[],y=a&&a.pointToLayer,S=a&&a.coordsToLatLng||su,C,N,A,z;if(!h&&!u)return null;switch(u.type){case"Point":return C=S(h),If(y,i,C,a);case"MultiPoint":for(A=0,z=h.length;A<z;A++)C=S(h[A]),m.push(If(y,i,C,a));return new sn(m);case"LineString":case"MultiLineString":return N=Io(h,u.type==="LineString"?0:1,S),new on(N,a);case"Polygon":case"MultiPolygon":return N=Io(h,u.type==="Polygon"?1:2,S),new Jr(N,a);case"GeometryCollection":for(A=0,z=u.geometries.length;A<z;A++){var q=Co({geometry:u.geometries[A],type:"Feature",properties:i.properties},a);q&&m.push(q)}return new sn(m);case"FeatureCollection":for(A=0,z=u.features.length;A<z;A++){var ne=Co(u.features[A],a);ne&&m.push(ne)}return new sn(m);default:throw new Error("Invalid GeoJSON object.")}}function If(i,a,u,h){return i?i(a,u):new To(u,h&&h.markersInheritOptions&&h)}function su(i){return new le(i[1],i[0],i[2])}function Io(i,a,u){for(var h=[],m=0,y=i.length,S;m<y;m++)S=a?Io(i[m],a-1,u):(u||su)(i[m]),h.push(S);return h}function ou(i,a){return i=Y(i),i.alt!==void 0?[_(i.lng,a),_(i.lat,a),_(i.alt,a)]:[_(i.lng,a),_(i.lat,a)]}function No(i,a,u,h){for(var m=[],y=0,S=i.length;y<S;y++)m.push(a?No(i[y],Tt(i[y])?0:a-1,u,h):ou(i[y],h));return!a&&u&&m.length>0&&m.push(m[0].slice()),m}function Yr(i,a){return i.feature?s({},i.feature,{geometry:a}):Lo(a)}function Lo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var au={toGeoJSON:function(i){return Yr(this,{type:"Point",coordinates:ou(this.getLatLng(),i)})}};To.include(au),iu.include(au),Po.include(au),on.include({toGeoJSON:function(i){var a=!Tt(this._latlngs),u=No(this._latlngs,a?1:0,!1,i);return Yr(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),Jr.include({toGeoJSON:function(i){var a=!Tt(this._latlngs),u=a&&!Tt(this._latlngs[0]),h=No(this._latlngs,u?2:a?1:0,!0,i);return a||(h=[h]),Yr(this,{type:(u?"Multi":"")+"Polygon",coordinates:h})}}),Gr.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(i).geometry.coordinates)}),Yr(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var u=a==="GeometryCollection",h=[];return this.eachLayer(function(m){if(m.toGeoJSON){var y=m.toGeoJSON(i);if(u)h.push(y.geometry);else{var S=Lo(y);S.type==="FeatureCollection"?h.push.apply(h,S.features):h.push(S)}}}),u?Yr(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Nf(i,a){return new an(i,a)}var vw=Nf,jo=Mt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,u){this._url=i,this._bounds=pe(a),E(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Zr(this._image),this},bringToBack:function(){return this._map&&qr(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=pe(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:ue("img");if(ee(a,"leaflet-image-layer"),this._zoomAnimated&&ee(a,"leaflet-zoom-animated"),this.options.className&&ee(a,this.options.className),a.onselectstart=v,a.onmousemove=v,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;cr(this._image,u,a)},_reset:function(){var i=this._image,a=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();Oe(i,a.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){Et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),_w=function(i,a,u){return new jo(i,a,u)},Lf=jo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:ue("video");if(ee(a,"leaflet-image-layer"),this._zoomAnimated&&ee(a,"leaflet-zoom-animated"),this.options.className&&ee(a,this.options.className),a.onselectstart=v,a.onmousemove=v,a.onloadeddata=l(this.fire,this,"load"),i){for(var u=a.getElementsByTagName("source"),h=[],m=0;m<u.length;m++)h.push(u[m].src);this._url=u.length>0?h:[a.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var S=ue("source");S.src=this._url[y],a.appendChild(S)}}});function yw(i,a,u){return new Lf(i,a,u)}var jf=jo.extend({_initImage:function(){var i=this._image=this._url;ee(i,"leaflet-image-layer"),this._zoomAnimated&&ee(i,"leaflet-zoom-animated"),this.options.className&&ee(i,this.options.className),i.onselectstart=v,i.onmousemove=v}});function ww(i,a,u){return new jf(i,a,u)}var Jt=Mt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof le||k(i))?(this._latlng=Y(i),E(this,a)):(E(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Et(this._container,1),this.bringToFront(),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Et(this._container,0),this._removeTimeout=setTimeout(l(ke,void 0,this._container),200)):ke(this._container),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Y(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zr(this._container),this},bringToBack:function(){return this._map&&qr(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof sn){a=null;var u=this._source._layers;for(var h in u)if(u[h]._map){a=u[h];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=R(this.options.offset),u=this._getAnchor();this._zoomAnimated?Oe(this._container,i.add(u)):a=a.add(i).add(u);var h=this._containerBottom=-a.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=h+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});se.include({_initOverlay:function(i,a,u,h){var m=a;return m instanceof i||(m=new i(h).setContent(a)),u&&m.setLatLng(u),m}}),Mt.include({_initOverlay:function(i,a,u,h){var m=u;return m instanceof i?(E(m,h),m._source=this):(m=a&&!h?a:new i(h,this),m.setContent(u)),m}});var Oo=Jt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Jt.prototype.openOn.call(this,i)},onAdd:function(i){Jt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",hr))},onRemove:function(i){Jt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",hr))},getEvents:function(){var i=Jt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=ue("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ue("div",i+"-content-wrapper",a);if(this._contentNode=ue("div",i+"-content",u),Qi(a),Jl(this._contentNode),Q(a,"contextmenu",hr),this._tipContainer=ue("div",i+"-tip-container",a),this._tip=ue("div",i+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=ue("a",i+"-close-button",a);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',Q(h,"click",function(m){He(m),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var h=i.offsetHeight,m=this.options.maxHeight,y="leaflet-popup-scrolled";m&&h>m?(a.height=m+"px",ee(i,y)):Ne(i,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();Oe(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Gi(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,h=this._containerWidth,m=new O(this._containerLeft,-u-this._containerBottom);m._add(dr(this._container));var y=i.layerPointToContainerPoint(m),S=R(this.options.autoPanPadding),C=R(this.options.autoPanPaddingTopLeft||S),N=R(this.options.autoPanPaddingBottomRight||S),A=i.getSize(),z=0,q=0;y.x+h+N.x>A.x&&(z=y.x+h-A.x+N.x),y.x-z-C.x<0&&(z=y.x-C.x),y.y+u+N.y>A.y&&(q=y.y+u-A.y+N.y),y.y-q-C.y<0&&(q=y.y-C.y),(z||q)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([z,q]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xw=function(i,a){return new Oo(i,a)};se.mergeOptions({closePopupOnClick:!0}),se.include({openPopup:function(i,a,u){return this._initOverlay(Oo,i,a,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Mt.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Oo,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof sn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){fr(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof In)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Ao=Jt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Jt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Jt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Jt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,u,h=this._map,m=this._container,y=h.latLngToContainerPoint(h.getCenter()),S=h.layerPointToContainerPoint(i),C=this.options.direction,N=m.offsetWidth,A=m.offsetHeight,z=R(this.options.offset),q=this._getAnchor();C==="top"?(a=N/2,u=A):C==="bottom"?(a=N/2,u=0):C==="center"?(a=N/2,u=A/2):C==="right"?(a=0,u=A/2):C==="left"?(a=N,u=A/2):S.x<y.x?(C="right",a=0,u=A/2):(C="left",a=N+(z.x+q.x)*2,u=A/2),i=i.subtract(R(a,u,!0)).add(z).add(q),Ne(m,"leaflet-tooltip-right"),Ne(m,"leaflet-tooltip-left"),Ne(m,"leaflet-tooltip-top"),Ne(m,"leaflet-tooltip-bottom"),ee(m,"leaflet-tooltip-"+C),Oe(m,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Et(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bw=function(i,a){return new Ao(i,a)};se.include({openTooltip:function(i,a,u){return this._initOverlay(Ao,i,a,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Mt.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ao,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof sn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(Q(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Q(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,u,h;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),h=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(a)}});var Of=Kr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(wo(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var h=R(u.bgPos);a.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Sw(i){return new Of(i)}Kr.Default=ts;var ns=Mt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){E(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ke(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof O?i:new O(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,u=-i(-1/0,1/0),h=0,m=a.length,y;h<m;h++)y=a[h].style.zIndex,a[h]!==this._container&&y&&(u=i(u,+y));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){Et(this._container,this.options.opacity);var i=+new Date,a=!1,u=!1;for(var h in this._tiles){var m=this._tiles[h];if(!(!m.current||!m.loaded)){var y=Math.min(1,(i-m.loaded)/200);Et(m.el,y),y<1?a=!0:(m.active?u=!0:this._onOpaqueTile(m),m.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(W(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=a-Math.abs(i-u),this._onUpdateLevel(u)):(ke(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var h=this._levels[i],m=this._map;return h||(h=this._levels[i]={},h.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=a,h.origin=m.project(m.unproject(m.getPixelOrigin()),i).round(),h.zoom=i,this._setZoomTransform(h,m.getCenter(),m.getZoom()),v(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var i,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var h=a.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ke(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,u,h){var m=Math.floor(i/2),y=Math.floor(a/2),S=u-1,C=new O(+m,+y);C.z=+S;var N=this._tileCoordsToKey(C),A=this._tiles[N];return A&&A.active?(A.retain=!0,!0):(A&&A.loaded&&(A.retain=!0),S>h?this._retainParent(m,y,S,h):!1)},_retainChildren:function(i,a,u,h){for(var m=2*i;m<2*i+2;m++)for(var y=2*a;y<2*a+2;y++){var S=new O(m,y);S.z=u+1;var C=this._tileCoordsToKey(S),N=this._tiles[C];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);u+1<h&&this._retainChildren(m,y,u+1,h)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,u,h){var m=Math.round(a);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var y=this.options.updateWhenZooming&&m!==this._tileZoom;(!h||y)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,a)},_setZoomTransform:function(i,a,u){var h=this._map.getZoomScale(u,i.zoom),m=i.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(a,u)).round();H.any3d?cr(i.el,m,h):Oe(i.el,m)},_resetGrid:function(){var i=this._map,a=i.options.crs,u=this._tileSize=this.getTileSize(),h=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],h).x/u.x),Math.ceil(i.project([0,a.wrapLng[1]],h).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],h).y/u.x),Math.ceil(i.project([a.wrapLat[1],0],h).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),h=a.getZoomScale(u,this._tileZoom),m=a.project(i,this._tileZoom).floor(),y=a.getSize().divideBy(h*2);return new G(m.subtract(y),m.add(y))},_update:function(i){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(i),m=this._pxBoundsToTileRange(h),y=m.getCenter(),S=[],C=this.options.keepBuffer,N=new G(m.getBottomLeft().subtract([C,-C]),m.getTopRight().add([C,-C]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var A in this._tiles){var z=this._tiles[A].coords;(z.z!==this._tileZoom||!N.contains(new O(z.x,z.y)))&&(this._tiles[A].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var q=m.min.y;q<=m.max.y;q++)for(var ne=m.min.x;ne<=m.max.x;ne++){var tt=new O(ne,q);if(tt.z=this._tileZoom,!!this._isValidTile(tt)){var Fe=this._tiles[this._tileCoordsToKey(tt)];Fe?Fe.current=!0:S.push(tt)}}if(S.sort(function(at,Xr){return at.distanceTo(y)-Xr.distanceTo(y)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pt=document.createDocumentFragment();for(ne=0;ne<S.length;ne++)this._addTile(S[ne],Pt);this._level.el.appendChild(Pt)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!a.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(i);return pe(this.options.bounds).overlaps(h)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,u=this.getTileSize(),h=i.scaleBy(u),m=h.add(u),y=a.unproject(h,i.z),S=a.unproject(m,i.z);return[y,S]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),u=new De(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),u=new O(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(i){var a=this._tiles[i];a&&(ke(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ee(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=v,i.onmousemove=v,H.ielt9&&this.options.opacity<1&&Et(i,this.options.opacity)},_addTile:function(i,a){var u=this._getTilePos(i),h=this._tileCoordsToKey(i),m=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(m),this.createTile.length<2&&ce(l(this._tileReady,this,i,null,m)),Oe(m,u),this._tiles[h]={el:m,coords:i,current:!0},a.appendChild(m),this.fire("tileloadstart",{tile:m,coords:i})},_tileReady:function(i,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:i});var h=this._tileCoordsToKey(i);u=this._tiles[h],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Et(u.el,0),W(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(ee(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?ce(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new O(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new G(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function kw(i){return new ns(i)}var Qr=ns.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=E(this,a),a.detectRetina&&H.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var u=document.createElement("img");return Q(u,"load",l(this._tileOnLoad,this,a,u)),Q(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var a={r:H.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=u),a["-y"]=u}return w(this._url,s(a,this.options))},_tileOnLoad:function(i,a){H.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,u){var h=this.options.errorTileUrl;h&&a.getAttribute("src")!==h&&(a.src=h),i(u,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,h=this.options.zoomOffset;return u&&(i=a-i),i+h},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=v,a.onerror=v,!a.complete)){a.src=M;var u=this._tiles[i].coords;ke(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",M),ns.prototype._removeTile.call(this,i)},_tileReady:function(i,a,u){if(!(!this._map||u&&u.getAttribute("src")===M))return ns.prototype._tileReady.call(this,i,a,u)}});function Af(i,a){return new Qr(i,a)}var Mf=Qr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var u=s({},this.defaultWmsParams);for(var h in a)h in this.options||(u[h]=a[h]);a=E(this,a);var m=a.detectRetina&&H.retina?2:1,y=this.getTileSize();u.width=y.x*m,u.height=y.y*m,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Qr.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),u=this._crs,h=oe(u.project(a[0]),u.project(a[1])),m=h.min,y=h.max,S=(this._wmsVersion>=1.3&&this._crs===Pf?[m.y,m.x,y.y,y.x]:[m.x,m.y,y.x,y.y]).join(","),C=Qr.prototype.getTileUrl.call(this,i);return C+I(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(i,a){return s(this.wmsParams,i),a||this.redraw(),this}});function Ew(i,a){return new Mf(i,a)}Qr.WMS=Mf,Af.wms=Ew;var ln=Mt.extend({options:{padding:.1},initialize:function(i){E(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var u=this._map.getZoomScale(a,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,a),y=h.multiplyBy(-u).add(m).subtract(this._map._getNewPixelOrigin(i,a));H.any3d?cr(this._container,y,u):Oe(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new G(u,u.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Df=ln.extend({options:{tolerance:0},getEvents:function(){var i=ln.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Q(i,"mousemove",this._onMouseMove,this),Q(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Q(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,ke(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var i=this._bounds,a=this._container,u=i.getSize(),h=H.retina?2:1;Oe(a,i.min),a.width=h*u.x,a.height=h*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,u=a.next,h=a.prev;u?u.prev=h:this._drawLast=h,h?h.next=u:this._drawFirst=u,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),u=[],h,m;for(m=0;m<a.length;m++){if(h=Number(a[m]),isNaN(h))return;u.push(h)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||ce(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)i=h.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var u,h,m,y,S=i._parts,C=S.length,N=this._ctx;if(C){for(N.beginPath(),u=0;u<C;u++){for(h=0,m=S[u].length;h<m;h++)y=S[u][h],N[h?"lineTo":"moveTo"](y.x,y.y);a&&N.closePath()}this._fillStroke(N,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,u=this._ctx,h=Math.max(Math.round(i._radius),1),m=(Math.max(Math.round(i._radiusY),1)||h)/h;m!==1&&(u.save(),u.scale(1,m)),u.beginPath(),u.arc(a.x,a.y/m,h,0,Math.PI*2,!1),m!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,a){var u=a.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),u,h,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(h=u);this._fireEvent(h?[h]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var u,h,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(a)&&(h=u);h!==this._hoveredLayer&&(this._handleMouseOut(i),h&&(ee(this._container,"leaflet-interactive"),this._fireEvent([h],i,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,u){this._map._fireDOMEvent(a,u||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var u=a.next,h=a.prev;if(u)u.prev=h;else return;h?h.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var u=a.next,h=a.prev;if(h)h.next=u;else return;u?u.prev=h:h&&(this._drawLast=h),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Rf(i){return H.canvas?new Df(i):null}var rs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Tw={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=rs("shape");ee(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=rs("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;ke(a),i.removeInteractiveTarget(a),delete this._layers[d(i)]},_updateStyle:function(i){var a=i._stroke,u=i._fill,h=i.options,m=i._container;m.stroked=!!h.stroke,m.filled=!!h.fill,h.stroke?(a||(a=i._stroke=rs("stroke")),m.appendChild(a),a.weight=h.weight+"px",a.color=h.color,a.opacity=h.opacity,h.dashArray?a.dashStyle=k(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=h.lineCap.replace("butt","flat"),a.joinstyle=h.lineJoin):a&&(m.removeChild(a),i._stroke=null),h.fill?(u||(u=i._fill=rs("fill")),m.appendChild(u),u.color=h.fillColor||h.color,u.opacity=h.fillOpacity):u&&(m.removeChild(u),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),u=Math.round(i._radius),h=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+h+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){Zr(i._container)},_bringToBack:function(i){qr(i._container)}},Mo=H.vml?rs:Fh,is=ln.extend({_initContainer:function(){this._container=Mo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ke(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var i=this._bounds,a=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),Oe(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=Mo("path");i.options.className&&ee(a,i.options.className),i.options.interactive&&ee(a,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ke(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,u=i.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,$h(i._parts,a))},_updateCircle:function(i){var a=i._point,u=Math.max(Math.round(i._radius),1),h=Math.max(Math.round(i._radiusY),1)||u,m="a"+u+","+h+" 0 1,0 ",y=i._empty()?"M0 0":"M"+(a.x-u)+","+a.y+m+u*2+",0 "+m+-u*2+",0 ";this._setPath(i,y)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){Zr(i._path)},_bringToBack:function(i){qr(i._path)}});H.vml&&is.include(Tw);function zf(i){return H.svg||H.vml?new is(i):null}se.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Rf(i)||zf(i)}});var Bf=Jr.extend({initialize:function(i,a){Jr.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=pe(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Pw(i,a){return new Bf(i,a)}is.create=Mo,is.pointsToPath=$h,an.geometryToLayer=Co,an.coordsToLatLng=su,an.coordsToLatLngs=Io,an.latLngToCoords=ou,an.latLngsToCoords=No,an.getFeature=Yr,an.asFeature=Lo,se.mergeOptions({boxZoom:!0});var Ff=Kt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ki(),Ul(),this._startPoint=this._map.mouseEventToContainerPoint(i),Q(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new G(this._point,this._startPoint),u=a.getSize();Oe(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ke(this._box),Ne(this._container,"leaflet-crosshair")),Ji(),Wl(),ge(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new De(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});se.addInitHook("addHandler","boxZoom",Ff),se.mergeOptions({doubleClickZoom:!0});var $f=Kt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,u=a.getZoom(),h=a.options.zoomDelta,m=i.originalEvent.shiftKey?u-h:u+h;a.options.doubleClickZoom==="center"?a.setZoom(m):a.setZoomAround(i.containerPoint,m)}});se.addInitHook("addHandler","doubleClickZoom",$f),se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uf=Kt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Cn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ne(this._map._container,"leaflet-grab"),Ne(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=pe(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),u=this._initialWorldOffset,h=this._draggable._newPos.x,m=(h-a+u)%i+a-u,y=(h+a+u)%i-a-u,S=Math.abs(m+u)<Math.abs(y+u)?m:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(i){var a=this._map,u=a.options,h=!u.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),h)a.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,S=u.easeLinearity,C=m.multiplyBy(S/y),N=C.distanceTo([0,0]),A=Math.min(u.inertiaMaxSpeed,N),z=C.multiplyBy(A/N),q=A/(u.inertiaDeceleration*S),ne=z.multiplyBy(-q/2).round();!ne.x&&!ne.y?a.fire("moveend"):(ne=a._limitOffset(ne,a.options.maxBounds),ce(function(){a.panBy(ne,{duration:q,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});se.addInitHook("addHandler","dragging",Uf),se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wf=Kt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Q(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,u=i.scrollTop||a.scrollTop,h=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(h,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},u=this.keyCodes,h,m;for(h=0,m=u.left.length;h<m;h++)a[u.left[h]]=[-1*i,0];for(h=0,m=u.right.length;h<m;h++)a[u.right[h]]=[i,0];for(h=0,m=u.down.length;h<m;h++)a[u.down[h]]=[0,i];for(h=0,m=u.up.length;h<m;h++)a[u.up[h]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},u=this.keyCodes,h,m;for(h=0,m=u.zoomIn.length;h<m;h++)a[u.zoomIn[h]]=i;for(h=0,m=u.zoomOut.length;h<m;h++)a[u.zoomOut[h]]=-i},_addHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,u=this._map,h;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(h=this._panKeys[a],i.shiftKey&&(h=R(h).multiplyBy(3)),u.options.maxBounds&&(h=u._limitOffset(R(h),u.options.maxBounds)),u.options.worldCopyJump){var m=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(h)));u.panTo(m)}else u.panBy(h)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;fr(i)}}});se.addInitHook("addHandler","keyboard",Wf),se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hf=Kt.extend({addHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=pf(i),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var h=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),h),fr(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,y=u?Math.ceil(m/u)*u:m,S=i._limitZoom(a+(this._delta>0?y:-y))-a;this._delta=0,this._startTime=null,S&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+S):i.setZoomAround(this._lastMousePos,a+S))}});se.addInitHook("addHandler","scrollWheelZoom",Hf);var Cw=600;se.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var Vf=Kt.extend({addHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new O(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Q(document,"touchend",He),Q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Cw),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ge(document,"touchend",He),ge(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new O(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});se.addInitHook("addHandler","tapHold",Vf),se.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var Zf=Kt.extend({addHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(i.touches[0]),h=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(h)._divideBy(2))),this._startDist=u.distanceTo(h),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),He(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(i.touches[0]),h=a.mouseEventToContainerPoint(i.touches[1]),m=u.distanceTo(h)/this._startDist;if(this._zoom=a.getScaleZoom(m,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&m<1||this._zoom>a.getMaxZoom()&&m>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var y=u._add(h)._divideBy(2)._subtract(this._centerPoint);if(m===1&&y.x===0&&y.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var S=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ce(S,this,!0),He(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});se.addInitHook("addHandler","touchZoom",Zf),se.BoxZoom=Ff,se.DoubleClickZoom=$f,se.Drag=Uf,se.Keyboard=Wf,se.ScrollWheelZoom=Hf,se.TapHold=Vf,se.TouchZoom=Zf,n.Bounds=G,n.Browser=H,n.CRS=ot,n.Canvas=Df,n.Circle=iu,n.CircleMarker=Po,n.Class=X,n.Control=At,n.DivIcon=Of,n.DivOverlay=Jt,n.DomEvent=Z0,n.DomUtil=H0,n.Draggable=Cn,n.Evented=kt,n.FeatureGroup=sn,n.GeoJSON=an,n.GridLayer=ns,n.Handler=Kt,n.Icon=Kr,n.ImageOverlay=jo,n.LatLng=le,n.LatLngBounds=De,n.Layer=Mt,n.LayerGroup=Gr,n.LineUtil=sw,n.Map=se,n.Marker=To,n.Mixin=X0,n.Path=In,n.Point=O,n.PolyUtil=ew,n.Polygon=Jr,n.Polyline=on,n.Popup=Oo,n.PosAnimation=mf,n.Projection=ow,n.Rectangle=Bf,n.Renderer=ln,n.SVG=is,n.SVGOverlay=jf,n.TileLayer=Qr,n.Tooltip=Ao,n.Transformation=Nl,n.Util=V,n.VideoOverlay=Lf,n.bind=l,n.bounds=oe,n.canvas=Rf,n.circle=pw,n.circleMarker=fw,n.control=Xi,n.divIcon=Sw,n.extend=s,n.featureGroup=cw,n.geoJSON=Nf,n.geoJson=vw,n.gridLayer=kw,n.icon=dw,n.imageOverlay=_w,n.latLng=Y,n.latLngBounds=pe,n.layerGroup=uw,n.map=q0,n.marker=hw,n.point=R,n.polygon=gw,n.polyline=mw,n.popup=xw,n.rectangle=Pw,n.setOptions=E,n.stamp=d,n.svg=zf,n.svgOverlay=ww,n.tileLayer=Af,n.tooltip=bw,n.transformation=Vi,n.version=r,n.videoOverlay=yw;var Iw=window.L;n.noConflict=function(){return window.L=Iw,this},window.L=n})})(pd,pd.exports);var go=pd.exports;const El=_d(go);function Dh(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Rh(e,t){return t==null?function(r,s){const o=T.useRef();return o.current||(o.current=e(r,s)),o}:function(r,s){const o=T.useRef();o.current||(o.current=e(r,s));const l=T.useRef(r),{instance:c}=o.current;return T.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,s]),o}}function PI(e,t){T.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function r0(e){return function(n){const r=Ah(),s=e(Mh(n,r),r);return Xy(r.map,n.attribution),n0(s.current,n.eventHandlers),PI(s.current,r),s}}function CI(e,t){const n=Rh(e,t),r=r0(n);return SI(r)}function II(e,t){const n=Rh(e),r=TI(n,t);return kI(r)}function NI(e,t){const n=Rh(e,t),r=r0(n);return EI(r)}function LI(e,t,n){const{opacity:r,zIndex:s}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function jI(){return Ah().map}function OI(e){const t=jI();return T.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function md(){return md=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function AI({bounds:e,boundsOptions:t,center:n,children:r,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:f,...g},v){const[_]=T.useState({className:s,id:o,style:c}),[x,P]=T.useState(null);T.useImperativeHandle(v,()=>(x==null?void 0:x.map)??null,[x]);const E=T.useCallback(b=>{if(b!==null&&x===null){const w=new go.Map(b,g);n!=null&&f!=null?w.setView(n,f):e!=null&&w.fitBounds(e,t),d!=null&&w.whenReady(d),P(xI(w))}},[]);T.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const I=x?Ei.createElement(t0,{value:x},r):l??null;return Ei.createElement("div",md({},_,{ref:E}),I)}const i0=T.forwardRef(AI),gd=CI(function({position:t,...n},r){const s=new go.Marker(t,n);return Dh(s,bI(r,{overlayContainer:s}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Xm=II(function(t,n){const r=new go.Popup(t,n.overlayContainer);return Dh(r,n)},function(t,n,{position:r},s){T.useEffect(function(){const{instance:l}=t;function c(f){f.popup===l&&(l.update(),s(!0))}function d(f){f.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var g;n.map.off({popupopen:c,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,r])}),s0=NI(function({url:t,...n},r){const s=new go.TileLayer(t,Mh(n,r));return Dh(s,r)},function(t,n,r){LI(t,n,r);const{url:s}=n;s!=null&&s!==r.url&&t.setUrl(s)});function MI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}MI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zh=e=>typeof e=="number"&&!isNaN(e),io=e=>typeof e=="string",o0=e=>typeof e=="function",DI=e=>io(e)||zh(e),RI=e=>T.isValidElement(e)||io(e)||o0(e)||zh(e),zI=1,a0=()=>`${zI++}`,rn=new Map,vd=[],eg=new Set,l0=()=>rn.size>0,BI=(e,{containerId:t})=>{var n;return(n=rn.get(t||1))==null?void 0:n.toasts.get(e)};function FI(e,t){var n;if(t)return!!((n=rn.get(t))!=null&&n.isToastActive(e));let r=!1;return rn.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function $I(e){if(!l0()){vd=vd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||DI(e))rn.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=rn.get(e.containerId);t?t.removeToast(e.id):rn.forEach(n=>{n.removeToast(e.id)})}}var UI=(e={})=>{rn.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function WI(e,t){RI(e)&&(l0()||vd.push({content:e,options:t}),rn.forEach(n=>{n.buildToast(e,t)}))}function u0(e,t){rn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function HI(e){return eg.add(e),()=>{eg.delete(e)}}function VI(e){return e&&(io(e.toastId)||zh(e.toastId))?e.toastId:a0()}function vo(e,t){return WI(e,t),t.toastId}function Tl(e,t){return{...t,type:t&&t.type||e,toastId:VI(t)}}function Pl(e){return(t,n)=>vo(t,Tl(e,n))}function xe(e,t){return vo(e,Tl("default",t))}xe.loading=(e,t)=>vo(e,Tl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function ZI(e,{pending:t,error:n,success:r},s){let o;t&&(o=io(t)?xe.loading(t,s):xe.loading(t.render,{...s,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,g,v)=>{if(g==null){xe.dismiss(o);return}let _={type:f,...l,...s,data:v},x=io(g)?{render:g}:g;return o?xe.update(o,{..._,...x}):xe(x.render,{..._,...x}),v},d=o0(e)?e():e;return d.then(f=>c("success",r,f)).catch(f=>c("error",n,f)),d}xe.promise=ZI;xe.success=Pl("success");xe.info=Pl("info");xe.error=Pl("error");xe.warning=Pl("warning");xe.warn=xe.warning;xe.dark=(e,t)=>vo(e,Tl("default",{theme:"dark",...t}));function qI(e){$I(e)}xe.dismiss=qI;xe.clearWaitingQueue=UI;xe.isActive=FI;xe.update=(e,t={})=>{let n=BI(e,t);if(n){let{props:r,content:s}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:a0()};o.toastId!==e&&(o.staleId=e);let l=o.render||s;delete o.render,vo(l,o)}};xe.done=e=>{xe.update(e,{progress:1})};xe.onChange=HI;xe.play=e=>u0(!0,e);xe.pause=e=>u0(!1,e);delete El.Icon.Default.prototype._getIconUrl;El.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});function GI(){const[e,t]=T.useState([]),[n,r]=T.useState(null),[s,o]=T.useState(!0),[l,c]=T.useState([27.7172,85.324]),[d,f]=T.useState([]),g=Vt();T.useEffect(()=>{(async()=>{try{const{data:x,error:P}=await Z.from("sites").select("id, name, location, latitude, longitude");if(P)throw P;const E=(x||[]).filter(I=>I.latitude!==null&&I.longitude!==null);t(E)}catch(x){console.error("Error loading sites:",x),xe.error("Failed to load sites")}finally{o(!1)}})()},[]),T.useEffect(()=>{n&&(async()=>{try{const{data:x,error:P}=await Z.from("site_points").select("*").eq("site_id",n==null?void 0:n.id);if(P)throw P;f(x||[])}catch(x){console.error("Error loading points:",x),xe.error("Failed to load points")}})()},[n]);const v=_=>{r(_),_.latitude!==null&&_.longitude!==null&&c([_.latitude,_.longitude])};return p.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("button",{onClick:()=>g(-1),className:"flex items-center text-blue-600 hover:text-blue-800",children:[p.jsx(jh,{className:"w-5 h-5 mr-2"}),"Back"]}),n&&p.jsxs("button",{onClick:()=>g(`/add-point/${n.id}`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[p.jsx(xs,{className:"w-5 h-5 mr-2"}),"Add Point"]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Site Locations"}),s?p.jsx("div",{className:"flex justify-center items-center h-96",children:p.jsx("p",{className:"text-gray-500",children:"Loading map data..."})}):e.length===0?p.jsxs("div",{className:"flex flex-col justify-center items-center h-96 bg-gray-50 rounded-lg",children:[p.jsx("p",{className:"text-gray-500 mb-2",children:"No sites with location data available"}),p.jsx("p",{className:"text-sm text-gray-400",children:"Add latitude and longitude to sites to see them on the map"})]}):p.jsx("div",{className:"h-[600px] w-full rounded-lg overflow-hidden border border-gray-200",children:p.jsxs(i0,{center:l,zoom:10,style:{height:"100%",width:"100%"},children:[p.jsx(s0,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(_=>p.jsx(gd,{position:[_.latitude,_.longitude],eventHandlers:{click:()=>v(_)},children:p.jsx(Xm,{children:p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),p.jsx("p",{className:"text-sm text-gray-500",children:_.location}),p.jsx("button",{onClick:()=>g(`/add-point/${_.id}`),className:"mt-2 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Point"})]})})},_.id)),d.map(_=>p.jsx(gd,{position:[_.latitude,_.longitude],children:p.jsx(Xm,{children:p.jsx("p",{children:_.description})})},_.id))]})})]})]})})}function tg(){const{siteId:e}=N_(),t=Vt(),[n,r]=T.useState(null),[s,o]=T.useState(!0),[l,c]=T.useState(!1);T.useEffect(()=>{d()},[e]);async function d(){if(e)try{const{data:v,error:_}=await Z.from("sites").select(`
        *,
        network_devices!site_id (*),
        fiber_routes!site_id (*)
      `).eq("id",e).single();if(_)throw _;console.log(v),r(v)}catch(v){console.error("Error:",v),qe.error("Failed to load site details"),t("/admin/sites")}finally{o(!1)}}async function f(v,_){try{const{data:x}=await Z.auth.getUser();if(!(x!=null&&x.user))return;const{error:P}=await Z.from("notifications").insert({message:v,user_id:x.user.id,action_type:_,user_email:x.user.email||"",site_id:e,is_read:!1});if(P)throw P}catch(x){console.error("Error creating notification:",x)}}const g=async()=>{if(window.confirm("Are you sure you want to delete this site?"))try{await f(`Site "${n==null?void 0:n.name}" was deleted`,"SITE_DELETE");const{error:v}=await Z.from("sites").delete().eq("id",e);if(v)throw v;qe.success("Site deleted successfully"),t("/admin")}catch(v){console.error("Error:",v),qe.error("Failed to delete site")}};return s?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n?p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsx("div",{className:"mb-6",children:p.jsx("button",{onClick:()=>t("/admin"),className:"text-blue-600 hover:underline",children:"← Back"})}),p.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit Site"}),p.jsx("button",{onClick:g,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete Site"})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Location:"})," ",n.location]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Coordinates:"})," ",n.latitude,", ",n.longitude]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Power Details:"})," ",n.power_details]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Transmission:"})," ",n.transmission_details]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Technical Details"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"NEA Approval:"})," ",n.nea_details.approval_number]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Approval Date:"})," ",n.nea_details.approval_date]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Landlord:"})," ",n.landlord_details.name]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Contact:"})," ",n.landlord_details.contact]})]})]})]}),p.jsxs("div",{className:"mt-8",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Network Devices"}),n.network_devices.length>0?p.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.network_devices.map(v=>p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Name:"})," ",v.name]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Type:"})," ",v.device_type]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"IP:"})," ",v.ip_address]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Status:"})," ",v.status]})]},v.id))}):p.jsx("p",{className:"text-gray-500",children:"No network devices found"})]}),p.jsxs("div",{className:"mt-8",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Fiber Routes"}),n.fiber_routes.length>0?p.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.fiber_routes.map(v=>p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Description:"})," ",v.description]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(v.created_at).toLocaleDateString()]})]},v.id))}):p.jsx("p",{className:"text-gray-500",children:"No fiber routes found"})]})]})}),l&&p.jsx(Qy,{siteId:e,onClose:()=>c(!1),onSuccess:async()=>{await f(`Site "${n==null?void 0:n.name}" was updated`,"SITE_UPDATE"),c(!1),d(),qe.success("Site updated successfully")}})]}):p.jsxs("div",{className:"text-center py-10",children:[p.jsx("p",{className:"text-red-600",children:"Site not found"}),p.jsx("button",{onClick:()=>t("/admin"),className:"mt-4 text-blue-600 hover:underline",children:"Back"})]})}delete El.Icon.Default.prototype._getIconUrl;El.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});function KI({onLocationSelect:e}){return OI({click(t){e(t.latlng.lat,t.latlng.lng)}}),null}function JI(){const{siteId:e}=N_(),t=Vt(),[n,r]=T.useState({latitude:27.7172,longitude:85.324,description:""}),[s,o]=T.useState(!1),[l,c]=T.useState(!1);T.useEffect(()=>{l&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(g=>{r(v=>({...v,latitude:g.coords.latitude,longitude:g.coords.longitude}))},g=>{console.error("Error getting location:",g),qe.error("Failed to get GPS location")})},[l]);const d=async g=>{g.preventDefault(),o(!0);try{const{error:v}=await Z.from("site_points").insert([{site_id:e,latitude:n.latitude,longitude:n.longitude,description:n.description}]);if(v)throw v;qe.success("Point added successfully"),t(`/site-details/${e}`)}catch(v){console.error("Error adding point:",v),qe.error("Failed to add point")}finally{o(!1)}},f=(g,v)=>{r(_=>({..._,latitude:g,longitude:v}))};return p.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsx("div",{className:"flex items-center mb-6",children:p.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-blue-600 hover:text-blue-800",children:[p.jsx(jh,{className:"w-5 h-5 mr-2"}),"Back"]})}),p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Add New Point"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx("div",{children:p.jsxs("form",{onSubmit:d,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Method"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{type:"button",onClick:()=>c(!0),className:`px-4 py-2 rounded-lg ${l?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Use GPS"}),p.jsx("button",{type:"button",onClick:()=>c(!1),className:`px-4 py-2 rounded-lg ${l?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`,children:"Manual Entry"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),p.jsx("input",{type:"number",step:"any",value:n.latitude,onChange:g=>r(v=>({...v,latitude:parseFloat(g.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),p.jsx("input",{type:"number",step:"any",value:n.longitude,onChange:g=>r(v=>({...v,longitude:parseFloat(g.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),p.jsx("textarea",{value:n.description,onChange:g=>r(v=>({...v,description:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,required:!0})]}),p.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:s?"Adding Point...":"Add Point"})]})}),p.jsx("div",{className:"h-[500px] rounded-lg overflow-hidden border border-gray-200",children:p.jsxs(i0,{center:[n.latitude,n.longitude],zoom:13,style:{height:"100%",width:"100%"},children:[p.jsx(s0,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),p.jsx(KI,{onLocationSelect:f}),p.jsx(gd,{position:[n.latitude,n.longitude]})]})})]})]})]})})}const c0=6048e5,YI=864e5,ng=Symbol.for("constructDateFrom");function ir(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ng in e?e[ng](t):e instanceof Date?new e.constructor(t):new Date(t)}function Zt(e,t){return ir(t||e,e)}let QI={};function Cl(){return QI}function so(e,t){var c,d,f,g;const n=Cl(),r=(t==null?void 0:t.weekStartsOn)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,s=Zt(e,t==null?void 0:t.in),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Ga(e,t){return so(e,{...t,weekStartsOn:1})}function d0(e,t){const n=Zt(e,t==null?void 0:t.in),r=n.getFullYear(),s=ir(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=Ga(s),l=ir(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Ga(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function rg(e){const t=Zt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function XI(e,...t){const n=ir.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function ig(e,t){const n=Zt(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function eN(e,t,n){const[r,s]=XI(n==null?void 0:n.in,e,t),o=ig(r),l=ig(s),c=+o-rg(o),d=+l-rg(l);return Math.round((c-d)/YI)}function tN(e,t){const n=d0(e,t),r=ir(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ga(r)}function nN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rN(e){return!(!nN(e)&&typeof e!="number"||isNaN(+Zt(e)))}function iN(e,t){const n=Zt(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oN=(e,t,n)=>{let r;const s=sN[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Xu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cN={date:Xu({formats:aN,defaultWidth:"full"}),time:Xu({formats:lN,defaultWidth:"full"}),dateTime:Xu({formats:uN,defaultWidth:"full"})},dN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hN=(e,t,n,r)=>dN[e];function ps(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const fN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_N={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yN=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wN={ordinalNumber:yN,era:ps({values:fN,defaultWidth:"wide"}),quarter:ps({values:pN,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ps({values:mN,defaultWidth:"wide"}),day:ps({values:gN,defaultWidth:"wide"}),dayPeriod:ps({values:vN,defaultWidth:"wide",formattingValues:_N,defaultFormattingWidth:"wide"})};function ms(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const l=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?bN(c,v=>v.test(l)):xN(c,v=>v.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const g=t.slice(l.length);return{value:f,rest:g}}}function xN(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function bN(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function SN(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const kN=/^(\d+)(th|st|nd|rd)?/i,EN=/\d+/i,TN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PN={any:[/^b/i,/^(a|c)/i]},CN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IN={any:[/1/i,/2/i,/3/i,/4/i]},NN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ON={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DN={ordinalNumber:SN({matchPattern:kN,parsePattern:EN,valueCallback:e=>parseInt(e,10)}),era:ms({matchPatterns:TN,defaultMatchWidth:"wide",parsePatterns:PN,defaultParseWidth:"any"}),quarter:ms({matchPatterns:CN,defaultMatchWidth:"wide",parsePatterns:IN,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ms({matchPatterns:NN,defaultMatchWidth:"wide",parsePatterns:LN,defaultParseWidth:"any"}),day:ms({matchPatterns:jN,defaultMatchWidth:"wide",parsePatterns:ON,defaultParseWidth:"any"}),dayPeriod:ms({matchPatterns:AN,defaultMatchWidth:"any",parsePatterns:MN,defaultParseWidth:"any"})},RN={code:"en-US",formatDistance:oN,formatLong:cN,formatRelative:hN,localize:wN,match:DN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zN(e,t){const n=Zt(e,t==null?void 0:t.in);return eN(n,iN(n))+1}function BN(e,t){const n=Zt(e,t==null?void 0:t.in),r=+Ga(n)-+tN(n);return Math.round(r/c0)+1}function h0(e,t){var g,v,_,x;const n=Zt(e,t==null?void 0:t.in),r=n.getFullYear(),s=Cl(),o=(t==null?void 0:t.firstWeekContainsDate)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(_=s.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=ir((t==null?void 0:t.in)||e,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=so(l,t),d=ir((t==null?void 0:t.in)||e,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const f=so(d,t);return+n>=+c?r+1:+n>=+f?r:r-1}function FN(e,t){var c,d,f,g;const n=Cl(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,s=h0(e,t),o=ir((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),so(o,t)}function $N(e,t){const n=Zt(e,t==null?void 0:t.in),r=+so(n,t)-+FN(n,t);return Math.round(r/c0)+1}function he(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ln={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return he(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):he(n+1,2)},d(e,t){return he(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return he(e.getHours()%12||12,t.length)},H(e,t){return he(e.getHours(),t.length)},m(e,t){return he(e.getMinutes(),t.length)},s(e,t){return he(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return he(s,t.length)}},ii={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sg={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ln.y(e,t)},Y:function(e,t,n,r){const s=h0(e,r),o=s>0?s:1-s;if(t==="YY"){const l=o%100;return he(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):he(o,t.length)},R:function(e,t){const n=d0(e);return he(n,t.length)},u:function(e,t){const n=e.getFullYear();return he(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return he(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return he(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ln.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return he(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=$N(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):he(s,t.length)},I:function(e,t,n){const r=BN(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):he(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ln.d(e,t)},D:function(e,t,n){const r=zN(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):he(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return he(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return he(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return he(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ii.noon:r===0?s=ii.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ii.evening:r>=12?s=ii.afternoon:r>=4?s=ii.morning:s=ii.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ln.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ln.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):he(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):he(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ln.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ln.s(e,t)},S:function(e,t){return Ln.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ag(r);case"XXXX":case"XX":return br(r);case"XXXXX":case"XXX":default:return br(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ag(r);case"xxxx":case"xx":return br(r);case"xxxxx":case"xxx":default:return br(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+og(r,":");case"OOOO":default:return"GMT"+br(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+og(r,":");case"zzzz":default:return"GMT"+br(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return he(r,t.length)},T:function(e,t,n){return he(+e,t.length)}};function og(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+he(o,2)}function ag(e,t){return e%60===0?(e>0?"-":"+")+he(Math.abs(e)/60,2):br(e,t)}function br(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=he(Math.trunc(r/60),2),o=he(r%60,2);return n+s+t+o}const lg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},f0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},UN=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return lg(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",lg(r,t)).replace("{{time}}",f0(s,t))},WN={p:f0,P:UN},HN=/^D+$/,VN=/^Y+$/,ZN=["D","DD","YY","YYYY"];function qN(e){return HN.test(e)}function GN(e){return VN.test(e)}function KN(e,t,n){const r=JN(e,t,n);if(console.warn(r),ZN.includes(e))throw new RangeError(r)}function JN(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XN=/^'([^]*?)'?$/,eL=/''/g,tL=/[a-zA-Z]/;function nL(e,t,n){var g,v,_,x;const r=Cl(),s=r.locale??RN,o=r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=r.weekStartsOn??((x=(_=r.locale)==null?void 0:_.options)==null?void 0:x.weekStartsOn)??0,c=Zt(e,n==null?void 0:n.in);if(!rN(c))throw new RangeError("Invalid time value");let d=t.match(QN).map(P=>{const E=P[0];if(E==="p"||E==="P"){const I=WN[E];return I(P,s.formatLong)}return P}).join("").match(YN).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const E=P[0];if(E==="'")return{isToken:!1,value:rL(P)};if(sg[E])return{isToken:!0,value:P};if(E.match(tL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:P}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return d.map(P=>{if(!P.isToken)return P.value;const E=P.value;(GN(E)||qN(E))&&KN(E,t,String(e));const I=sg[E[0]];return I(c,E,s.localize,f)}).join("")}function rL(e){const t=e.match(XN);return t?t[1].replace(eL,"'"):e}function ug(){const[e,t]=T.useState([]),[n,r]=T.useState(0),[s,o]=T.useState(!1);T.useEffect(()=>{l(),c()},[]);const l=async()=>{const{data:f,error:g}=await Z.from("notifications").select("*").order("created_at",{ascending:!1}).limit(5);if(g){console.error("Error fetching notifications:",g);return}t(f),r(f.filter(v=>!v.read).length)},c=()=>{const f=Z.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},g=>{t(v=>[g.new,...v]),r(v=>v+1)}).subscribe();return()=>{f.unsubscribe()}},d=async f=>{const{error:g}=await Z.from("notifications").update({read:!0}).eq("id",f);g||(t(v=>v.map(_=>_.id===f?{..._,read:!0}:_)),r(v=>v-1))};return p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>o(!s),className:"relative p-2 text-gray-600 hover:text-gray-900 focus:outline-none",children:[p.jsx(V2,{className:"h-6 w-6"}),n>0&&p.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:n})]}),s&&p.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg py-2 z-50",children:p.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?p.jsx("p",{className:"text-center text-gray-500 py-4",children:"No notifications"}):e.map(f=>p.jsxs("div",{onClick:()=>d(f.id),className:`px-4 py-3 hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,children:[p.jsx("p",{className:"text-sm text-gray-900",children:f.message}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:nL(new Date(f.created_at),"PPpp")})]},f.id))})})]})}function gr({children:e}){const t=Vt(),{user:n,signOut:r}=Hr(),[s,o]=Ei.useState(!1);T.useEffect(()=>{(async()=>{if((n==null?void 0:n.role)==="admin"){console.log(n);const f=await cn.requestPermission();if(f){const{error:g}=await Z.from("profiles").update({fcm_token:f}).eq("id",n.id);g&&console.error("Error updating FCM token:",g.message)}}})()},[n]);const l=async()=>{await r(),t("/")},c=[{name:"Dashboard",path:(n==null?void 0:n.role)==="admin"?"/admin":"/dashboard",icon:p.jsx(q2,{className:"h-5 w-5"})},{name:"Site Map",path:"/site-map",icon:p.jsx(Yy,{className:"h-5 w-5"})},{name:"Site Images",path:"/site-images",icon:p.jsx(Oh,{className:"h-5 w-5"})}];return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsxs("nav",{className:"bg-white shadow-sm",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between h-16",children:[p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0 flex items-center",children:p.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Fiber Network Manager"})}),p.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-4",children:c.map(d=>p.jsxs(Oi,{to:d.path,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md",children:[d.icon,p.jsx("span",{className:"ml-2",children:d.name})]},d.path))})]}),p.jsxs("div",{className:"hidden sm:flex sm:items-center sm:space-x-4",children:[(n==null?void 0:n.role)==="admin"&&p.jsx(ug,{}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-sm font-medium text-gray-900",children:n==null?void 0:n.email}),p.jsx("span",{className:"text-xs text-gray-500 capitalize",children:n==null?void 0:n.role})]}),p.jsxs("button",{onClick:l,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:[p.jsx(fd,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]}),p.jsx("div",{className:"flex items-center sm:hidden",children:p.jsx("button",{onClick:()=>o(!s),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:p.jsx(K2,{className:"h-6 w-6"})})})]})}),s&&p.jsxs("div",{className:"sm:hidden",children:[p.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[(n==null?void 0:n.role)==="admin"&&p.jsx("div",{className:"px-4 py-2",children:p.jsx(ug,{})}),c.map(d=>p.jsxs(Oi,{to:d.path,className:"flex items-center px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:[d.icon,p.jsx("span",{className:"ml-2",children:d.name})]},d.path))]}),p.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[p.jsx("div",{className:"px-4 py-2",children:p.jsx("p",{className:"text-sm text-gray-500",children:n==null?void 0:n.email})}),p.jsxs("button",{onClick:l,className:"w-full flex items-center px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:[p.jsx(fd,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})]})]}),p.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e})]})}function vr({children:e,requiredRole:t}){const{user:n,loading:r}=Hr(s=>({user:s.user,loading:s.loading}));return r?p.jsx("div",{className:"h-screen flex justify-center items-center text-lg font-semibold",children:"Checking authentication..."}):n?t&&n.role!==t?(console.warn(`User role (${n.role}) does not match required role (${t}), redirecting.`),p.jsx(qc,{to:"/",replace:!0})):p.jsx(p.Fragment,{children:e}):(console.warn("User not authenticated, redirecting to login."),p.jsx(qc,{to:"/",replace:!0}))}function iL(){const e=Hr(t=>t.fetchUser);return T.useEffect(()=>{e()},[e]),p.jsxs(p.Fragment,{children:[p.jsx(U2,{position:"bottom-right",reverseOrder:!1}),p.jsx(aS,{children:p.jsxs(eS,{children:[p.jsx(Rt,{path:"/",element:p.jsx(qc,{to:"/user/login",replace:!0})}),p.jsx(Rt,{path:"/admin/login",element:p.jsx(sI,{})}),p.jsx(Rt,{path:"/user/login",element:p.jsx(oI,{})}),p.jsx(Rt,{path:"/admin",element:p.jsx(vr,{requiredRole:"admin",children:p.jsx(gr,{children:p.jsx(gI,{})})})}),p.jsx(Rt,{path:"/dashboard",element:p.jsx(vr,{children:p.jsx(gr,{children:p.jsx(_I,{})})})}),p.jsx(Rt,{path:"/site-images",element:p.jsx(vr,{children:p.jsx(gr,{children:p.jsx(yI,{})})})}),p.jsx(Rt,{path:"/site-map",element:p.jsx(vr,{children:p.jsx(gr,{children:p.jsx(GI,{})})})}),p.jsx(Rt,{path:"/site-details/:siteId",element:p.jsx(vr,{children:p.jsx(gr,{children:p.jsx(tg,{})})})}),p.jsx(Rt,{path:"/add-point/:siteId",element:p.jsx(vr,{children:p.jsx(gr,{children:p.jsx(JI,{})})})}),p.jsx(Rt,{path:"/admin/sites/:siteId",element:p.jsx(vr,{requiredRole:"admin",children:p.jsx(gr,{children:p.jsx(tg,{})})})})]})})]})}S_(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(iL,{})}));export{_d as g};
